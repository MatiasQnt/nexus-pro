{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matias\\\\nexus-pro\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext, useCallback } from 'react';\n// CORRECCIÓN: Importa BarChart2, que es el que se usa.\nimport { ShoppingCart, DollarSign, Package, Truck, BarChart2, UserPlus, LogOut, Archive, UploadCloud, CreditCard, Users } from 'lucide-react';\n\n// Importamos el contexto y los componentes de UI\nimport { ContextoAuth } from './context/AuthContext';\nimport { Button } from './components/ui/ComponentesUI';\n\n// --- IMPORTAMOS TODAS LAS PÁGINAS ---\nimport PaginaLogin from './pages/login/PaginaLogin';\nimport PuntoDeVenta from './pages/pos/PuntoDeVenta';\nimport DashboardAdmin from './pages/dashboard/Dashboard';\nimport GestionProductos from './pages/productos/GestionProductos';\nimport GestionVentas from './pages/ventas/GestionVentas';\nimport GestionProveedores from './pages/proveedores/GestionProveedores';\nimport GestionClientes from './pages/clientes/GestionClientes';\nimport ReportesYEstadisticas from './pages/reportes/ReportesYEstadisticas';\nimport GestionUsuarios from './pages/usuarios/GestionUsuarios';\nimport CierreCaja from './pages/cierre-caja/CierreCaja';\nimport ActualizacionMasivaPrecios from './pages/actualizar-precios/ActualizacionMasivaPrecios';\nimport GestionMetodosDePago from './pages/metodos-de-pago/GestionMetodosDePago';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://127.0.0.1:8000/api';\n\n// --- Componente Principal ---\nexport default function App() {\n  _s();\n  var _usuario$groups;\n  const {\n    usuario,\n    tokensAuth,\n    cerrarSesion\n  } = useContext(ContextoAuth);\n\n  // --- REGLA DE HOOKS: Todos los hooks deben estar en el nivel superior ---\n  // MOVIDOS: Todos los hooks se declaran aquí, al principio del componente.\n  const [vista, setVista] = useState('pos');\n  const [vistaAdmin, setVistaAdmin] = useState('dashboard');\n  const [productos, setProductos] = useState([]);\n  const [ventas, setVentas] = useState([]);\n  const [proveedores, setProveedores] = useState([]);\n  const [clientes, setClientes] = useState([]);\n  const [categorias, setCategorias] = useState([]);\n  const [todosLosUsuarios, setTodosLosUsuarios] = useState([]);\n  const [grupos, setGrupos] = useState([]);\n  const [metodosDePago, setMetodosDePago] = useState([]);\n  const [metodosDePagoAdmin, setMetodosDePagoAdmin] = useState([]);\n  const [cargando, setCargando] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Se puede definir la variable aquí, ya que depende de `usuario` que viene de un hook.\n  const esAdmin = usuario === null || usuario === void 0 ? void 0 : (_usuario$groups = usuario.groups) === null || _usuario$groups === void 0 ? void 0 : _usuario$groups.includes('Administradores');\n  const obtenerDatos = useCallback(async () => {\n    if (!tokensAuth) return;\n    setCargando(true);\n    let endpoints = ['products', 'sales', 'payment-methods'];\n    if (esAdmin) {\n      endpoints.push('providers', 'clients', 'categories', 'users', 'groups', 'admin/payment-methods');\n    }\n    try {\n      const requests = endpoints.map(endpoint => fetch(`${API_URL}/${endpoint}/`, {\n        headers: {\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        }\n      }).then(res => {\n        if (res.status === 401) {\n          cerrarSesion();\n          return Promise.reject(new Error(\"Token inválido\"));\n        }\n        if (!res.ok) return Promise.resolve([]);\n        return res.json();\n      }));\n      const data = await Promise.all(requests);\n      const dataMap = Object.fromEntries(endpoints.map((e, i) => [e, data[i]]));\n      setProductos(dataMap.products || []);\n      setVentas(dataMap.sales || []);\n      setMetodosDePago(dataMap['payment-methods'] || []);\n      if (esAdmin) {\n        setProveedores(dataMap.providers || []);\n        setClientes(dataMap.clients || []);\n        setCategorias(dataMap.categories || []);\n        setTodosLosUsuarios(dataMap.users || []);\n        setGrupos(dataMap.groups || []);\n        setMetodosDePagoAdmin(dataMap['admin/payment-methods'] || []);\n      }\n      setError(null);\n    } catch (err) {\n      if (err.message !== \"Token inválido\") {\n        setError(\"No se pudo conectar con el servidor.\");\n      }\n    } finally {\n      setCargando(false);\n    }\n  }, [tokensAuth, cerrarSesion, esAdmin]);\n  useEffect(() => {\n    // Solo obtener datos si hay un usuario logueado\n    if (usuario) {\n      obtenerDatos();\n    } else {\n      // Si no hay usuario, no estamos cargando datos\n      setCargando(false);\n    }\n  }, [usuario, obtenerDatos]);\n  useEffect(() => {\n    if (usuario && !esAdmin) {\n      setVista('pos');\n    }\n  }, [usuario, esAdmin]);\n\n  // --- La lógica condicional de renderizado se mueve aquí, después de todos los hooks ---\n  if (!usuario) {\n    return /*#__PURE__*/_jsxDEV(PaginaLogin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 16\n    }, this);\n  }\n  const handleVentaCompleta = async (carrito, total, idMetodoPago) => {\n    const datosVenta = {\n      total_amount: total.toFixed(2),\n      details: carrito.map(item => ({\n        product_id: item.id,\n        quantity: item.quantity,\n        unit_price: item.price.toFixed(2)\n      })),\n      payment_method_id: idMetodoPago\n    };\n    try {\n      const response = await fetch(`${API_URL}/sales/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        },\n        body: JSON.stringify(datosVenta)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert('Venta registrada.');\n      obtenerDatos();\n    } catch (err) {\n      alert(`Error: ${err.message}`);\n    }\n  };\n  const renderizarVistaAdmin = () => {\n    switch (vistaAdmin) {\n      case 'dashboard':\n        return /*#__PURE__*/_jsxDEV(DashboardAdmin, {\n          productos: productos,\n          ventas: ventas\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 38\n        }, this);\n      case 'products':\n        return /*#__PURE__*/_jsxDEV(GestionProductos, {\n          productos: productos,\n          proveedores: proveedores,\n          categorias: categorias,\n          obtenerDatos: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 37\n        }, this);\n      case 'sales':\n        return /*#__PURE__*/_jsxDEV(GestionVentas, {\n          ventas: ventas,\n          obtenerDatos: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 34\n        }, this);\n      case 'providers':\n        return /*#__PURE__*/_jsxDEV(GestionProveedores, {\n          providers: proveedores,\n          obtenerDatos: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 38\n        }, this);\n      case 'clients':\n        return /*#__PURE__*/_jsxDEV(GestionClientes, {\n          clients: clientes,\n          obtenerDatos: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 36\n        }, this);\n      case 'reports':\n        return /*#__PURE__*/_jsxDEV(ReportesYEstadisticas, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 36\n        }, this);\n      case 'users':\n        return /*#__PURE__*/_jsxDEV(GestionUsuarios, {\n          usuarios: todosLosUsuarios,\n          grupos: grupos,\n          obtenerDatos: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 34\n        }, this);\n      case 'cash-count':\n        return /*#__PURE__*/_jsxDEV(CierreCaja, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 39\n        }, this);\n      case 'bulk-price-update':\n        return /*#__PURE__*/_jsxDEV(ActualizacionMasivaPrecios, {\n          products: productos,\n          providers: proveedores,\n          fetchData: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 46\n        }, this);\n      case 'payment-methods':\n        return /*#__PURE__*/_jsxDEV(GestionMetodosDePago, {\n          paymentMethods: metodosDePagoAdmin,\n          fetchData: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 44\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(DashboardAdmin, {\n          productos: productos,\n          ventas: ventas\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }, this);\n    }\n  };\n  const NavItem = ({\n    icon: Icon,\n    children,\n    onClick,\n    active\n  }) => /*#__PURE__*/_jsxDEV(\"li\", {\n    onClick: onClick,\n    className: `flex items-center gap-3 px-4 py-3 cursor-pointer rounded-lg ${active ? 'bg-indigo-600 text-white' : 'hover:bg-gray-200'}`,\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      size: 22\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 226\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-medium\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 244\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 69\n  }, this);\n  if (cargando) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center\",\n    children: \"Cargando datos...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 26\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center text-red-500\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-100 font-sans\",\n    children: [esAdmin && vista === 'admin' && /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 bg-white shadow-xl flex flex-col p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-indigo-600 px-4 mb-6\",\n        children: [\"MiNegocio\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-light\",\n          children: \"PRO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 91\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex-grow\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(NavItem, {\n            icon: BarChart2,\n            active: vistaAdmin === 'dashboard',\n            onClick: () => setVistaAdmin('dashboard'),\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Package,\n            active: vistaAdmin === 'products',\n            onClick: () => setVistaAdmin('products'),\n            children: \"Productos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: UploadCloud,\n            active: vistaAdmin === 'bulk-price-update',\n            onClick: () => setVistaAdmin('bulk-price-update'),\n            children: \"Actualizar Precios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: DollarSign,\n            active: vistaAdmin === 'sales',\n            onClick: () => setVistaAdmin('sales'),\n            children: \"Ventas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Archive,\n            active: vistaAdmin === 'cash-count',\n            onClick: () => setVistaAdmin('cash-count'),\n            children: \"Cierre de Caja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: CreditCard,\n            active: vistaAdmin === 'payment-methods',\n            onClick: () => setVistaAdmin('payment-methods'),\n            children: \"M\\xE9todos de Pago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Truck,\n            active: vistaAdmin === 'providers',\n            onClick: () => setVistaAdmin('providers'),\n            children: \"Proveedores\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Users,\n            active: vistaAdmin === 'clients',\n            onClick: () => setVistaAdmin('clients'),\n            children: \"Clientes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: BarChart2,\n            active: vistaAdmin === 'reports',\n            onClick: () => setVistaAdmin('reports'),\n            children: \"Reportes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: UserPlus,\n            active: vistaAdmin === 'users',\n            onClick: () => setVistaAdmin('users'),\n            children: \"Usuarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-auto\",\n        children: /*#__PURE__*/_jsxDEV(NavItem, {\n          icon: ShoppingCart,\n          onClick: () => setVista('pos'),\n          children: \"Ir al Punto de Venta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white shadow-sm p-4 flex justify-between items-center z-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: esAdmin && vista === 'pos' && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setVista('admin'),\n            variant: \"secondary\",\n            children: \"Volver al Panel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-gray-700\",\n            children: usuario.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 62\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: cerrarSesion,\n            className: \"text-gray-500 hover:text-red-600\",\n            children: /*#__PURE__*/_jsxDEV(LogOut, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 209\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 133\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-6 overflow-y-auto\",\n        children: vista === 'pos' || !esAdmin ? /*#__PURE__*/_jsxDEV(PuntoDeVenta, {\n          productos: productos,\n          metodosDePago: metodosDePago,\n          onVentaCompleta: handleVentaCompleta\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 92\n        }, this) : renderizarVistaAdmin()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"XLuT90eWoZlkF1O/7ptQzoDIE34=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useCallback","ShoppingCart","DollarSign","Package","Truck","BarChart2","UserPlus","LogOut","Archive","UploadCloud","CreditCard","Users","ContextoAuth","Button","PaginaLogin","PuntoDeVenta","DashboardAdmin","GestionProductos","GestionVentas","GestionProveedores","GestionClientes","ReportesYEstadisticas","GestionUsuarios","CierreCaja","ActualizacionMasivaPrecios","GestionMetodosDePago","jsxDEV","_jsxDEV","API_URL","App","_s","_usuario$groups","usuario","tokensAuth","cerrarSesion","vista","setVista","vistaAdmin","setVistaAdmin","productos","setProductos","ventas","setVentas","proveedores","setProveedores","clientes","setClientes","categorias","setCategorias","todosLosUsuarios","setTodosLosUsuarios","grupos","setGrupos","metodosDePago","setMetodosDePago","metodosDePagoAdmin","setMetodosDePagoAdmin","cargando","setCargando","error","setError","esAdmin","groups","includes","obtenerDatos","endpoints","push","requests","map","endpoint","fetch","headers","String","access","then","res","status","Promise","reject","Error","ok","resolve","json","data","all","dataMap","Object","fromEntries","e","i","products","sales","providers","clients","categories","users","err","message","fileName","_jsxFileName","lineNumber","columnNumber","handleVentaCompleta","carrito","total","idMetodoPago","datosVenta","total_amount","toFixed","details","item","product_id","id","quantity","unit_price","price","payment_method_id","response","method","body","JSON","stringify","errorData","alert","renderizarVistaAdmin","usuarios","fetchData","paymentMethods","NavItem","icon","Icon","children","onClick","active","className","size","variant","username","onVentaCompleta","_c","$RefreshReg$"],"sources":["C:/Users/Matias/nexus-pro/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useCallback } from 'react';\n// CORRECCIÓN: Importa BarChart2, que es el que se usa.\nimport { ShoppingCart, DollarSign, Package, Truck, BarChart2, UserPlus, LogOut, Archive, UploadCloud, CreditCard, Users } from 'lucide-react';\n\n// Importamos el contexto y los componentes de UI\nimport { ContextoAuth } from './context/AuthContext';\nimport { Button } from './components/ui/ComponentesUI';\n\n// --- IMPORTAMOS TODAS LAS PÁGINAS ---\nimport PaginaLogin from './pages/login/PaginaLogin';\nimport PuntoDeVenta from './pages/pos/PuntoDeVenta';\nimport DashboardAdmin from './pages/dashboard/Dashboard';\nimport GestionProductos from './pages/productos/GestionProductos';\nimport GestionVentas from './pages/ventas/GestionVentas';\nimport GestionProveedores from './pages/proveedores/GestionProveedores';\nimport GestionClientes from './pages/clientes/GestionClientes';\nimport ReportesYEstadisticas from './pages/reportes/ReportesYEstadisticas';\nimport GestionUsuarios from './pages/usuarios/GestionUsuarios';\nimport CierreCaja from './pages/cierre-caja/CierreCaja';\nimport ActualizacionMasivaPrecios from './pages/actualizar-precios/ActualizacionMasivaPrecios';\nimport GestionMetodosDePago from './pages/metodos-de-pago/GestionMetodosDePago';\n\nconst API_URL = 'http://127.0.0.1:8000/api';\n\n// --- Componente Principal ---\nexport default function App() {\n    const { usuario, tokensAuth, cerrarSesion } = useContext(ContextoAuth);\n\n    // --- REGLA DE HOOKS: Todos los hooks deben estar en el nivel superior ---\n    // MOVIDOS: Todos los hooks se declaran aquí, al principio del componente.\n    const [vista, setVista] = useState('pos');\n    const [vistaAdmin, setVistaAdmin] = useState('dashboard');\n    const [productos, setProductos] = useState([]);\n    const [ventas, setVentas] = useState([]);\n    const [proveedores, setProveedores] = useState([]);\n    const [clientes, setClientes] = useState([]);\n    const [categorias, setCategorias] = useState([]);\n    const [todosLosUsuarios, setTodosLosUsuarios] = useState([]);\n    const [grupos, setGrupos] = useState([]);\n    const [metodosDePago, setMetodosDePago] = useState([]);\n    const [metodosDePagoAdmin, setMetodosDePagoAdmin] = useState([]);\n    const [cargando, setCargando] = useState(true);\n    const [error, setError] = useState(null);\n\n    // Se puede definir la variable aquí, ya que depende de `usuario` que viene de un hook.\n    const esAdmin = usuario?.groups?.includes('Administradores');\n\n    const obtenerDatos = useCallback(async () => {\n        if (!tokensAuth) return;\n        setCargando(true);\n        \n        let endpoints = ['products', 'sales', 'payment-methods'];\n        if (esAdmin) {\n            endpoints.push('providers', 'clients', 'categories', 'users', 'groups', 'admin/payment-methods');\n        }\n        try {\n            const requests = endpoints.map(endpoint => \n                fetch(`${API_URL}/${endpoint}/`, { headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) } }).then(res => {\n                    if(res.status === 401) { cerrarSesion(); return Promise.reject(new Error(\"Token inválido\")); }\n                    if (!res.ok) return Promise.resolve([]);\n                    return res.json()\n                })\n            );\n            \n            const data = await Promise.all(requests);\n            const dataMap = Object.fromEntries(endpoints.map((e, i) => [e, data[i]]));\n\n            setProductos(dataMap.products || []); \n            setVentas(dataMap.sales || []);\n            setMetodosDePago(dataMap['payment-methods'] || []);\n            if(esAdmin) {\n                setProveedores(dataMap.providers || []); \n                setClientes(dataMap.clients || []); \n                setCategorias(dataMap.categories || []); \n                setTodosLosUsuarios(dataMap.users || []);\n                setGrupos(dataMap.groups || []);\n                setMetodosDePagoAdmin(dataMap['admin/payment-methods'] || []);\n            }\n            setError(null);\n        } catch (err) {\n            if (err.message !== \"Token inválido\") { setError(\"No se pudo conectar con el servidor.\"); }\n        } finally { \n            setCargando(false); \n        }\n    }, [tokensAuth, cerrarSesion, esAdmin]); \n\n    useEffect(() => {\n        // Solo obtener datos si hay un usuario logueado\n        if (usuario) {\n            obtenerDatos();\n        } else {\n            // Si no hay usuario, no estamos cargando datos\n            setCargando(false);\n        }\n    }, [usuario, obtenerDatos]);\n    \n    useEffect(() => { \n        if (usuario && !esAdmin) {\n            setVista('pos'); \n        }\n    }, [usuario, esAdmin]);\n\n    // --- La lógica condicional de renderizado se mueve aquí, después de todos los hooks ---\n    if (!usuario) {\n        return <PaginaLogin />;\n    }\n\n    const handleVentaCompleta = async (carrito, total, idMetodoPago) => {\n        const datosVenta = { total_amount: total.toFixed(2), details: carrito.map(item => ({ product_id: item.id, quantity: item.quantity, unit_price: item.price.toFixed(2) })), payment_method_id: idMetodoPago };\n        try {\n            const response = await fetch(`${API_URL}/sales/`, { method: 'POST', headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(tokensAuth.access) }, body: JSON.stringify(datosVenta) });\n            if (!response.ok) { const errorData = await response.json(); throw new Error(JSON.stringify(errorData)); }\n            alert('Venta registrada.'); \n            obtenerDatos();\n        } catch (err) { alert(`Error: ${err.message}`); }\n    };\n    \n    const renderizarVistaAdmin = () => {\n        switch (vistaAdmin) {\n            case 'dashboard': return <DashboardAdmin productos={productos} ventas={ventas} />;\n            case 'products': return <GestionProductos productos={productos} proveedores={proveedores} categorias={categorias} obtenerDatos={obtenerDatos} />;\n            case 'sales': return <GestionVentas ventas={ventas} obtenerDatos={obtenerDatos}/>;\n            case 'providers': return <GestionProveedores providers={proveedores} obtenerDatos={obtenerDatos} />;\n            case 'clients': return <GestionClientes clients={clientes} obtenerDatos={obtenerDatos} />;\n            case 'reports': return <ReportesYEstadisticas />;\n            case 'users': return <GestionUsuarios usuarios={todosLosUsuarios} grupos={grupos} obtenerDatos={obtenerDatos} />;\n            case 'cash-count': return <CierreCaja />;\n            case 'bulk-price-update': return <ActualizacionMasivaPrecios products={productos} providers={proveedores} fetchData={obtenerDatos} />;\n            case 'payment-methods': return <GestionMetodosDePago paymentMethods={metodosDePagoAdmin} fetchData={obtenerDatos} />;\n            default: return <DashboardAdmin productos={productos} ventas={ventas}/>;\n        }\n    };\n\n    const NavItem = ({ icon: Icon, children, onClick, active }) => (<li onClick={onClick} className={`flex items-center gap-3 px-4 py-3 cursor-pointer rounded-lg ${active ? 'bg-indigo-600 text-white' : 'hover:bg-gray-200'}`}><Icon size={22} /><span className=\"font-medium\">{children}</span></li>);\n\n    if (cargando) return <div className=\"min-h-screen flex items-center justify-center\">Cargando datos...</div>\n    if (error) return <div className=\"min-h-screen flex items-center justify-center text-red-500\">{error}</div>\n\n    return (\n        <div className=\"flex h-screen bg-gray-100 font-sans\">\n            {esAdmin && vista === 'admin' && (\n                <aside className=\"w-64 bg-white shadow-xl flex flex-col p-4\">\n                    <h1 className=\"text-2xl font-bold text-indigo-600 px-4 mb-6\">MiNegocio<span className=\"font-light\">PRO</span></h1>\n                    <nav className=\"flex-grow\"><ul className=\"space-y-2\">\n                        <NavItem icon={BarChart2} active={vistaAdmin === 'dashboard'} onClick={() => setVistaAdmin('dashboard')}>Dashboard</NavItem>\n                        <NavItem icon={Package} active={vistaAdmin === 'products'} onClick={() => setVistaAdmin('products')}>Productos</NavItem>\n                        <NavItem icon={UploadCloud} active={vistaAdmin === 'bulk-price-update'} onClick={() => setVistaAdmin('bulk-price-update')}>Actualizar Precios</NavItem>\n                        <NavItem icon={DollarSign} active={vistaAdmin === 'sales'} onClick={() => setVistaAdmin('sales')}>Ventas</NavItem>\n                        <NavItem icon={Archive} active={vistaAdmin === 'cash-count'} onClick={() => setVistaAdmin('cash-count')}>Cierre de Caja</NavItem>\n                        <NavItem icon={CreditCard} active={vistaAdmin === 'payment-methods'} onClick={() => setVistaAdmin('payment-methods')}>Métodos de Pago</NavItem>\n                        <NavItem icon={Truck} active={vistaAdmin === 'providers'} onClick={() => setVistaAdmin('providers')}>Proveedores</NavItem>\n                        <NavItem icon={Users} active={vistaAdmin === 'clients'} onClick={() => setVistaAdmin('clients')}>Clientes</NavItem>\n                        <NavItem icon={BarChart2} active={vistaAdmin === 'reports'} onClick={() => setVistaAdmin('reports')}>Reportes</NavItem>\n                        <NavItem icon={UserPlus} active={vistaAdmin === 'users'} onClick={() => setVistaAdmin('users')}>Usuarios</NavItem>\n                    </ul></nav>\n                    <div className=\"mt-auto\"><NavItem icon={ShoppingCart} onClick={() => setVista('pos')}>Ir al Punto de Venta</NavItem></div>\n                </aside>\n            )}\n            <main className=\"flex-1 flex flex-col\">\n                <header className=\"bg-white shadow-sm p-4 flex justify-between items-center z-10\">\n                    <div>{esAdmin && vista === 'pos' && <Button onClick={() => setVista('admin')} variant=\"secondary\">Volver al Panel</Button>}</div>\n                    <div className=\"flex items-center gap-3\"><span className=\"font-semibold text-gray-700\">{usuario.username}</span><button onClick={cerrarSesion} className=\"text-gray-500 hover:text-red-600\"><LogOut size={20} /></button></div>\n                </header>\n                <div className=\"flex-1 p-6 overflow-y-auto\">{vista === 'pos' || !esAdmin ? <PuntoDeVenta productos={productos} metodosDePago={metodosDePago} onVentaCompleta={handleVentaCompleta} /> : renderizarVistaAdmin()}</div>\n            </main>\n        </div>\n    );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,EAAEC,WAAW,QAAQ,OAAO;AAC3E;AACA,SAASC,YAAY,EAAEC,UAAU,EAAEC,OAAO,EAAEC,KAAK,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,OAAO,EAAEC,WAAW,EAAEC,UAAU,EAAEC,KAAK,QAAQ,cAAc;;AAE7I;AACA,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,MAAM,QAAQ,+BAA+B;;AAEtD;AACA,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,gBAAgB,MAAM,oCAAoC;AACjE,OAAOC,aAAa,MAAM,8BAA8B;AACxD,OAAOC,kBAAkB,MAAM,wCAAwC;AACvE,OAAOC,eAAe,MAAM,kCAAkC;AAC9D,OAAOC,qBAAqB,MAAM,wCAAwC;AAC1E,OAAOC,eAAe,MAAM,kCAAkC;AAC9D,OAAOC,UAAU,MAAM,gCAAgC;AACvD,OAAOC,0BAA0B,MAAM,uDAAuD;AAC9F,OAAOC,oBAAoB,MAAM,8CAA8C;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhF,MAAMC,OAAO,GAAG,2BAA2B;;AAE3C;AACA,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,eAAA;EAC1B,MAAM;IAAEC,OAAO;IAAEC,UAAU;IAAEC;EAAa,CAAC,GAAGnC,UAAU,CAACa,YAAY,CAAC;;EAEtE;EACA;EACA,MAAM,CAACuB,KAAK,EAAEC,QAAQ,CAAC,GAAGvC,QAAQ,CAAC,KAAK,CAAC;EACzC,MAAM,CAACwC,UAAU,EAAEC,aAAa,CAAC,GAAGzC,QAAQ,CAAC,WAAW,CAAC;EACzD,MAAM,CAAC0C,SAAS,EAAEC,YAAY,CAAC,GAAG3C,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC4C,MAAM,EAAEC,SAAS,CAAC,GAAG7C,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC8C,WAAW,EAAEC,cAAc,CAAC,GAAG/C,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACgD,QAAQ,EAAEC,WAAW,CAAC,GAAGjD,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACkD,UAAU,EAAEC,aAAa,CAAC,GAAGnD,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACoD,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrD,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACsD,MAAM,EAAEC,SAAS,CAAC,GAAGvD,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACwD,aAAa,EAAEC,gBAAgB,CAAC,GAAGzD,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC0D,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG3D,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAAC4D,QAAQ,EAAEC,WAAW,CAAC,GAAG7D,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC8D,KAAK,EAAEC,QAAQ,CAAC,GAAG/D,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAMgE,OAAO,GAAG7B,OAAO,aAAPA,OAAO,wBAAAD,eAAA,GAAPC,OAAO,CAAE8B,MAAM,cAAA/B,eAAA,uBAAfA,eAAA,CAAiBgC,QAAQ,CAAC,iBAAiB,CAAC;EAE5D,MAAMC,YAAY,GAAGhE,WAAW,CAAC,YAAY;IACzC,IAAI,CAACiC,UAAU,EAAE;IACjByB,WAAW,CAAC,IAAI,CAAC;IAEjB,IAAIO,SAAS,GAAG,CAAC,UAAU,EAAE,OAAO,EAAE,iBAAiB,CAAC;IACxD,IAAIJ,OAAO,EAAE;MACTI,SAAS,CAACC,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,QAAQ,EAAE,uBAAuB,CAAC;IACpG;IACA,IAAI;MACA,MAAMC,QAAQ,GAAGF,SAAS,CAACG,GAAG,CAACC,QAAQ,IACnCC,KAAK,CAAC,GAAG1C,OAAO,IAAIyC,QAAQ,GAAG,EAAE;QAAEE,OAAO,EAAE;UAAE,eAAe,EAAE,SAAS,GAAGC,MAAM,CAACvC,UAAU,CAACwC,MAAM;QAAE;MAAE,CAAC,CAAC,CAACC,IAAI,CAACC,GAAG,IAAI;QAClH,IAAGA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;UAAE1C,YAAY,CAAC,CAAC;UAAE,OAAO2C,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAAE;QAC7F,IAAI,CAACJ,GAAG,CAACK,EAAE,EAAE,OAAOH,OAAO,CAACI,OAAO,CAAC,EAAE,CAAC;QACvC,OAAON,GAAG,CAACO,IAAI,CAAC,CAAC;MACrB,CAAC,CACL,CAAC;MAED,MAAMC,IAAI,GAAG,MAAMN,OAAO,CAACO,GAAG,CAACjB,QAAQ,CAAC;MACxC,MAAMkB,OAAO,GAAGC,MAAM,CAACC,WAAW,CAACtB,SAAS,CAACG,GAAG,CAAC,CAACoB,CAAC,EAAEC,CAAC,KAAK,CAACD,CAAC,EAAEL,IAAI,CAACM,CAAC,CAAC,CAAC,CAAC,CAAC;MAEzEjD,YAAY,CAAC6C,OAAO,CAACK,QAAQ,IAAI,EAAE,CAAC;MACpChD,SAAS,CAAC2C,OAAO,CAACM,KAAK,IAAI,EAAE,CAAC;MAC9BrC,gBAAgB,CAAC+B,OAAO,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;MAClD,IAAGxB,OAAO,EAAE;QACRjB,cAAc,CAACyC,OAAO,CAACO,SAAS,IAAI,EAAE,CAAC;QACvC9C,WAAW,CAACuC,OAAO,CAACQ,OAAO,IAAI,EAAE,CAAC;QAClC7C,aAAa,CAACqC,OAAO,CAACS,UAAU,IAAI,EAAE,CAAC;QACvC5C,mBAAmB,CAACmC,OAAO,CAACU,KAAK,IAAI,EAAE,CAAC;QACxC3C,SAAS,CAACiC,OAAO,CAACvB,MAAM,IAAI,EAAE,CAAC;QAC/BN,qBAAqB,CAAC6B,OAAO,CAAC,uBAAuB,CAAC,IAAI,EAAE,CAAC;MACjE;MACAzB,QAAQ,CAAC,IAAI,CAAC;IAClB,CAAC,CAAC,OAAOoC,GAAG,EAAE;MACV,IAAIA,GAAG,CAACC,OAAO,KAAK,gBAAgB,EAAE;QAAErC,QAAQ,CAAC,sCAAsC,CAAC;MAAE;IAC9F,CAAC,SAAS;MACNF,WAAW,CAAC,KAAK,CAAC;IACtB;EACJ,CAAC,EAAE,CAACzB,UAAU,EAAEC,YAAY,EAAE2B,OAAO,CAAC,CAAC;EAEvC/D,SAAS,CAAC,MAAM;IACZ;IACA,IAAIkC,OAAO,EAAE;MACTgC,YAAY,CAAC,CAAC;IAClB,CAAC,MAAM;MACH;MACAN,WAAW,CAAC,KAAK,CAAC;IACtB;EACJ,CAAC,EAAE,CAAC1B,OAAO,EAAEgC,YAAY,CAAC,CAAC;EAE3BlE,SAAS,CAAC,MAAM;IACZ,IAAIkC,OAAO,IAAI,CAAC6B,OAAO,EAAE;MACrBzB,QAAQ,CAAC,KAAK,CAAC;IACnB;EACJ,CAAC,EAAE,CAACJ,OAAO,EAAE6B,OAAO,CAAC,CAAC;;EAEtB;EACA,IAAI,CAAC7B,OAAO,EAAE;IACV,oBAAOL,OAAA,CAACb,WAAW;MAAAoF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC1B;EAEA,MAAMC,mBAAmB,GAAG,MAAAA,CAAOC,OAAO,EAAEC,KAAK,EAAEC,YAAY,KAAK;IAChE,MAAMC,UAAU,GAAG;MAAEC,YAAY,EAAEH,KAAK,CAACI,OAAO,CAAC,CAAC,CAAC;MAAEC,OAAO,EAAEN,OAAO,CAACnC,GAAG,CAAC0C,IAAI,KAAK;QAAEC,UAAU,EAAED,IAAI,CAACE,EAAE;QAAEC,QAAQ,EAAEH,IAAI,CAACG,QAAQ;QAAEC,UAAU,EAAEJ,IAAI,CAACK,KAAK,CAACP,OAAO,CAAC,CAAC;MAAE,CAAC,CAAC,CAAC;MAAEQ,iBAAiB,EAAEX;IAAa,CAAC;IAC3M,IAAI;MACA,MAAMY,QAAQ,GAAG,MAAM/C,KAAK,CAAC,GAAG1C,OAAO,SAAS,EAAE;QAAE0F,MAAM,EAAE,MAAM;QAAE/C,OAAO,EAAE;UAAE,cAAc,EAAE,kBAAkB;UAAE,eAAe,EAAE,SAAS,GAAGC,MAAM,CAACvC,UAAU,CAACwC,MAAM;QAAE,CAAC;QAAE8C,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACf,UAAU;MAAE,CAAC,CAAC;MAChN,IAAI,CAACW,QAAQ,CAACrC,EAAE,EAAE;QAAE,MAAM0C,SAAS,GAAG,MAAML,QAAQ,CAACnC,IAAI,CAAC,CAAC;QAAE,MAAM,IAAIH,KAAK,CAACyC,IAAI,CAACC,SAAS,CAACC,SAAS,CAAC,CAAC;MAAE;MACzGC,KAAK,CAAC,mBAAmB,CAAC;MAC1B3D,YAAY,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOgC,GAAG,EAAE;MAAE2B,KAAK,CAAC,UAAU3B,GAAG,CAACC,OAAO,EAAE,CAAC;IAAE;EACpD,CAAC;EAED,MAAM2B,oBAAoB,GAAGA,CAAA,KAAM;IAC/B,QAAQvF,UAAU;MACd,KAAK,WAAW;QAAE,oBAAOV,OAAA,CAACX,cAAc;UAACuB,SAAS,EAAEA,SAAU;UAACE,MAAM,EAAEA;QAAO;UAAAyD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACjF,KAAK,UAAU;QAAE,oBAAO1E,OAAA,CAACV,gBAAgB;UAACsB,SAAS,EAAEA,SAAU;UAACI,WAAW,EAAEA,WAAY;UAACI,UAAU,EAAEA,UAAW;UAACiB,YAAY,EAAEA;QAAa;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAChJ,KAAK,OAAO;QAAE,oBAAO1E,OAAA,CAACT,aAAa;UAACuB,MAAM,EAAEA,MAAO;UAACuB,YAAY,EAAEA;QAAa;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MACjF,KAAK,WAAW;QAAE,oBAAO1E,OAAA,CAACR,kBAAkB;UAACyE,SAAS,EAAEjD,WAAY;UAACqB,YAAY,EAAEA;QAAa;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACnG,KAAK,SAAS;QAAE,oBAAO1E,OAAA,CAACP,eAAe;UAACyE,OAAO,EAAEhD,QAAS;UAACmB,YAAY,EAAEA;QAAa;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACzF,KAAK,SAAS;QAAE,oBAAO1E,OAAA,CAACN,qBAAqB;UAAA6E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAChD,KAAK,OAAO;QAAE,oBAAO1E,OAAA,CAACL,eAAe;UAACuG,QAAQ,EAAE5E,gBAAiB;UAACE,MAAM,EAAEA,MAAO;UAACa,YAAY,EAAEA;QAAa;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAChH,KAAK,YAAY;QAAE,oBAAO1E,OAAA,CAACJ,UAAU;UAAA2E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACxC,KAAK,mBAAmB;QAAE,oBAAO1E,OAAA,CAACH,0BAA0B;UAACkE,QAAQ,EAAEnD,SAAU;UAACqD,SAAS,EAAEjD,WAAY;UAACmF,SAAS,EAAE9D;QAAa;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACrI,KAAK,iBAAiB;QAAE,oBAAO1E,OAAA,CAACF,oBAAoB;UAACsG,cAAc,EAAExE,kBAAmB;UAACuE,SAAS,EAAE9D;QAAa;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACpH;QAAS,oBAAO1E,OAAA,CAACX,cAAc;UAACuB,SAAS,EAAEA,SAAU;UAACE,MAAM,EAAEA;QAAO;UAAAyD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;IAC3E;EACJ,CAAC;EAED,MAAM2B,OAAO,GAAGA,CAAC;IAAEC,IAAI,EAAEC,IAAI;IAAEC,QAAQ;IAAEC,OAAO;IAAEC;EAAO,CAAC,kBAAM1G,OAAA;IAAIyG,OAAO,EAAEA,OAAQ;IAACE,SAAS,EAAE,+DAA+DD,MAAM,GAAG,0BAA0B,GAAG,mBAAmB,EAAG;IAAAF,QAAA,gBAACxG,OAAA,CAACuG,IAAI;MAACK,IAAI,EAAE;IAAG;MAAArC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAAA1E,OAAA;MAAM2G,SAAS,EAAC,aAAa;MAAAH,QAAA,EAAEA;IAAQ;MAAAjC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAE;EAEpS,IAAI5C,QAAQ,EAAE,oBAAO9B,OAAA;IAAK2G,SAAS,EAAC,+CAA+C;IAAAH,QAAA,EAAC;EAAiB;IAAAjC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAC3G,IAAI1C,KAAK,EAAE,oBAAOhC,OAAA;IAAK2G,SAAS,EAAC,4DAA4D;IAAAH,QAAA,EAAExE;EAAK;IAAAuC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;EAE3G,oBACI1E,OAAA;IAAK2G,SAAS,EAAC,qCAAqC;IAAAH,QAAA,GAC/CtE,OAAO,IAAI1B,KAAK,KAAK,OAAO,iBACzBR,OAAA;MAAO2G,SAAS,EAAC,2CAA2C;MAAAH,QAAA,gBACxDxG,OAAA;QAAI2G,SAAS,EAAC,8CAA8C;QAAAH,QAAA,GAAC,WAAS,eAAAxG,OAAA;UAAM2G,SAAS,EAAC,YAAY;UAAAH,QAAA,EAAC;QAAG;UAAAjC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClH1E,OAAA;QAAK2G,SAAS,EAAC,WAAW;QAAAH,QAAA,eAACxG,OAAA;UAAI2G,SAAS,EAAC,WAAW;UAAAH,QAAA,gBAChDxG,OAAA,CAACqG,OAAO;YAACC,IAAI,EAAE5H,SAAU;YAACgI,MAAM,EAAEhG,UAAU,KAAK,WAAY;YAAC+F,OAAO,EAAEA,CAAA,KAAM9F,aAAa,CAAC,WAAW,CAAE;YAAA6F,QAAA,EAAC;UAAS;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eAC5H1E,OAAA,CAACqG,OAAO;YAACC,IAAI,EAAE9H,OAAQ;YAACkI,MAAM,EAAEhG,UAAU,KAAK,UAAW;YAAC+F,OAAO,EAAEA,CAAA,KAAM9F,aAAa,CAAC,UAAU,CAAE;YAAA6F,QAAA,EAAC;UAAS;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eACxH1E,OAAA,CAACqG,OAAO;YAACC,IAAI,EAAExH,WAAY;YAAC4H,MAAM,EAAEhG,UAAU,KAAK,mBAAoB;YAAC+F,OAAO,EAAEA,CAAA,KAAM9F,aAAa,CAAC,mBAAmB,CAAE;YAAA6F,QAAA,EAAC;UAAkB;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eACvJ1E,OAAA,CAACqG,OAAO;YAACC,IAAI,EAAE/H,UAAW;YAACmI,MAAM,EAAEhG,UAAU,KAAK,OAAQ;YAAC+F,OAAO,EAAEA,CAAA,KAAM9F,aAAa,CAAC,OAAO,CAAE;YAAA6F,QAAA,EAAC;UAAM;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eAClH1E,OAAA,CAACqG,OAAO;YAACC,IAAI,EAAEzH,OAAQ;YAAC6H,MAAM,EAAEhG,UAAU,KAAK,YAAa;YAAC+F,OAAO,EAAEA,CAAA,KAAM9F,aAAa,CAAC,YAAY,CAAE;YAAA6F,QAAA,EAAC;UAAc;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eACjI1E,OAAA,CAACqG,OAAO;YAACC,IAAI,EAAEvH,UAAW;YAAC2H,MAAM,EAAEhG,UAAU,KAAK,iBAAkB;YAAC+F,OAAO,EAAEA,CAAA,KAAM9F,aAAa,CAAC,iBAAiB,CAAE;YAAA6F,QAAA,EAAC;UAAe;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eAC/I1E,OAAA,CAACqG,OAAO;YAACC,IAAI,EAAE7H,KAAM;YAACiI,MAAM,EAAEhG,UAAU,KAAK,WAAY;YAAC+F,OAAO,EAAEA,CAAA,KAAM9F,aAAa,CAAC,WAAW,CAAE;YAAA6F,QAAA,EAAC;UAAW;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eAC1H1E,OAAA,CAACqG,OAAO;YAACC,IAAI,EAAEtH,KAAM;YAAC0H,MAAM,EAAEhG,UAAU,KAAK,SAAU;YAAC+F,OAAO,EAAEA,CAAA,KAAM9F,aAAa,CAAC,SAAS,CAAE;YAAA6F,QAAA,EAAC;UAAQ;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eACnH1E,OAAA,CAACqG,OAAO;YAACC,IAAI,EAAE5H,SAAU;YAACgI,MAAM,EAAEhG,UAAU,KAAK,SAAU;YAAC+F,OAAO,EAAEA,CAAA,KAAM9F,aAAa,CAAC,SAAS,CAAE;YAAA6F,QAAA,EAAC;UAAQ;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eACvH1E,OAAA,CAACqG,OAAO;YAACC,IAAI,EAAE3H,QAAS;YAAC+H,MAAM,EAAEhG,UAAU,KAAK,OAAQ;YAAC+F,OAAO,EAAEA,CAAA,KAAM9F,aAAa,CAAC,OAAO,CAAE;YAAA6F,QAAA,EAAC;UAAQ;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACX1E,OAAA;QAAK2G,SAAS,EAAC,SAAS;QAAAH,QAAA,eAACxG,OAAA,CAACqG,OAAO;UAACC,IAAI,EAAEhI,YAAa;UAACmI,OAAO,EAAEA,CAAA,KAAMhG,QAAQ,CAAC,KAAK,CAAE;UAAA+F,QAAA,EAAC;QAAoB;UAAAjC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvH,CACV,eACD1E,OAAA;MAAM2G,SAAS,EAAC,sBAAsB;MAAAH,QAAA,gBAClCxG,OAAA;QAAQ2G,SAAS,EAAC,+DAA+D;QAAAH,QAAA,gBAC7ExG,OAAA;UAAAwG,QAAA,EAAMtE,OAAO,IAAI1B,KAAK,KAAK,KAAK,iBAAIR,OAAA,CAACd,MAAM;YAACuH,OAAO,EAAEA,CAAA,KAAMhG,QAAQ,CAAC,OAAO,CAAE;YAACoG,OAAO,EAAC,WAAW;YAAAL,QAAA,EAAC;UAAe;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjI1E,OAAA;UAAK2G,SAAS,EAAC,yBAAyB;UAAAH,QAAA,gBAACxG,OAAA;YAAM2G,SAAS,EAAC,6BAA6B;YAAAH,QAAA,EAAEnG,OAAO,CAACyG;UAAQ;YAAAvC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAA1E,OAAA;YAAQyG,OAAO,EAAElG,YAAa;YAACoG,SAAS,EAAC,kCAAkC;YAAAH,QAAA,eAACxG,OAAA,CAACpB,MAAM;cAACgI,IAAI,EAAE;YAAG;cAAArC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3N,CAAC,eACT1E,OAAA;QAAK2G,SAAS,EAAC,4BAA4B;QAAAH,QAAA,EAAEhG,KAAK,KAAK,KAAK,IAAI,CAAC0B,OAAO,gBAAGlC,OAAA,CAACZ,YAAY;UAACwB,SAAS,EAAEA,SAAU;UAACc,aAAa,EAAEA,aAAc;UAACqF,eAAe,EAAEpC;QAAoB;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,GAAGuB,oBAAoB,CAAC;MAAC;QAAA1B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEd;AAACvE,EAAA,CA9IuBD,GAAG;AAAA8G,EAAA,GAAH9G,GAAG;AAAA,IAAA8G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}