{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matias\\\\nexus-pro\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$(),\n  _s10 = $RefreshSig$(),\n  _s11 = $RefreshSig$(),\n  _s12 = $RefreshSig$(),\n  _s13 = $RefreshSig$(),\n  _s14 = $RefreshSig$(),\n  _s15 = $RefreshSig$(),\n  _s16 = $RefreshSig$();\nimport React, { useState, useEffect, useContext, createContext, useCallback } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { Search, PlusCircle, Trash2, Edit, ShoppingCart, DollarSign, Package, Truck, BarChart2, UserPlus, LogOut, CheckCircle, Eye, EyeOff, Users, Activity, TrendingUp, Archive, UploadCloud, CreditCard } from 'lucide-react';\n\n// Importamos nuestros módulos refactorizados\nimport { ContextoAuth } from './context/AuthContext';\nimport { Card, Button, Modal, Table, StatCard } from './components/ui/ComponentesUI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://127.0.0.1:8000/api';\n\n// --- Componentes específicos de la aplicación ---\n\n// --- Función para decodificar JWT de forma segura ---\nconst decodificarToken = token => {\n  try {\n    // Esta función decodifica la parte 'payload' de un token JWT.\n    // atob() decodifica una cadena de texto que ha sido codificada en base-64.\n    // El token se divide por los puntos, y tomamos la segunda parte (el payload).\n    return JSON.parse(atob(token.split('.')[1]));\n  } catch (e) {\n    console.error(\"Error al decodificar el token:\", e);\n    return null;\n  }\n};\nconst PaginaLogin = () => {\n  _s();\n  const {\n    iniciarSesion\n  } = useContext(ContextoAuth);\n  const [passwordVisible, setPasswordVisible] = useState(false);\n  const handleSubmit = e => {\n    e.preventDefault();\n    iniciarSesion(e.target.username.value, e.target.password.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-100 min-h-screen flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"text-center w-full max-w-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold mb-2 text-indigo-600\",\n        children: [\"MiNegocio\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-light\",\n          children: \"PRO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 82\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 mb-6\",\n        children: \"Inicia sesi\\xF3n para continuar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          required: true,\n          className: \"w-full p-3 border rounded-lg\",\n          placeholder: \"Nombre de usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: passwordVisible ? \"text\" : \"password\",\n            name: \"password\",\n            required: true,\n            className: \"w-full p-3 border rounded-lg pr-10\",\n            placeholder: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => setPasswordVisible(!passwordVisible),\n            className: \"absolute top-1/2 right-3 -translate-y-1/2 cursor-pointer text-gray-400 hover:text-gray-600\",\n            children: passwordVisible ? /*#__PURE__*/_jsxDEV(EyeOff, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 48\n            }, this) : /*#__PURE__*/_jsxDEV(Eye, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 71\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: \"w-full text-lg\",\n          variant: \"primary\",\n          children: \"Ingresar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n_s(PaginaLogin, \"yi1odC2bex/P9wjn0cEH3ZYPXz0=\");\n_c = PaginaLogin;\nconst PuntoDeVenta = ({\n  productos,\n  metodosDePago,\n  onVentaCompleta\n}) => {\n  _s2();\n  var _metodosDePago$;\n  const [carrito, setCarrito] = useState([]);\n  const [terminoBusqueda, setTerminoBusqueda] = useState('');\n  const [modalPagoAbierto, setModalPagoAbierto] = useState(false);\n  const [efectivoRecibido, setEfectivoRecibido] = useState(0);\n  const [idMetodoPago, setIdMetodoPago] = useState(((_metodosDePago$ = metodosDePago[0]) === null || _metodosDePago$ === void 0 ? void 0 : _metodosDePago$.id) || '');\n  const productosFiltrados = productos.filter(p => p.name.toLowerCase().includes(terminoBusqueda.toLowerCase()) || p.sku.toLowerCase().includes(terminoBusqueda.toLowerCase()));\n  const agregarACarrito = producto => {\n    if (producto.stock <= 0) {\n      alert(`El producto \"${producto.name}\" no tiene stock.`);\n      return;\n    }\n    setCarrito(carritoActual => {\n      const itemExistente = carritoActual.find(item => item.id === producto.id);\n      if (itemExistente) {\n        if (itemExistente.quantity >= producto.stock) {\n          alert(`No puedes agregar más unidades.`);\n          return carritoActual;\n        }\n        return carritoActual.map(item => item.id === producto.id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item);\n      }\n      return [...carritoActual, {\n        ...producto,\n        quantity: 1,\n        price: parseFloat(producto.sale_price)\n      }];\n    });\n  };\n  const procesarPago = () => {\n    if (carrito.length === 0) {\n      alert(\"El carrito está vacío.\");\n      return;\n    }\n    if (!idMetodoPago) {\n      alert(\"Por favor, selecciona un método de pago.\");\n      return;\n    }\n    onVentaCompleta(carrito, subtotal, idMetodoPago);\n    setCarrito([]);\n    setTerminoBusqueda('');\n    setModalPagoAbierto(false);\n    setEfectivoRecibido(0);\n  };\n  const subtotal = carrito.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const metodoSeleccionado = metodosDePago.find(pm => pm.id === parseInt(idMetodoPago));\n  const porcentajeAjuste = metodoSeleccionado ? parseFloat(metodoSeleccionado.adjustment_percentage) : 0;\n  const totalFinal = subtotal * (1 + porcentajeAjuste / 100);\n  const vuelto = efectivoRecibido > totalFinal ? efectivoRecibido - totalFinal : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-100px)]\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lg:col-span-2 bg-gray-50 p-4 rounded-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\",\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 101\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Buscar producto por nombre o SKU...\",\n          className: \"w-full pl-10 pr-4 py-2 border rounded-lg\",\n          value: terminoBusqueda,\n          onChange: e => setTerminoBusqueda(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 187\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 70\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto h-[calc(100%-60px)] pr-2\",\n        children: productosFiltrados.map(producto => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => agregarACarrito(producto),\n          className: `p-3 rounded-lg shadow-sm border-2 text-center ${producto.stock > 0 ? 'cursor-pointer hover:shadow-lg bg-white' : 'bg-gray-200 opacity-60'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold text-gray-800 truncate\",\n            children: producto.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 760\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"$\", parseFloat(producto.sale_price).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 827\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-xs ${producto.stock <= 5 ? 'text-red-500 font-bold' : 'text-gray-500'}`,\n            children: [\"Stock: \", producto.stock]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 913\n          }, this)]\n        }, producto.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 542\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 394\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 123\n        }, this), \" Venta Actual\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 45\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow overflow-y-auto border-t border-b py-2\",\n        children: carrito.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-center py-10\",\n          children: \"El carrito est\\xE1 vac\\xEDo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 256\n        }, this) : carrito.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-2 p-2 rounded-md hover:bg-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 459\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"$\", item.price.toFixed(2), \" x \", item.quantity]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 503\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 454\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: [\"$\", (item.price * item.quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 633\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCarrito(carrito.filter(c => c.id !== item.id)),\n              className: \"text-red-500 hover:text-red-700\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 822\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 704\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 592\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 351\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 166\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-auto pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-2xl font-bold mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"SUBTOTAL:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 963\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", subtotal.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 985\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 901\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setModalPagoAbierto(true),\n          className: \"w-full text-lg\",\n          variant: \"success\",\n          icon: CheckCircle,\n          children: \"Cobrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 1026\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 871\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalPagoAbierto,\n      onClose: () => setModalPagoAbierto(false),\n      title: \"Procesar Pago\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right text-lg\",\n          children: [\"Subtotal: $\", subtotal.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-semibold text-gray-700\",\n            children: \"M\\xE9todo de Pago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: idMetodoPago,\n            onChange: e => setIdMetodoPago(e.target.value),\n            className: \"w-full mt-1 p-2 border rounded-lg\",\n            children: metodosDePago.map(pm => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: pm.id,\n              children: [pm.name, \" (\", pm.adjustment_percentage, \"%)\"]\n            }, pm.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 245\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 95\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), porcentajeAjuste !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-right text-lg ${porcentajeAjuste < 0 ? 'text-green-600' : 'text-red-600'}`,\n          children: [\"Ajuste: \", porcentajeAjuste > 0 ? '+' : '', porcentajeAjuste.toFixed(2), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 49\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-4xl font-bold text-indigo-600 mb-4\",\n          children: [\"$\", totalFinal.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), (metodoSeleccionado === null || metodoSeleccionado === void 0 ? void 0 : metodoSeleccionado.name) === 'Efectivo' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-semibold text-gray-700\",\n            children: \"Efectivo Recibido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 71\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: efectivoRecibido,\n            onChange: e => setEfectivoRecibido(parseFloat(e.target.value) || 0),\n            className: \"w-full mt-1 p-2 border rounded-lg\",\n            placeholder: \"0.00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 143\n          }, this), efectivoRecibido > totalFinal && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold mt-2 text-green-600\",\n            children: [\"Vuelto: $\", vuelto.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 361\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 66\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setModalPagoAbierto(false),\n            variant: \"secondary\",\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 66\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: procesarPago,\n            variant: \"success\",\n            children: \"Finalizar Venta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 154\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n};\n_s2(PuntoDeVenta, \"+saCsUrMKDyfZnv85plqUPGCUZ4=\");\n_c2 = PuntoDeVenta;\nconst GestionProductos = ({\n  productos,\n  proveedores,\n  categorias,\n  obtenerDatos\n}) => {\n  _s3();\n  const [modalAbierto, setModalAbierto] = useState(false);\n  const [productoEditando, setProductoEditando] = useState(null);\n  const {\n    tokensAuth\n  } = useContext(ContextoAuth);\n  const abrirModalNuevo = () => {\n    setProductoEditando({\n      name: '',\n      sku: '',\n      description: '',\n      cost_price: '',\n      sale_price: '',\n      stock: '',\n      category: '',\n      provider: null\n    });\n    setModalAbierto(true);\n  };\n  const abrirModalEditar = producto => {\n    setProductoEditando(producto);\n    setModalAbierto(true);\n  };\n  const guardarProducto = async datosProducto => {\n    const esEditando = !!datosProducto.id;\n    const url = esEditando ? `${API_URL}/products/${datosProducto.id}/` : `${API_URL}/products/`;\n    const method = esEditando ? 'PUT' : 'POST';\n    if (datosProducto.provider === '') datosProducto.provider = null;\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        },\n        body: JSON.stringify(datosProducto)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert(`Producto ${esEditando ? 'actualizado' : 'creado'}.`);\n      setModalAbierto(false);\n      obtenerDatos();\n    } catch (err) {\n      alert(`Error: ${err.message}`);\n    }\n  };\n  const borrarProducto = async idProducto => {\n    if (window.confirm(\"¿Estás seguro de que quieres eliminar este producto?\")) {\n      try {\n        await fetch(`${API_URL}/products/${idProducto}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(tokensAuth.access)\n          }\n        });\n        alert('Producto eliminado.');\n        obtenerDatos();\n      } catch (err) {\n        alert(`Error: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Gesti\\xF3n de Productos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 64\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: abrirModalNuevo,\n        icon: PlusCircle,\n        children: \"Nuevo Producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 138\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['SKU', 'Nombre', 'Precio Venta', 'Stock', 'Categoría', 'Acciones'],\n      data: productos,\n      renderRow: p => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: p.sku\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 196\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: p.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 234\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: [\"$\", parseFloat(p.sale_price).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 273\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full text-xs ${p.stock <= 5 ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`,\n            children: p.stock\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 368\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 342\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: p.category_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 516\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => abrirModalEditar(p),\n            className: \"text-indigo-600\",\n            children: /*#__PURE__*/_jsxDEV(Edit, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 673\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 601\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => borrarProducto(p.id),\n            className: \"text-red-600\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 769\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 699\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 564\n        }, this)]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 134\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalAbierto,\n      onClose: () => setModalAbierto(false),\n      title: productoEditando !== null && productoEditando !== void 0 && productoEditando.id ? 'Editar Producto' : 'Nuevo Producto',\n      children: productoEditando && /*#__PURE__*/_jsxDEV(FormularioProducto, {\n        producto: productoEditando,\n        onSave: guardarProducto,\n        onCancel: () => setModalAbierto(false),\n        categories: categorias,\n        providers: proveedores\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 170\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 9\n  }, this);\n};\n_s3(GestionProductos, \"m+b0l5cUaBB2bxSpbJ8qrHSOFmE=\");\n_c3 = GestionProductos;\nconst FormularioProducto = ({\n  producto,\n  onSave,\n  onCancel,\n  categories,\n  providers\n}) => {\n  _s4();\n  const [formData, setFormData] = useState(producto);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      onSave(formData);\n    },\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        value: formData.name,\n        onChange: handleChange,\n        placeholder: \"Nombre del producto\",\n        className: \"p-2 border rounded-lg w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 68\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"sku\",\n        value: formData.sku,\n        onChange: handleChange,\n        placeholder: \"SKU\",\n        className: \"p-2 border rounded-lg w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 218\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: \"description\",\n      value: formData.description || '',\n      onChange: handleChange,\n      placeholder: \"Descripci\\xF3n\",\n      className: \"p-2 border rounded-lg w-full min-h-[80px]\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 356\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"cost_price\",\n        type: \"number\",\n        step: \"0.01\",\n        value: formData.cost_price,\n        onChange: handleChange,\n        placeholder: \"Costo\",\n        className: \"p-2 border rounded-lg w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 580\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"sale_price\",\n        type: \"number\",\n        step: \"0.01\",\n        value: formData.sale_price,\n        onChange: handleChange,\n        placeholder: \"Venta\",\n        className: \"p-2 border rounded-lg w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 754\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"stock\",\n        type: \"number\",\n        value: formData.stock,\n        onChange: handleChange,\n        placeholder: \"Stock\",\n        className: \"p-2 border rounded-lg w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 928\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 525\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"category\",\n        value: formData.category,\n        onChange: handleChange,\n        className: \"p-2 border rounded-lg w-full\",\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Categor\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 1265\n        }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c.id,\n          children: c.name\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 1321\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 1141\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"provider\",\n        value: formData.provider || '',\n        onChange: handleChange,\n        className: \"p-2 border rounded-lg w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Proveedor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 1502\n        }, this), providers.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: p.id,\n          children: p.name\n        }, p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 1557\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 1381\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 1086\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: onCancel,\n        variant: \"secondary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 1668\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 1746\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 1623\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 9\n  }, this);\n};\n_s4(FormularioProducto, \"wn4j8vwTRPnB0z4f4PDAV1GqJew=\");\n_c4 = FormularioProducto;\nconst DashboardAdmin = ({\n  productos,\n  ventas\n}) => {\n  const ventasTotales = ventas.reduce((sum, sale) => sum + parseFloat(sale.final_amount), 0);\n  const datosGrafico = ventas.reduce((acc, sale) => {\n    const date = new Date(sale.date_time).toLocaleDateString('es-AR', {\n      weekday: 'short'\n    });\n    acc[date] = (acc[date] || 0) + parseFloat(sale.final_amount);\n    return acc;\n  }, {});\n  const datosFormateados = Object.keys(datosGrafico).map(day => ({\n    name: day,\n    Ventas: datosGrafico[day]\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 39\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Ventas Totales\",\n        value: `$${ventasTotales.toFixed(2)}`,\n        icon: DollarSign,\n        color: \"bg-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 172\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Transacciones\",\n        value: ventas.length,\n        icon: ShoppingCart,\n        color: \"bg-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 285\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Productos Activos\",\n        value: productos.length,\n        icon: Package,\n        color: \"bg-purple-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 381\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 102\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-800 mb-4\",\n        children: \"Ventas de la Semana\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 493\n      }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: 300,\n        children: /*#__PURE__*/_jsxDEV(BarChart, {\n          data: datosFormateados,\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 651\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 690\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 714\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            formatter: value => `$${value.toFixed(2)}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 723\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 780\n          }, this), /*#__PURE__*/_jsxDEV(Bar, {\n            dataKey: \"Ventas\",\n            fill: \"#4f46e5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 790\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 617\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 570\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 487\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 12\n  }, this);\n};\n_c5 = DashboardAdmin;\nconst GestionVentas = ({\n  sales,\n  fetchData\n}) => {\n  _s5();\n  const [viewingSale, setViewingSale] = useState(null);\n  const {\n    tokensAuth\n  } = useContext(ContextoAuth);\n  const handleCancelSale = async saleId => {\n    if (window.confirm(\"¿Estás seguro de que quieres cancelar esta venta? El stock de los productos será restaurado.\")) {\n      try {\n        const response = await fetch(`${API_URL}/sales/${saleId}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(tokensAuth.access)\n          }\n        });\n        if (!response.ok) {\n          throw new Error(\"No se pudo cancelar la venta.\");\n        }\n        alert('Venta cancelada con éxito.');\n        fetchData();\n      } catch (err) {\n        alert(`Error: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Historial de Ventas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['ID', 'Fecha', 'Usuario', 'Items', 'Subtotal', 'Total Final', 'Acciones'],\n      data: sales,\n      renderRow: s => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: [\"#\", s.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: new Date(s.date_time).toLocaleString('es-AR')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: s.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: s.details.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: [\"$\", parseFloat(s.total_amount).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 font-bold\",\n          children: [\"$\", parseFloat(s.final_amount).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setViewingSale(s),\n            variant: \"secondary\",\n            icon: Eye\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleCancelSale(s.id),\n            variant: \"danger\",\n            icon: Trash2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this)]\n      }, s.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }, this), viewingSale && /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: !!viewingSale,\n      onClose: () => setViewingSale(null),\n      title: `Detalle de Venta #${viewingSale.id}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: viewingSale.details.map(detail => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"flex justify-between items-center p-2 bg-gray-50 rounded-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [detail.quantity, \" x \", detail.product.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", (detail.quantity * parseFloat(detail.unit_price)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 37\n            }, this)]\n          }, detail.product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 pt-2 border-t text-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Subtotal: $\", parseFloat(viewingSale.total_amount).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"M\\xE9todo de Pago: \", viewingSale.payment_method]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold text-lg\",\n            children: [\"Total Final: $\", parseFloat(viewingSale.final_amount).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 9\n  }, this);\n};\n_s5(GestionVentas, \"5QxTZJIspkOthLXZw3YX1zc/kIk=\");\n_c6 = GestionVentas;\nconst GestionProveedores = ({\n  providers,\n  fetchData\n}) => {\n  _s6();\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [editingProvider, setEditingProvider] = useState(null);\n  const {\n    tokensAuth\n  } = useContext(ContextoAuth);\n  const openModalForNew = () => {\n    setEditingProvider({\n      name: '',\n      contact_person: '',\n      phone_number: '',\n      email: ''\n    });\n    setModalOpen(true);\n  };\n  const openModalForEdit = provider => {\n    setEditingProvider(provider);\n    setModalOpen(true);\n  };\n  const handleSave = async providerData => {\n    const isEditing = !!providerData.id;\n    const url = isEditing ? `${API_URL}/providers/${providerData.id}/` : `${API_URL}/providers/`;\n    const method = isEditing ? 'PUT' : 'POST';\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        },\n        body: JSON.stringify(providerData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert(`Proveedor ${isEditing ? 'actualizado' : 'creado'} con éxito.`);\n      setModalOpen(false);\n      fetchData();\n    } catch (err) {\n      alert(`Error al guardar el proveedor: ${err.message}`);\n    }\n  };\n  const handleDelete = async providerId => {\n    if (window.confirm(\"¿Estás seguro de que quieres eliminar este proveedor?\")) {\n      try {\n        await fetch(`${API_URL}/providers/${providerId}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(tokensAuth.access)\n          }\n        });\n        alert('Proveedor eliminado con éxito.');\n        fetchData();\n      } catch (err) {\n        alert(`Error al eliminar: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Gesti\\xF3n de Proveedores\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: openModalForNew,\n        icon: PlusCircle,\n        children: \"Nuevo Proveedor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['Nombre', 'Contacto', 'Teléfono', 'Email', 'Acciones'],\n      data: providers,\n      renderRow: provider => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: provider.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: provider.contact_person || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: provider.phone_number || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: provider.email || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => openModalForEdit(provider),\n            variant: \"secondary\",\n            icon: Edit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleDelete(provider.id),\n            variant: \"danger\",\n            icon: Trash2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 25\n        }, this)]\n      }, provider.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setModalOpen(false),\n      title: editingProvider !== null && editingProvider !== void 0 && editingProvider.id ? 'Editar Proveedor' : 'Nuevo Proveedor',\n      children: editingProvider && /*#__PURE__*/_jsxDEV(ProviderForm, {\n        provider: editingProvider,\n        onSave: handleSave,\n        onCancel: () => setModalOpen(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 9\n  }, this);\n};\n_s6(GestionProveedores, \"bmlYXyXfWM2aE8IpMNoZa5hOnso=\");\n_c7 = GestionProveedores;\nconst ProviderForm = ({\n  provider,\n  onSave,\n  onCancel\n}) => {\n  _s7();\n  const [formData, setFormData] = useState(provider);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      onSave(formData);\n    },\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"name\",\n      value: formData.name,\n      onChange: handleChange,\n      placeholder: \"Nombre del proveedor\",\n      className: \"p-2 border rounded-lg w-full\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"contact_person\",\n      value: formData.contact_person || '',\n      onChange: handleChange,\n      placeholder: \"Persona de contacto (opcional)\",\n      className: \"p-2 border rounded-lg w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"phone_number\",\n      value: formData.phone_number || '',\n      onChange: handleChange,\n      placeholder: \"Tel\\xE9fono (opcional)\",\n      className: \"p-2 border rounded-lg w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      value: formData.email || '',\n      onChange: handleChange,\n      placeholder: \"Email (opcional)\",\n      className: \"p-2 border rounded-lg w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: onCancel,\n        variant: \"secondary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 304,\n    columnNumber: 9\n  }, this);\n};\n_s7(ProviderForm, \"WIpeS77CEQeeQ03UIOeyvA6x6tA=\");\n_c8 = ProviderForm;\nconst GestionClientes = ({\n  clients,\n  fetchData\n}) => {\n  _s8();\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [editingClient, setEditingClient] = useState(null);\n  const {\n    tokensAuth\n  } = useContext(ContextoAuth);\n  const openModalForNew = () => {\n    setEditingClient({\n      name: '',\n      phone_number: '',\n      email: '',\n      birthday: null\n    });\n    setModalOpen(true);\n  };\n  const openModalForEdit = client => {\n    setEditingClient(client);\n    setModalOpen(true);\n  };\n  const handleSave = async clientData => {\n    const isEditing = !!clientData.id;\n    const url = isEditing ? `${API_URL}/clients/${clientData.id}/` : `${API_URL}/clients/`;\n    const method = isEditing ? 'PUT' : 'POST';\n    if (clientData.email === '') clientData.email = null;\n    if (clientData.phone_number === '') clientData.phone_number = null;\n    if (clientData.birthday === '') clientData.birthday = null;\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        },\n        body: JSON.stringify(clientData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert(`Cliente ${isEditing ? 'actualizado' : 'creado'} con éxito.`);\n      setModalOpen(false);\n      fetchData();\n    } catch (err) {\n      alert(`Error al guardar el cliente: ${err.message}`);\n    }\n  };\n  const handleDelete = async clientId => {\n    if (window.confirm(\"¿Estás seguro de que quieres eliminar este cliente?\")) {\n      try {\n        await fetch(`${API_URL}/clients/${clientId}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(tokensAuth.access)\n          }\n        });\n        alert('Cliente eliminado con éxito.');\n        fetchData();\n      } catch (err) {\n        alert(`Error al eliminar: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Gesti\\xF3n de Clientes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: openModalForNew,\n        icon: PlusCircle,\n        children: \"Nuevo Cliente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['Nombre', 'Teléfono', 'Email', 'Cumpleaños', 'Acciones'],\n      data: clients,\n      renderRow: client => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: client.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: client.phone_number || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: client.email || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: client.birthday ? new Date(client.birthday + 'T00:00:00').toLocaleDateString('es-AR') : '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => openModalForEdit(client),\n            variant: \"secondary\",\n            icon: Edit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleDelete(client.id),\n            variant: \"danger\",\n            icon: Trash2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 25\n        }, this)]\n      }, client.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setModalOpen(false),\n      title: editingClient !== null && editingClient !== void 0 && editingClient.id ? 'Editar Cliente' : 'Nuevo Cliente',\n      children: editingClient && /*#__PURE__*/_jsxDEV(ClientForm, {\n        client: editingClient,\n        onSave: handleSave,\n        onCancel: () => setModalOpen(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 9\n  }, this);\n};\n_s8(GestionClientes, \"3Vt2DJ4kxWt/DPU7zDampdaSs08=\");\n_c9 = GestionClientes;\nconst ClientForm = ({\n  client,\n  onSave,\n  onCancel\n}) => {\n  _s9();\n  const [formData, setFormData] = useState(client);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      onSave(formData);\n    },\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"name\",\n      value: formData.name,\n      onChange: handleChange,\n      placeholder: \"Nombre del cliente\",\n      className: \"p-2 border rounded-lg w-full\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"phone_number\",\n      value: formData.phone_number || '',\n      onChange: handleChange,\n      placeholder: \"Tel\\xE9fono (opcional)\",\n      className: \"p-2 border rounded-lg w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      value: formData.email || '',\n      onChange: handleChange,\n      placeholder: \"Email (opcional)\",\n      className: \"p-2 border rounded-lg w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"birthday\",\n        className: \"text-sm text-gray-600\",\n        children: \"Fecha de Nacimiento (opcional)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"birthday\",\n        name: \"birthday\",\n        type: \"date\",\n        value: formData.birthday || '',\n        onChange: handleChange,\n        className: \"p-2 border rounded-lg w-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: onCancel,\n        variant: \"secondary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 409,\n    columnNumber: 9\n  }, this);\n};\n_s9(ClientForm, \"Y9W4JCA7lKptjeNhmgKyL+g8zcM=\");\n_c0 = ClientForm;\nconst ReportesYEstadisticas = () => {\n  _s0();\n  const [reportData, setReportData] = useState(null);\n  const {\n    tokensAuth\n  } = useContext(ContextoAuth);\n  useEffect(() => {\n    const fetchReportData = async () => {\n      try {\n        const response = await fetch(`${API_URL}/reports/`, {\n          headers: {\n            'Authorization': 'Bearer ' + String(tokensAuth.access)\n          }\n        });\n        if (!response.ok) throw new Error('No se pudieron cargar los reportes.');\n        const data = await response.json();\n        setReportData(data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchReportData();\n  }, [tokensAuth]);\n  if (!reportData) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: \"Cargando reportes...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 437,\n    columnNumber: 29\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Reportes y Estad\\xEDsticas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 36\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Producto M\\xE1s Vendido\",\n        value: reportData.most_sold_product.name,\n        subtitle: `${reportData.most_sold_product.total_sold} u.`,\n        icon: Package,\n        color: \"bg-indigo-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 183\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Producto M\\xE1s Rentable\",\n        value: reportData.most_profitable_product.name,\n        subtitle: `$${parseFloat(reportData.most_profitable_product.profit_margin).toFixed(2)} de margen`,\n        icon: TrendingUp,\n        color: \"bg-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 362\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Hora Pico de Ventas\",\n        value: reportData.peak_hour.hour !== 'N/A' ? `${reportData.peak_hour.hour}:00 - ${reportData.peak_hour.hour + 1}:00` : 'N/A',\n        subtitle: `${reportData.peak_hour.count} ventas`,\n        icon: Activity,\n        color: \"bg-amber-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 590\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 113\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 439,\n    columnNumber: 9\n  }, this);\n};\n_s0(ReportesYEstadisticas, \"7mt9fNfHd9fiMiR+i41s3b2uCGY=\");\n_c1 = ReportesYEstadisticas;\nconst GestionUsuarios = ({\n  usuarios,\n  grupos,\n  obtenerDatos\n}) => {\n  _s1();\n  const [modalAbierto, setModalAbierto] = useState(false);\n  const {\n    tokensAuth,\n    usuario: usuarioActual\n  } = useContext(ContextoAuth);\n  const guardarUsuario = async datosUsuario => {\n    try {\n      const response = await fetch(`${API_URL}/users/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        },\n        body: JSON.stringify(datosUsuario)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert('Usuario creado con éxito.');\n      setModalAbierto(false);\n      obtenerDatos();\n    } catch (err) {\n      alert(`Error al crear usuario: ${err.message}`);\n    }\n  };\n  const borrarUsuario = async idUsuario => {\n    if (idUsuario === usuarioActual.user_id) {\n      alert(\"No puedes eliminar tu propia cuenta.\");\n      return;\n    }\n    if (window.confirm(\"¿Estás seguro de que quieres eliminar este usuario?\")) {\n      try {\n        await fetch(`${API_URL}/users/${idUsuario}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(tokensAuth.access)\n          }\n        });\n        alert('Usuario eliminado con éxito.');\n        obtenerDatos();\n      } catch (err) {\n        alert(`Error al eliminar: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Gesti\\xF3n de Usuarios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 64\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setModalAbierto(true),\n        icon: UserPlus,\n        children: \"Nuevo Usuario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 137\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['ID', 'Username', 'Grupos', 'Acciones'],\n      data: usuarios,\n      renderRow: user => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: user.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 174\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 214\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: user.groups.join(', ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 260\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => borrarUsuario(user.id),\n            variant: \"danger\",\n            disabled: user.id === usuarioActual.user_id,\n            icon: Trash2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 341\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 315\n        }, this)]\n      }, user.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 109\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalAbierto,\n      onClose: () => setModalAbierto(false),\n      title: \"Crear Nuevo Usuario\",\n      children: /*#__PURE__*/_jsxDEV(UserForm, {\n        onSave: guardarUsuario,\n        onCancel: () => setModalAbierto(false),\n        groups: grupos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 109\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 469,\n    columnNumber: 9\n  }, this);\n};\n_s1(GestionUsuarios, \"n+02PW9ljtcU/yNYAWKVpx37bsk=\");\n_c10 = GestionUsuarios;\nconst UserForm = ({\n  onSave,\n  onCancel,\n  groups\n}) => {\n  _s10();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    groups: []\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleGroupChange = e => {\n    const selectedOptions = Array.from(e.target.selectedOptions, option => option.value);\n    setFormData(prev => ({\n      ...prev,\n      groups: selectedOptions\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      onSave(formData);\n    },\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"username\",\n      value: formData.username,\n      onChange: handleChange,\n      placeholder: \"Nombre de usuario\",\n      className: \"p-2 border rounded-lg w-full\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      value: formData.password,\n      onChange: handleChange,\n      placeholder: \"Contrase\\xF1a\",\n      className: \"p-2 border rounded-lg w-full\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block mb-2 text-sm font-medium text-gray-900\",\n        children: \"Grupo(s)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        multiple: true,\n        value: formData.groups,\n        onChange: handleGroupChange,\n        className: \"p-2 border rounded-lg w-full\",\n        required: true,\n        children: groups.map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: g.name,\n          children: g.name\n        }, g.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 38\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: \"Mant\\xE9n Ctrl (o Cmd en Mac) para seleccionar m\\xE1s de uno.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: onCancel,\n        variant: \"secondary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 58\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Crear Usuario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 136\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 484,\n    columnNumber: 9\n  }, this);\n};\n_s10(UserForm, \"+XLEcetpEZNghc+Kq2z5siAWCjI=\");\n_c11 = UserForm;\nconst CierreCaja = () => {\n  _s11();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [countedAmount, setCountedAmount] = useState('');\n  const [error, setError] = useState('');\n  const {\n    tokensAuth\n  } = useContext(ContextoAuth);\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await fetch(`${API_URL}/cash-count/`, {\n        headers: {\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        }\n      });\n      const responseData = await response.json();\n      if (!response.ok) {\n        if (response.status === 409) {\n          setError(responseData.message);\n          setData({\n            history: responseData.history || []\n          });\n        } else {\n          throw new Error(responseData.detail || 'No se pudieron cargar los datos del cierre de caja.');\n        }\n      } else {\n        setData(responseData);\n      }\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [tokensAuth]);\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n  const handleSaveClose = async () => {\n    if (countedAmount === '' || isNaN(parseFloat(countedAmount))) {\n      alert(\"Por favor, ingresa un monto contado válido.\");\n      return;\n    }\n    try {\n      const response = await fetch(`${API_URL}/cash-count/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        },\n        body: JSON.stringify({\n          counted_amount: parseFloat(countedAmount),\n          expected_amount: data.expected_amount\n        })\n      });\n      if (!response.ok) {\n        throw new Error('No se pudo guardar el cierre.');\n      }\n      alert('¡Cierre de caja guardado con éxito!');\n      fetchData();\n    } catch (err) {\n      alert(`Error: ${err.message}`);\n    }\n  };\n  const difference = (data === null || data === void 0 ? void 0 : data.expected_amount) != null && countedAmount !== '' ? parseFloat(countedAmount) - data.expected_amount : null;\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: \"Cargando...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 558,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Cierre de Caja Diario\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-700 mb-4\",\n        children: [\"Cierre del D\\xEDa (\", new Date().toLocaleDateString('es-AR'), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 17\n      }, this), error && !(data !== null && data !== void 0 && data.expected_amount) ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center p-8 bg-yellow-50 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-semibold text-yellow-700\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 567,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-4 bg-blue-50 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-blue-800 uppercase\",\n            children: \"Monto Esperado (Sistema)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-4xl font-bold text-blue-900\",\n            children: [\"$\", parseFloat((data === null || data === void 0 ? void 0 : data.expected_amount) || 0).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Monto Contado en Caja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: countedAmount,\n            onChange: e => setCountedAmount(e.target.value),\n            placeholder: \"0.00\",\n            className: \"w-full p-3 text-2xl text-center border-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-center p-4 rounded-lg ${difference === null ? 'bg-gray-100' : difference === 0 ? 'bg-green-100' : 'bg-red-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: `text-sm font-semibold uppercase ${difference === null ? 'text-gray-800' : difference === 0 ? 'text-green-800' : 'text-red-800'}`,\n            children: \"Diferencia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-4xl font-bold ${difference === null ? 'text-gray-900' : difference === 0 ? 'text-green-900' : 'text-red-900'}`,\n            children: difference !== null ? `$${difference.toFixed(2)}` : '-'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-3 text-center\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSaveClose,\n            disabled: difference === null || !!error,\n            variant: \"primary\",\n            icon: Archive,\n            children: \"Guardar Cierre de Caja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-700 mb-4\",\n        children: \"Historial de Cierres\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        headers: ['Fecha', 'Monto Esperado', 'Monto Contado', 'Diferencia', 'Usuario'],\n        data: (data === null || data === void 0 ? void 0 : data.history) || [],\n        renderRow: c => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"bg-white border-b hover:bg-gray-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-6 py-4\",\n            children: new Date(c.date + 'T00:00:00').toLocaleDateString('es-AR')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-6 py-4\",\n            children: [\"$\", parseFloat(c.expected_amount).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-6 py-4\",\n            children: [\"$\", parseFloat(c.counted_amount).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: `px-6 py-4 font-bold ${c.difference > 0 ? 'text-green-600' : c.difference < 0 ? 'text-red-600' : 'text-gray-800'}`,\n            children: c.difference > 0 ? `+${parseFloat(c.difference).toFixed(2)}` : parseFloat(c.difference).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-6 py-4\",\n            children: c.user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 29\n          }, this)]\n        }, c.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 561,\n    columnNumber: 9\n  }, this);\n};\n_s11(CierreCaja, \"ka0o65kUUpeCf3uatkS40HindqA=\");\n_c12 = CierreCaja;\nconst ActualizacionMasivaPrecios = ({\n  products,\n  providers,\n  fetchData\n}) => {\n  _s12();\n  const [selectedProvider, setSelectedProvider] = useState('');\n  const [selectedProducts, setSelectedProducts] = useState(new Set());\n  const [percentage, setPercentage] = useState('');\n  const [updateTarget, setUpdateTarget] = useState('both');\n  const {\n    tokensAuth\n  } = useContext(ContextoAuth);\n  const handleSelectAll = filteredProducts => {\n    if (selectedProducts.size === filteredProducts.length) {\n      setSelectedProducts(new Set());\n    } else {\n      setSelectedProducts(new Set(filteredProducts.map(p => p.id)));\n    }\n  };\n  const handleSelectProduct = productId => {\n    const newSelection = new Set(selectedProducts);\n    if (newSelection.has(productId)) {\n      newSelection.delete(productId);\n    } else {\n      newSelection.add(productId);\n    }\n    setSelectedProducts(newSelection);\n  };\n  const handleUpdate = async () => {\n    if (selectedProducts.size === 0 || !percentage || !updateTarget) {\n      alert(\"Por favor, selecciona productos, un porcentaje y un objetivo de actualización.\");\n      return;\n    }\n    const payload = {\n      product_ids: Array.from(selectedProducts),\n      percentage: percentage,\n      update_target: updateTarget\n    };\n    if (window.confirm(`¿Seguro que quieres actualizar ${selectedProducts.size} productos con un ${percentage}% de aumento?`)) {\n      try {\n        const response = await fetch(`${API_URL}/bulk-price-update/`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + String(tokensAuth.access)\n          },\n          body: JSON.stringify(payload)\n        });\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(JSON.stringify(errorData));\n        }\n        alert('Precios actualizados con éxito.');\n        fetchData();\n        setSelectedProducts(new Set());\n        setPercentage('');\n      } catch (err) {\n        alert(`Error al actualizar precios: ${err.message}`);\n      }\n    }\n  };\n  const filteredProducts = selectedProvider ? products.filter(p => p.provider === parseInt(selectedProvider)) : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Actualizaci\\xF3n Masiva de Precios\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Filtrar por Proveedor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedProvider,\n            onChange: e => setSelectedProvider(e.target.value),\n            className: \"p-2 border rounded-lg w-full mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Seleccionar Proveedor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 29\n            }, this), providers.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: p.id,\n              children: p.name\n            }, p.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 49\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Porcentaje de Aumento (%)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: percentage,\n            onChange: e => setPercentage(e.target.value),\n            placeholder: \"Ej: 15\",\n            className: \"p-2 border rounded-lg w-full mt-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 690,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Actualizar Precio de:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"target\",\n                value: \"cost\",\n                checked: updateTarget === 'cost',\n                onChange: e => setUpdateTarget(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 71\n              }, this), \" Costo\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"target\",\n                value: \"sale\",\n                checked: updateTarget === 'sale',\n                onChange: e => setUpdateTarget(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 71\n              }, this), \" Venta\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"target\",\n                value: \"both\",\n                checked: updateTarget === 'both',\n                onChange: e => setUpdateTarget(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 71\n              }, this), \" Ambos\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleUpdate,\n          disabled: selectedProducts.size === 0 || !percentage,\n          children: [\"Actualizar \", selectedProducts.size, \" Productos\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 681,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        onChange: () => handleSelectAll(filteredProducts),\n        checked: selectedProducts.size > 0 && filteredProducts.length > 0 && selectedProducts.size === filteredProducts.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 21\n      }, this), 'SKU', 'Nombre', 'Costo Actual', 'Venta Actual'],\n      data: filteredProducts,\n      renderRow: p => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: selectedProducts.has(p.id),\n            onChange: () => handleSelectProduct(p.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 51\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: p.sku\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: p.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: [\"$\", parseFloat(p.cost_price).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: [\"$\", parseFloat(p.sale_price).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 25\n        }, this)]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 705,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 679,\n    columnNumber: 9\n  }, this);\n};\n_s12(ActualizacionMasivaPrecios, \"UMVIs2spB6htg7+9Lf+9eY5p5zI=\");\n_c13 = ActualizacionMasivaPrecios;\nconst GestionMetodosDePago = ({\n  paymentMethods,\n  fetchData\n}) => {\n  _s13();\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [editingMethod, setEditingMethod] = useState(null);\n  const {\n    tokensAuth\n  } = useContext(ContextoAuth);\n  const openModalForNew = () => {\n    setEditingMethod({\n      name: '',\n      adjustment_percentage: '0.00',\n      is_active: true\n    });\n    setModalOpen(true);\n  };\n  const openModalForEdit = method => {\n    setEditingMethod(method);\n    setModalOpen(true);\n  };\n  const handleSave = async methodData => {\n    const isEditing = !!methodData.id;\n    const url = isEditing ? `${API_URL}/admin/payment-methods/${methodData.id}/` : `${API_URL}/admin/payment-methods/`;\n    const method = isEditing ? 'PUT' : 'POST';\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        },\n        body: JSON.stringify(methodData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert(`Método de pago ${isEditing ? 'actualizado' : 'creado'} con éxito.`);\n      setModalOpen(false);\n      fetchData();\n    } catch (err) {\n      alert(`Error: ${err.message}`);\n    }\n  };\n  const handleDelete = async methodId => {\n    if (window.confirm(\"¿Estás seguro de que quieres eliminar este método de pago?\")) {\n      try {\n        const response = await fetch(`${API_URL}/admin/payment-methods/${methodId}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(tokensAuth.access)\n          }\n        });\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(errorData.detail || \"No se pudo eliminar el método de pago.\");\n        }\n        alert('Método de pago eliminado con éxito.');\n        fetchData();\n      } catch (err) {\n        alert(`Error al eliminar: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Gesti\\xF3n de M\\xE9todos de Pago\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: openModalForNew,\n        icon: PlusCircle,\n        children: \"Nuevo M\\xE9todo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['Nombre', 'Ajuste (%)', 'Estado', 'Acciones'],\n      data: paymentMethods,\n      renderRow: pm => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: pm.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: `px-6 py-4 font-semibold ${pm.adjustment_percentage < 0 ? 'text-green-600' : pm.adjustment_percentage > 0 ? 'text-red-600' : 'text-gray-700'}`,\n          children: [pm.adjustment_percentage, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full text-xs font-semibold ${pm.is_active ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`,\n            children: pm.is_active ? 'Activo' : 'Inactivo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 28\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => openModalForEdit(pm),\n            variant: \"secondary\",\n            icon: Edit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleDelete(pm.id),\n            variant: \"danger\",\n            icon: Trash2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 25\n        }, this)]\n      }, pm.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 788,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 784,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setModalOpen(false),\n      title: editingMethod !== null && editingMethod !== void 0 && editingMethod.id ? 'Editar Método de Pago' : 'Nuevo Método de Pago',\n      children: editingMethod && /*#__PURE__*/_jsxDEV(PaymentMethodForm, {\n        method: editingMethod,\n        onSave: handleSave,\n        onCancel: () => setModalOpen(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 805,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 779,\n    columnNumber: 9\n  }, this);\n};\n_s13(GestionMetodosDePago, \"trb4C2+GoSPHbDFMSPxlsO2uYL4=\");\n_c14 = GestionMetodosDePago;\nconst PaymentMethodForm = ({\n  method,\n  onSave,\n  onCancel\n}) => {\n  _s14();\n  const [formData, setFormData] = useState(method);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      onSave(formData);\n    },\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"name\",\n      value: formData.name,\n      onChange: handleChange,\n      placeholder: \"Nombre (Ej: Efectivo, Tarjeta Naranja)\",\n      className: \"p-2 border rounded-lg w-full\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 820,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"adjustment_percentage\",\n      type: \"number\",\n      step: \"0.01\",\n      value: formData.adjustment_percentage,\n      onChange: handleChange,\n      placeholder: \"Porcentaje de ajuste\",\n      className: \"p-2 border rounded-lg w-full\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 821,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500\",\n      children: \"Usa n\\xFAmeros negativos para descuentos (ej: -10) y positivos para recargos (ej: 8.5).\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 822,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        name: \"is_active\",\n        checked: formData.is_active,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 824,\n        columnNumber: 17\n      }, this), \"Activo\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 823,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: onCancel,\n        variant: \"secondary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 828,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 827,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 819,\n    columnNumber: 9\n  }, this);\n};\n\n// --- AuthProvider ---\n_s14(PaymentMethodForm, \"9sWzVaqEgPbc0o0wwwb8N4lauhY=\");\n_c15 = PaymentMethodForm;\nconst AuthProvider = ({\n  children\n}) => {\n  _s15();\n  const [tokensAuth, setTokensAuth] = useState(() => localStorage.getItem('tokensAuth') ? JSON.parse(localStorage.getItem('tokensAuth')) : null);\n  const [usuario, setUsuario] = useState(() => {\n    const token = localStorage.getItem('tokensAuth');\n    if (!token) return null;\n    try {\n      return decodificarToken(JSON.parse(token).access);\n    } catch (e) {\n      return null;\n    }\n  });\n  const [cargando, setCargando] = useState(true);\n  const iniciarSesion = async (username, password) => {\n    const response = await fetch(`${API_URL}/token/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    });\n    const data = await response.json();\n    if (response.ok) {\n      const usuarioDecodificado = decodificarToken(data.access);\n      setTokensAuth(data);\n      setUsuario(usuarioDecodificado);\n      localStorage.setItem('tokensAuth', JSON.stringify(data));\n    } else {\n      alert('Usuario o contraseña incorrectos.');\n    }\n  };\n  const cerrarSesion = useCallback(() => {\n    setTokensAuth(null);\n    setUsuario(null);\n    localStorage.removeItem('tokensAuth');\n  }, []);\n  const actualizarToken = useCallback(async () => {\n    const tokensActuales = JSON.parse(localStorage.getItem('tokensAuth'));\n    if (!(tokensActuales !== null && tokensActuales !== void 0 && tokensActuales.refresh)) {\n      cerrarSesion();\n      return;\n    }\n    try {\n      const response = await fetch(`${API_URL}/token/refresh/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          'refresh': tokensActuales.refresh\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        const nuevosTokens = {\n          ...tokensActuales,\n          access: data.access\n        };\n        setTokensAuth(nuevosTokens);\n        setUsuario(decodificarToken(data.access));\n        localStorage.setItem('tokensAuth', JSON.stringify(nuevosTokens));\n      } else {\n        cerrarSesion();\n      }\n    } catch {\n      cerrarSesion();\n    }\n  }, [cerrarSesion]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (tokensAuth) actualizarToken();\n    }, 1000 * 60 * 4);\n    return () => clearInterval(interval);\n  }, [tokensAuth, actualizarToken]);\n  useEffect(() => {\n    setCargando(false);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ContextoAuth.Provider, {\n    value: {\n      usuario,\n      tokensAuth,\n      iniciarSesion,\n      cerrarSesion\n    },\n    children: cargando ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 875,\n      columnNumber: 109\n    }, this) : children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 875,\n    columnNumber: 13\n  }, this);\n};\n\n// --- Componente Principal ---\n_s15(AuthProvider, \"UefhQRSpU7N/dGCOMUcTHkBD3HE=\");\n_c16 = AuthProvider;\nexport default function AppWrapper() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 879,\n      columnNumber: 62\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 879,\n    columnNumber: 48\n  }, this);\n}\n_c17 = AppWrapper;\nfunction App() {\n  _s16();\n  var _usuario$groups;\n  const {\n    usuario,\n    tokensAuth,\n    cerrarSesion\n  } = useContext(ContextoAuth);\n  const [vista, setVista] = useState('pos');\n  const [vistaAdmin, setVistaAdmin] = useState('dashboard');\n  const [productos, setProductos] = useState([]);\n  const [ventas, setVentas] = useState([]);\n  const [proveedores, setProveedores] = useState([]);\n  const [clientes, setClientes] = useState([]);\n  const [categorias, setCategorias] = useState([]);\n  const [todosLosUsuarios, setTodosLosUsuarios] = useState([]);\n  const [grupos, setGrupos] = useState([]);\n  const [cargando, setCargando] = useState(true);\n  const [error, setError] = useState(null);\n  const [metodosDePago, setMetodosDePago] = useState([]);\n  const [metodosDePagoAdmin, setMetodosDePagoAdmin] = useState([]);\n  const esAdmin = usuario === null || usuario === void 0 ? void 0 : (_usuario$groups = usuario.groups) === null || _usuario$groups === void 0 ? void 0 : _usuario$groups.includes('Administradores');\n  const obtenerDatos = useCallback(async () => {\n    if (!tokensAuth) return;\n    setCargando(true);\n    let endpoints = ['products', 'sales', 'payment-methods'];\n    if (esAdmin) {\n      endpoints.push('providers', 'clients', 'categories', 'users', 'groups', 'admin/payment-methods');\n    }\n    try {\n      const requests = endpoints.map(endpoint => fetch(`${API_URL}/${endpoint}/`, {\n        headers: {\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        }\n      }).then(res => {\n        if (res.status === 401) {\n          cerrarSesion();\n          return Promise.reject(new Error(\"Token inválido\"));\n        }\n        if (!res.ok) return Promise.resolve([]);\n        return res.json();\n      }));\n      const data = await Promise.all(requests);\n      const dataMap = Object.fromEntries(endpoints.map((e, i) => [e, data[i]]));\n      setProductos(dataMap.products || []);\n      setVentas(dataMap.sales || []);\n      setMetodosDePago(dataMap['payment-methods'] || []);\n      if (esAdmin) {\n        setProveedores(dataMap.providers || []);\n        setClientes(dataMap.clients || []);\n        setCategorias(dataMap.categories || []);\n        setTodosLosUsuarios(dataMap.users || []);\n        setGrupos(dataMap.groups || []);\n        setMetodosDePagoAdmin(dataMap['admin/payment-methods'] || []);\n      }\n      setError(null);\n    } catch (err) {\n      if (err.message !== \"Token inválido\") {\n        setError(\"No se pudo conectar con el servidor.\");\n      }\n    } finally {\n      setCargando(false);\n    }\n  }, [tokensAuth, cerrarSesion, esAdmin]);\n  useEffect(() => {\n    obtenerDatos();\n  }, [obtenerDatos]);\n  useEffect(() => {\n    if (usuario && !esAdmin) setVista('pos');\n  }, [usuario, esAdmin]);\n  const handleVentaCompleta = async (carrito, total, idMetodoPago) => {\n    const datosVenta = {\n      total_amount: total.toFixed(2),\n      details: carrito.map(item => ({\n        product_id: item.id,\n        quantity: item.quantity,\n        unit_price: item.price.toFixed(2)\n      })),\n      payment_method_id: idMetodoPago\n    };\n    try {\n      const response = await fetch(`${API_URL}/sales/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(tokensAuth.access)\n        },\n        body: JSON.stringify(datosVenta)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert('Venta registrada.');\n      obtenerDatos();\n    } catch (err) {\n      alert(`Error: ${err.message}`);\n    }\n  };\n  const renderizarVistaAdmin = () => {\n    switch (vistaAdmin) {\n      case 'dashboard':\n        return /*#__PURE__*/_jsxDEV(DashboardAdmin, {\n          products: productos,\n          sales: ventas\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 948,\n          columnNumber: 38\n        }, this);\n      case 'products':\n        return /*#__PURE__*/_jsxDEV(GestionProductos, {\n          products: productos,\n          providers: proveedores,\n          categories: categorias,\n          fetchData: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 949,\n          columnNumber: 37\n        }, this);\n      case 'sales':\n        return /*#__PURE__*/_jsxDEV(GestionVentas, {\n          sales: ventas,\n          fetchData: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 950,\n          columnNumber: 34\n        }, this);\n      case 'providers':\n        return /*#__PURE__*/_jsxDEV(GestionProveedores, {\n          providers: proveedores,\n          fetchData: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 951,\n          columnNumber: 38\n        }, this);\n      case 'clients':\n        return /*#__PURE__*/_jsxDEV(GestionClientes, {\n          clients: clientes,\n          fetchData: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 952,\n          columnNumber: 36\n        }, this);\n      case 'reports':\n        return /*#__PURE__*/_jsxDEV(ReportesYEstadisticas, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 953,\n          columnNumber: 36\n        }, this);\n      case 'users':\n        return /*#__PURE__*/_jsxDEV(GestionUsuarios, {\n          usuarios: todosLosUsuarios,\n          grupos: grupos,\n          obtenerDatos: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 954,\n          columnNumber: 34\n        }, this);\n      case 'cash-count':\n        return /*#__PURE__*/_jsxDEV(CierreCaja, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 955,\n          columnNumber: 39\n        }, this);\n      case 'bulk-price-update':\n        return /*#__PURE__*/_jsxDEV(ActualizacionMasivaPrecios, {\n          products: productos,\n          providers: proveedores,\n          fetchData: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 956,\n          columnNumber: 46\n        }, this);\n      case 'payment-methods':\n        return /*#__PURE__*/_jsxDEV(GestionMetodosDePago, {\n          paymentMethods: metodosDePagoAdmin,\n          fetchData: obtenerDatos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 957,\n          columnNumber: 44\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(DashboardAdmin, {\n          products: productos,\n          sales: ventas\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 958,\n          columnNumber: 29\n        }, this);\n    }\n  };\n  const NavItem = ({\n    icon: Icon,\n    children,\n    onClick,\n    active\n  }) => /*#__PURE__*/_jsxDEV(\"li\", {\n    onClick: onClick,\n    className: `flex items-center gap-3 px-4 py-3 cursor-pointer rounded-lg ${active ? 'bg-indigo-600 text-white' : 'hover:bg-gray-200'}`,\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      size: 22\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 962,\n      columnNumber: 226\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-medium\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 962,\n      columnNumber: 244\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 962,\n    columnNumber: 69\n  }, this);\n  if (!usuario) return /*#__PURE__*/_jsxDEV(PaginaLogin, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 964,\n    columnNumber: 26\n  }, this);\n  if (cargando) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center\",\n    children: \"Cargando datos...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 965,\n    columnNumber: 26\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center text-red-500\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 966,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-100 font-sans\",\n    children: [esAdmin && vista === 'admin' && /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 bg-white shadow-xl flex flex-col p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-indigo-600 px-4 mb-6\",\n        children: [\"MiNegocio\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-light\",\n          children: \"PRO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 972,\n          columnNumber: 91\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 972,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex-grow\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(NavItem, {\n            icon: BarChart2,\n            active: vistaAdmin === 'dashboard',\n            onClick: () => setVistaAdmin('dashboard'),\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Package,\n            active: vistaAdmin === 'products',\n            onClick: () => setVistaAdmin('products'),\n            children: \"Productos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: UploadCloud,\n            active: vistaAdmin === 'bulk-price-update',\n            onClick: () => setVistaAdmin('bulk-price-update'),\n            children: \"Actualizar Precios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 976,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: DollarSign,\n            active: vistaAdmin === 'sales',\n            onClick: () => setVistaAdmin('sales'),\n            children: \"Ventas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 977,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Archive,\n            active: vistaAdmin === 'cash-count',\n            onClick: () => setVistaAdmin('cash-count'),\n            children: \"Cierre de Caja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: CreditCard,\n            active: vistaAdmin === 'payment-methods',\n            onClick: () => setVistaAdmin('payment-methods'),\n            children: \"M\\xE9todos de Pago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 979,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Truck,\n            active: vistaAdmin === 'providers',\n            onClick: () => setVistaAdmin('providers'),\n            children: \"Proveedores\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 980,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Users,\n            active: vistaAdmin === 'clients',\n            onClick: () => setVistaAdmin('clients'),\n            children: \"Clientes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 981,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: BarChart,\n            active: vistaAdmin === 'reports',\n            onClick: () => setVistaAdmin('reports'),\n            children: \"Reportes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 982,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: UserPlus,\n            active: vistaAdmin === 'users',\n            onClick: () => setVistaAdmin('users'),\n            children: \"Usuarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 983,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 973,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 973,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-auto\",\n        children: /*#__PURE__*/_jsxDEV(NavItem, {\n          icon: ShoppingCart,\n          onClick: () => setVista('pos'),\n          children: \"Ir al Punto de Venta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 985,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 985,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 971,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white shadow-sm p-4 flex justify-between items-center z-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: esAdmin && vista === 'pos' && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setVista('admin'),\n            variant: \"secondary\",\n            children: \"Volver al Panel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 990,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-gray-700\",\n            children: usuario.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 62\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: cerrarSesion,\n            className: \"text-gray-500 hover:text-red-600\",\n            children: /*#__PURE__*/_jsxDEV(LogOut, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 209\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 133\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 991,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 989,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-6 overflow-y-auto\",\n        children: vista === 'pos' || !esAdmin ? /*#__PURE__*/_jsxDEV(PuntoDeVenta, {\n          productos: productos,\n          metodosDePago: metodosDePago,\n          onVentaCompleta: handleVentaCompleta\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 993,\n          columnNumber: 92\n        }, this) : renderizarVistaAdmin()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 993,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 988,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 969,\n    columnNumber: 9\n  }, this);\n}\n_s16(App, \"aGzaTNhKsRPVsND6fVCaa9us8DY=\");\n_c18 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18;\n$RefreshReg$(_c, \"PaginaLogin\");\n$RefreshReg$(_c2, \"PuntoDeVenta\");\n$RefreshReg$(_c3, \"GestionProductos\");\n$RefreshReg$(_c4, \"FormularioProducto\");\n$RefreshReg$(_c5, \"DashboardAdmin\");\n$RefreshReg$(_c6, \"GestionVentas\");\n$RefreshReg$(_c7, \"GestionProveedores\");\n$RefreshReg$(_c8, \"ProviderForm\");\n$RefreshReg$(_c9, \"GestionClientes\");\n$RefreshReg$(_c0, \"ClientForm\");\n$RefreshReg$(_c1, \"ReportesYEstadisticas\");\n$RefreshReg$(_c10, \"GestionUsuarios\");\n$RefreshReg$(_c11, \"UserForm\");\n$RefreshReg$(_c12, \"CierreCaja\");\n$RefreshReg$(_c13, \"ActualizacionMasivaPrecios\");\n$RefreshReg$(_c14, \"GestionMetodosDePago\");\n$RefreshReg$(_c15, \"PaymentMethodForm\");\n$RefreshReg$(_c16, \"AuthProvider\");\n$RefreshReg$(_c17, \"AppWrapper\");\n$RefreshReg$(_c18, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useContext","createContext","useCallback","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Search","PlusCircle","Trash2","Edit","ShoppingCart","DollarSign","Package","Truck","BarChart2","UserPlus","LogOut","CheckCircle","Eye","EyeOff","Users","Activity","TrendingUp","Archive","UploadCloud","CreditCard","ContextoAuth","Card","Button","Modal","Table","StatCard","jsxDEV","_jsxDEV","API_URL","decodificarToken","token","JSON","parse","atob","split","e","console","error","PaginaLogin","_s","iniciarSesion","passwordVisible","setPasswordVisible","handleSubmit","preventDefault","target","username","value","password","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","name","required","placeholder","onClick","size","variant","_c","PuntoDeVenta","productos","metodosDePago","onVentaCompleta","_s2","_metodosDePago$","carrito","setCarrito","terminoBusqueda","setTerminoBusqueda","modalPagoAbierto","setModalPagoAbierto","efectivoRecibido","setEfectivoRecibido","idMetodoPago","setIdMetodoPago","id","productosFiltrados","filter","p","toLowerCase","includes","sku","agregarACarrito","producto","stock","alert","carritoActual","itemExistente","find","item","quantity","map","price","parseFloat","sale_price","procesarPago","length","subtotal","reduce","sum","metodoSeleccionado","pm","parseInt","porcentajeAjuste","adjustment_percentage","totalFinal","vuelto","onChange","toFixed","c","icon","isOpen","onClose","title","_c2","GestionProductos","proveedores","categorias","obtenerDatos","_s3","modalAbierto","setModalAbierto","productoEditando","setProductoEditando","tokensAuth","abrirModalNuevo","description","cost_price","category","provider","abrirModalEditar","guardarProducto","datosProducto","esEditando","url","method","response","fetch","headers","String","access","body","stringify","ok","errorData","json","Error","err","message","borrarProducto","idProducto","window","confirm","data","renderRow","category_name","FormularioProducto","onSave","onCancel","categories","providers","_c3","_s4","formData","setFormData","handleChange","prev","step","_c4","DashboardAdmin","ventas","ventasTotales","sale","final_amount","datosGrafico","acc","date","Date","date_time","toLocaleDateString","weekday","datosFormateados","Object","keys","day","Ventas","color","width","height","strokeDasharray","dataKey","formatter","fill","_c5","GestionVentas","sales","fetchData","_s5","viewingSale","setViewingSale","handleCancelSale","saleId","s","toLocaleString","user","details","total_amount","detail","product","unit_price","payment_method","_c6","GestionProveedores","_s6","isModalOpen","setModalOpen","editingProvider","setEditingProvider","openModalForNew","contact_person","phone_number","email","openModalForEdit","handleSave","providerData","isEditing","handleDelete","providerId","ProviderForm","_c7","_s7","_c8","GestionClientes","clients","_s8","editingClient","setEditingClient","birthday","client","clientData","clientId","ClientForm","_c9","_s9","htmlFor","_c0","ReportesYEstadisticas","_s0","reportData","setReportData","fetchReportData","most_sold_product","subtitle","total_sold","most_profitable_product","profit_margin","peak_hour","hour","count","_c1","GestionUsuarios","usuarios","grupos","_s1","usuario","usuarioActual","guardarUsuario","datosUsuario","borrarUsuario","idUsuario","user_id","groups","join","disabled","UserForm","_c10","_s10","handleGroupChange","selectedOptions","Array","from","option","multiple","g","_c11","CierreCaja","_s11","setData","loading","setLoading","countedAmount","setCountedAmount","setError","responseData","status","history","handleSaveClose","isNaN","counted_amount","expected_amount","difference","_c12","ActualizacionMasivaPrecios","products","_s12","selectedProvider","setSelectedProvider","selectedProducts","setSelectedProducts","Set","percentage","setPercentage","updateTarget","setUpdateTarget","handleSelectAll","filteredProducts","handleSelectProduct","productId","newSelection","has","delete","add","handleUpdate","payload","product_ids","update_target","checked","_c13","GestionMetodosDePago","paymentMethods","_s13","editingMethod","setEditingMethod","is_active","methodData","methodId","PaymentMethodForm","_c14","_s14","_c15","AuthProvider","_s15","setTokensAuth","localStorage","getItem","setUsuario","cargando","setCargando","usuarioDecodificado","setItem","cerrarSesion","removeItem","actualizarToken","tokensActuales","refresh","nuevosTokens","interval","setInterval","clearInterval","Provider","_c16","AppWrapper","App","_c17","_s16","_usuario$groups","vista","setVista","vistaAdmin","setVistaAdmin","setProductos","setVentas","setProveedores","clientes","setClientes","setCategorias","todosLosUsuarios","setTodosLosUsuarios","setGrupos","setMetodosDePago","metodosDePagoAdmin","setMetodosDePagoAdmin","esAdmin","endpoints","push","requests","endpoint","then","res","Promise","reject","resolve","all","dataMap","fromEntries","i","users","handleVentaCompleta","total","datosVenta","product_id","payment_method_id","renderizarVistaAdmin","NavItem","Icon","active","_c18","$RefreshReg$"],"sources":["C:/Users/Matias/nexus-pro/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useContext, createContext, useCallback } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { Search, PlusCircle, Trash2, Edit, ShoppingCart, DollarSign, Package, Truck, BarChart2, UserPlus, LogOut, CheckCircle, Eye, EyeOff, Users, Activity, TrendingUp, Archive, UploadCloud, CreditCard } from 'lucide-react';\n\n// Importamos nuestros módulos refactorizados\nimport { ContextoAuth } from './context/AuthContext';\nimport { Card, Button, Modal, Table, StatCard } from './components/ui/ComponentesUI';\n\nconst API_URL = 'http://127.0.0.1:8000/api';\n\n// --- Componentes específicos de la aplicación ---\n\n// --- Función para decodificar JWT de forma segura ---\nconst decodificarToken = (token) => {\n    try {\n        // Esta función decodifica la parte 'payload' de un token JWT.\n        // atob() decodifica una cadena de texto que ha sido codificada en base-64.\n        // El token se divide por los puntos, y tomamos la segunda parte (el payload).\n        return JSON.parse(atob(token.split('.')[1]));\n    } catch (e) {\n        console.error(\"Error al decodificar el token:\", e);\n        return null;\n    }\n}\n\nconst PaginaLogin = () => {\n    const { iniciarSesion } = useContext(ContextoAuth);\n    const [passwordVisible, setPasswordVisible] = useState(false);\n    const handleSubmit = (e) => { e.preventDefault(); iniciarSesion(e.target.username.value, e.target.password.value); };\n    return (\n        <div className=\"bg-gray-100 min-h-screen flex items-center justify-center\">\n            <Card className=\"text-center w-full max-w-sm\">\n                <h1 className=\"text-3xl font-bold mb-2 text-indigo-600\">MiNegocio<span className=\"font-light\">PRO</span></h1>\n                <p className=\"text-gray-500 mb-6\">Inicia sesión para continuar</p>\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    <input type=\"text\" name=\"username\" required className=\"w-full p-3 border rounded-lg\" placeholder=\"Nombre de usuario\" />\n                    <div className=\"relative\">\n                        <input type={passwordVisible ? \"text\" : \"password\"} name=\"password\" required className=\"w-full p-3 border rounded-lg pr-10\" placeholder=\"Contraseña\" />\n                        <span onClick={() => setPasswordVisible(!passwordVisible)} className=\"absolute top-1/2 right-3 -translate-y-1/2 cursor-pointer text-gray-400 hover:text-gray-600\">\n                            {passwordVisible ? <EyeOff size={20} /> : <Eye size={20} />}\n                        </span>\n                    </div>\n                    <Button type=\"submit\" className=\"w-full text-lg\" variant=\"primary\">Ingresar</Button>\n                </form>\n            </Card>\n        </div>\n    );\n};\n\nconst PuntoDeVenta = ({ productos, metodosDePago, onVentaCompleta }) => {\n    const [carrito, setCarrito] = useState([]);\n    const [terminoBusqueda, setTerminoBusqueda] = useState('');\n    const [modalPagoAbierto, setModalPagoAbierto] = useState(false);\n    const [efectivoRecibido, setEfectivoRecibido] = useState(0);\n    const [idMetodoPago, setIdMetodoPago] = useState(metodosDePago[0]?.id || '');\n\n    const productosFiltrados = productos.filter(p => p.name.toLowerCase().includes(terminoBusqueda.toLowerCase()) || p.sku.toLowerCase().includes(terminoBusqueda.toLowerCase()));\n    \n    const agregarACarrito = (producto) => {\n        if (producto.stock <= 0) { alert(`El producto \"${producto.name}\" no tiene stock.`); return; }\n        setCarrito(carritoActual => {\n            const itemExistente = carritoActual.find(item => item.id === producto.id);\n            if (itemExistente) {\n                if (itemExistente.quantity >= producto.stock) { alert(`No puedes agregar más unidades.`); return carritoActual; }\n                return carritoActual.map(item => item.id === producto.id ? { ...item, quantity: item.quantity + 1 } : item);\n            }\n            return [...carritoActual, { ...producto, quantity: 1, price: parseFloat(producto.sale_price) }];\n        });\n    };\n    \n    const procesarPago = () => {\n        if (carrito.length === 0) { alert(\"El carrito está vacío.\"); return; }\n        if (!idMetodoPago) { alert(\"Por favor, selecciona un método de pago.\"); return; }\n        onVentaCompleta(carrito, subtotal, idMetodoPago);\n        setCarrito([]); setTerminoBusqueda(''); setModalPagoAbierto(false); setEfectivoRecibido(0);\n    };\n    \n    const subtotal = carrito.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    \n    const metodoSeleccionado = metodosDePago.find(pm => pm.id === parseInt(idMetodoPago));\n    const porcentajeAjuste = metodoSeleccionado ? parseFloat(metodoSeleccionado.adjustment_percentage) : 0;\n    const totalFinal = subtotal * (1 + porcentajeAjuste / 100);\n    const vuelto = efectivoRecibido > totalFinal ? efectivoRecibido - totalFinal : 0;\n\n    return (\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-100px)]\">\n            <div className=\"lg:col-span-2 bg-gray-50 p-4 rounded-xl\"><div className=\"relative mb-4\"><Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={20}/><input type=\"text\" placeholder=\"Buscar producto por nombre o SKU...\" className=\"w-full pl-10 pr-4 py-2 border rounded-lg\" value={terminoBusqueda} onChange={(e) => setTerminoBusqueda(e.target.value)} /></div><div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto h-[calc(100%-60px)] pr-2\">{productosFiltrados.map(producto => (<div key={producto.id} onClick={() => agregarACarrito(producto)} className={`p-3 rounded-lg shadow-sm border-2 text-center ${producto.stock > 0 ? 'cursor-pointer hover:shadow-lg bg-white' : 'bg-gray-200 opacity-60'}`}><p className=\"font-bold text-gray-800 truncate\">{producto.name}</p><p className=\"text-sm text-gray-600\">${parseFloat(producto.sale_price).toFixed(2)}</p><p className={`text-xs ${producto.stock <= 5 ? 'text-red-500 font-bold' : 'text-gray-500'}`}>Stock: {producto.stock}</p></div>))}</div></div>\n            <Card className=\"flex flex-col\"><h2 className=\"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2\"><ShoppingCart size={24}/> Venta Actual</h2><div className=\"flex-grow overflow-y-auto border-t border-b py-2\">{carrito.length === 0 ? <p className=\"text-gray-500 text-center py-10\">El carrito está vacío</p> : carrito.map(item => <div key={item.id} className=\"flex justify-between items-center mb-2 p-2 rounded-md hover:bg-gray-100\"><div><p className=\"font-semibold\">{item.name}</p><p className=\"text-sm text-gray-600\">${item.price.toFixed(2)} x {item.quantity}</p></div><div className=\"flex items-center gap-2\"><p className=\"font-bold\">${(item.price * item.quantity).toFixed(2)}</p><button onClick={() => setCarrito(carrito.filter(c => c.id !== item.id))} className=\"text-red-500 hover:text-red-700\"><Trash2 size={18} /></button></div></div>)}</div><div className=\"mt-auto pt-4\"><div className=\"flex justify-between text-2xl font-bold mb-4\"><span>SUBTOTAL:</span><span>${subtotal.toFixed(2)}</span></div><Button onClick={() => setModalPagoAbierto(true)} className=\"w-full text-lg\" variant=\"success\" icon={CheckCircle}>Cobrar</Button></div></Card>\n            <Modal isOpen={modalPagoAbierto} onClose={() => setModalPagoAbierto(false)} title=\"Procesar Pago\">\n                <div className=\"space-y-4\">\n                    <div className=\"text-right text-lg\">Subtotal: ${subtotal.toFixed(2)}</div>\n                    <div><label className=\"font-semibold text-gray-700\">Método de Pago</label><select value={idMetodoPago} onChange={(e) => setIdMetodoPago(e.target.value)} className=\"w-full mt-1 p-2 border rounded-lg\">{metodosDePago.map(pm => <option key={pm.id} value={pm.id}>{pm.name} ({pm.adjustment_percentage}%)</option>)}</select></div>\n                    {porcentajeAjuste !== 0 && (<div className={`text-right text-lg ${porcentajeAjuste < 0 ? 'text-green-600' : 'text-red-600'}`}>Ajuste: {porcentajeAjuste > 0 ? '+' : ''}{porcentajeAjuste.toFixed(2)}%</div>)}\n                    <div className=\"text-center text-4xl font-bold text-indigo-600 mb-4\">${totalFinal.toFixed(2)}</div>\n                    {metodoSeleccionado?.name === 'Efectivo' && (<div><label className=\"font-semibold text-gray-700\">Efectivo Recibido</label><input type=\"number\" value={efectivoRecibido} onChange={(e) => setEfectivoRecibido(parseFloat(e.target.value) || 0)} className=\"w-full mt-1 p-2 border rounded-lg\" placeholder=\"0.00\" />{efectivoRecibido > totalFinal && <p className=\"text-lg font-semibold mt-2 text-green-600\">Vuelto: ${vuelto.toFixed(2)}</p>}</div>)}\n                    <div className=\"flex justify-end gap-3 pt-4\"><Button onClick={() => setModalPagoAbierto(false)} variant=\"secondary\">Cancelar</Button><Button onClick={procesarPago} variant=\"success\">Finalizar Venta</Button></div>\n                </div>\n            </Modal>\n        </div>\n    );\n};\nconst GestionProductos = ({ productos, proveedores, categorias, obtenerDatos }) => {\n    const [modalAbierto, setModalAbierto] = useState(false);\n    const [productoEditando, setProductoEditando] = useState(null);\n    const { tokensAuth } = useContext(ContextoAuth);\n    const abrirModalNuevo = () => { setProductoEditando({ name: '', sku: '', description: '', cost_price: '', sale_price: '', stock: '', category: '', provider: null }); setModalAbierto(true); };\n    const abrirModalEditar = (producto) => { setProductoEditando(producto); setModalAbierto(true); };\n    const guardarProducto = async (datosProducto) => {\n        const esEditando = !!datosProducto.id;\n        const url = esEditando ? `${API_URL}/products/${datosProducto.id}/` : `${API_URL}/products/`;\n        const method = esEditando ? 'PUT' : 'POST';\n        if (datosProducto.provider === '') datosProducto.provider = null;\n        try {\n            const response = await fetch(url, { method: method, headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(tokensAuth.access) }, body: JSON.stringify(datosProducto) });\n            if (!response.ok) { const errorData = await response.json(); throw new Error(JSON.stringify(errorData)); }\n            alert(`Producto ${esEditando ? 'actualizado' : 'creado'}.`); setModalAbierto(false); obtenerDatos();\n        } catch (err) { alert(`Error: ${err.message}`); }\n    };\n    const borrarProducto = async (idProducto) => {\n        if (window.confirm(\"¿Estás seguro de que quieres eliminar este producto?\")) {\n            try {\n                await fetch(`${API_URL}/products/${idProducto}/`, { method: 'DELETE', headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) }});\n                alert('Producto eliminado.'); obtenerDatos();\n            } catch (err) { alert(`Error: ${err.message}`); }\n        }\n    };\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\"><h1 className=\"text-3xl font-bold text-gray-800\">Gestión de Productos</h1><Button onClick={abrirModalNuevo} icon={PlusCircle}>Nuevo Producto</Button></div>\n            <Table headers={['SKU', 'Nombre', 'Precio Venta', 'Stock', 'Categoría', 'Acciones']} data={productos} renderRow={(p) => (<tr key={p.id} className=\"bg-white border-b hover:bg-gray-50\"><td className=\"px-6 py-4\">{p.sku}</td><td className=\"px-6 py-4\">{p.name}</td><td className=\"px-6 py-4\">${parseFloat(p.sale_price).toFixed(2)}</td><td className=\"px-6 py-4\"><span className={`px-2 py-1 rounded-full text-xs ${p.stock <= 5 ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`}>{p.stock}</span></td><td className=\"px-6 py-4\">{p.category_name}</td><td className=\"px-6 py-4 flex gap-2\"><button onClick={() => abrirModalEditar(p)} className=\"text-indigo-600\"><Edit size={20}/></button><button onClick={() => borrarProducto(p.id)} className=\"text-red-600\"><Trash2 size={20}/></button></td></tr>)}/>\n            <Modal isOpen={modalAbierto} onClose={() => setModalAbierto(false)} title={productoEditando?.id ? 'Editar Producto' : 'Nuevo Producto'}>{productoEditando && <FormularioProducto producto={productoEditando} onSave={guardarProducto} onCancel={() => setModalAbierto(false)} categories={categorias} providers={proveedores}/>}</Modal>\n        </div>\n    );\n};\nconst FormularioProducto = ({ producto, onSave, onCancel, categories, providers }) => {\n    const [formData, setFormData] = useState(producto);\n    const handleChange = (e) => { const { name, value } = e.target; setFormData(prev => ({ ...prev, [name]: value })); };\n    return (\n        <form onSubmit={(e) => { e.preventDefault(); onSave(formData); }} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"><input name=\"name\" value={formData.name} onChange={handleChange} placeholder=\"Nombre del producto\" className=\"p-2 border rounded-lg w-full\" required/><input name=\"sku\" value={formData.sku} onChange={handleChange} placeholder=\"SKU\" className=\"p-2 border rounded-lg w-full\" required/></div><textarea name=\"description\" value={formData.description || ''} onChange={handleChange} placeholder=\"Descripción\" className=\"p-2 border rounded-lg w-full min-h-[80px]\"/><div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\"><input name=\"cost_price\" type=\"number\" step=\"0.01\" value={formData.cost_price} onChange={handleChange} placeholder=\"Costo\" className=\"p-2 border rounded-lg w-full\" required/><input name=\"sale_price\" type=\"number\" step=\"0.01\" value={formData.sale_price} onChange={handleChange} placeholder=\"Venta\" className=\"p-2 border rounded-lg w-full\" required/><input name=\"stock\" type=\"number\" value={formData.stock} onChange={handleChange} placeholder=\"Stock\" className=\"p-2 border rounded-lg w-full\" required/></div><div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"><select name=\"category\" value={formData.category} onChange={handleChange} className=\"p-2 border rounded-lg w-full\" required><option value=\"\">Categoría</option>{categories.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}</select><select name=\"provider\" value={formData.provider || ''} onChange={handleChange} className=\"p-2 border rounded-lg w-full\"><option value=\"\">Proveedor</option>{providers.map(p => <option key={p.id} value={p.id}>{p.name}</option>)}</select></div><div className=\"flex justify-end gap-3 pt-4\"><Button type=\"button\" onClick={onCancel} variant=\"secondary\">Cancelar</Button><Button type=\"submit\" variant=\"primary\">Guardar</Button></div>\n        </form>\n    )\n};\nconst DashboardAdmin = ({ productos, ventas }) => {\n    const ventasTotales = ventas.reduce((sum, sale) => sum + parseFloat(sale.final_amount), 0);\n    const datosGrafico = ventas.reduce((acc, sale) => { const date = new Date(sale.date_time).toLocaleDateString('es-AR', { weekday: 'short' }); acc[date] = (acc[date] || 0) + parseFloat(sale.final_amount); return acc; }, {});\n    const datosFormateados = Object.keys(datosGrafico).map(day => ({ name: day, Ventas: datosGrafico[day] }));\n    return <div className=\"space-y-6\"><h1 className=\"text-3xl font-bold text-gray-800\">Dashboard</h1><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\"><StatCard title=\"Ventas Totales\" value={`$${ventasTotales.toFixed(2)}`} icon={DollarSign} color=\"bg-green-500\" /><StatCard title=\"Transacciones\" value={ventas.length} icon={ShoppingCart} color=\"bg-blue-500\" /><StatCard title=\"Productos Activos\" value={productos.length} icon={Package} color=\"bg-purple-500\" /></div><Card><h2 className=\"text-xl font-bold text-gray-800 mb-4\">Ventas de la Semana</h2><ResponsiveContainer width=\"100%\" height={300}><BarChart data={datosFormateados}><CartesianGrid strokeDasharray=\"3 3\" /><XAxis dataKey=\"name\" /><YAxis /><Tooltip formatter={(value) => `$${value.toFixed(2)}`} /><Legend /><Bar dataKey=\"Ventas\" fill=\"#4f46e5\" /></BarChart></ResponsiveContainer></Card></div>;\n};\nconst GestionVentas = ({ sales, fetchData }) => {\n    const [viewingSale, setViewingSale] = useState(null);\n    const { tokensAuth } = useContext(ContextoAuth);\n\n    const handleCancelSale = async (saleId) => {\n        if (window.confirm(\"¿Estás seguro de que quieres cancelar esta venta? El stock de los productos será restaurado.\")) {\n            try {\n                const response = await fetch(`${API_URL}/sales/${saleId}/`, {\n                    method: 'DELETE',\n                    headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) }\n                });\n                if (!response.ok) {\n                    throw new Error(\"No se pudo cancelar la venta.\");\n                }\n                alert('Venta cancelada con éxito.');\n                fetchData();\n            } catch (err) {\n                alert(`Error: ${err.message}`);\n            }\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-3xl font-bold text-gray-800\">Historial de Ventas</h1>\n            <Table\n                headers={['ID', 'Fecha', 'Usuario', 'Items', 'Subtotal', 'Total Final', 'Acciones']}\n                data={sales}\n                renderRow={(s) => (\n                    <tr key={s.id} className=\"bg-white border-b hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\">#{s.id}</td>\n                        <td className=\"px-6 py-4\">{new Date(s.date_time).toLocaleString('es-AR')}</td>\n                        <td className=\"px-6 py-4\">{s.user}</td>\n                        <td className=\"px-6 py-4\">{s.details.length}</td>\n                        <td className=\"px-6 py-4\">${parseFloat(s.total_amount).toFixed(2)}</td>\n                        <td className=\"px-6 py-4 font-bold\">${parseFloat(s.final_amount).toFixed(2)}</td>\n                        <td className=\"px-6 py-4 flex gap-2\">\n                            <Button onClick={() => setViewingSale(s)} variant=\"secondary\" icon={Eye} />\n                            <Button onClick={() => handleCancelSale(s.id)} variant=\"danger\" icon={Trash2} />\n                        </td>\n                    </tr>\n                )}\n            />\n            {viewingSale && (\n                <Modal isOpen={!!viewingSale} onClose={() => setViewingSale(null)} title={`Detalle de Venta #${viewingSale.id}`}>\n                    <div>\n                        <ul className=\"space-y-2\">\n                            {viewingSale.details.map(detail => (\n                                <li key={detail.product.id} className=\"flex justify-between items-center p-2 bg-gray-50 rounded-md\">\n                                    <span>{detail.quantity} x {detail.product.name}</span>\n                                    <span>${(detail.quantity * parseFloat(detail.unit_price)).toFixed(2)}</span>\n                                </li>\n                            ))}\n                        </ul>\n                        <div className=\"mt-4 pt-2 border-t text-right\">\n                            <p>Subtotal: ${parseFloat(viewingSale.total_amount).toFixed(2)}</p>\n                            <p>Método de Pago: {viewingSale.payment_method}</p>\n                            <p className=\"font-bold text-lg\">Total Final: ${parseFloat(viewingSale.final_amount).toFixed(2)}</p>\n                        </div>\n                    </div>\n                </Modal>\n            )}\n        </div>\n    );\n};\nconst GestionProveedores = ({ providers, fetchData }) => {\n    const [isModalOpen, setModalOpen] = useState(false);\n    const [editingProvider, setEditingProvider] = useState(null);\n    const { tokensAuth } = useContext(ContextoAuth);\n\n    const openModalForNew = () => {\n        setEditingProvider({ name: '', contact_person: '', phone_number: '', email: '' });\n        setModalOpen(true);\n    };\n\n    const openModalForEdit = (provider) => {\n        setEditingProvider(provider);\n        setModalOpen(true);\n    };\n\n    const handleSave = async (providerData) => {\n        const isEditing = !!providerData.id;\n        const url = isEditing ? `${API_URL}/providers/${providerData.id}/` : `${API_URL}/providers/`;\n        const method = isEditing ? 'PUT' : 'POST';\n\n        try {\n            const response = await fetch(url, {\n                method: method,\n                headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(tokensAuth.access) },\n                body: JSON.stringify(providerData)\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(JSON.stringify(errorData));\n            }\n            alert(`Proveedor ${isEditing ? 'actualizado' : 'creado'} con éxito.`);\n            setModalOpen(false);\n            fetchData();\n        } catch (err) {\n            alert(`Error al guardar el proveedor: ${err.message}`);\n        }\n    };\n\n    const handleDelete = async (providerId) => {\n        if (window.confirm(\"¿Estás seguro de que quieres eliminar este proveedor?\")) {\n            try {\n                await fetch(`${API_URL}/providers/${providerId}/`, {\n                    method: 'DELETE',\n                    headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) }\n                });\n                alert('Proveedor eliminado con éxito.');\n                fetchData();\n            } catch (err) {\n                alert(`Error al eliminar: ${err.message}`);\n            }\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n                <h1 className=\"text-3xl font-bold text-gray-800\">Gestión de Proveedores</h1>\n                <Button onClick={openModalForNew} icon={PlusCircle}>Nuevo Proveedor</Button>\n            </div>\n            <Table\n                headers={['Nombre', 'Contacto', 'Teléfono', 'Email', 'Acciones']}\n                data={providers}\n                renderRow={(provider) => (\n                    <tr key={provider.id} className=\"bg-white border-b hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\">{provider.name}</td>\n                        <td className=\"px-6 py-4\">{provider.contact_person || '-'}</td>\n                        <td className=\"px-6 py-4\">{provider.phone_number || '-'}</td>\n                        <td className=\"px-6 py-4\">{provider.email || '-'}</td>\n                        <td className=\"px-6 py-4 flex gap-2\">\n                            <Button onClick={() => openModalForEdit(provider)} variant=\"secondary\" icon={Edit} />\n                            <Button onClick={() => handleDelete(provider.id)} variant=\"danger\" icon={Trash2} />\n                        </td>\n                    </tr>\n                )}\n            />\n            <Modal isOpen={isModalOpen} onClose={() => setModalOpen(false)} title={editingProvider?.id ? 'Editar Proveedor' : 'Nuevo Proveedor'}>\n                {editingProvider && <ProviderForm provider={editingProvider} onSave={handleSave} onCancel={() => setModalOpen(false)} />}\n            </Modal>\n        </div>\n    );\n};\nconst ProviderForm = ({ provider, onSave, onCancel }) => {\n    const [formData, setFormData] = useState(provider);\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({ ...prev, [name]: value }));\n    };\n\n    return (\n        <form onSubmit={(e) => { e.preventDefault(); onSave(formData); }} className=\"space-y-4\">\n            <input name=\"name\" value={formData.name} onChange={handleChange} placeholder=\"Nombre del proveedor\" className=\"p-2 border rounded-lg w-full\" required />\n            <input name=\"contact_person\" value={formData.contact_person || ''} onChange={handleChange} placeholder=\"Persona de contacto (opcional)\" className=\"p-2 border rounded-lg w-full\" />\n            <input name=\"phone_number\" value={formData.phone_number || ''} onChange={handleChange} placeholder=\"Teléfono (opcional)\" className=\"p-2 border rounded-lg w-full\" />\n            <input name=\"email\" type=\"email\" value={formData.email || ''} onChange={handleChange} placeholder=\"Email (opcional)\" className=\"p-2 border rounded-lg w-full\" />\n            <div className=\"flex justify-end gap-3 pt-4\">\n                <Button type=\"button\" onClick={onCancel} variant=\"secondary\">Cancelar</Button>\n                <Button type=\"submit\" variant=\"primary\">Guardar</Button>\n            </div>\n        </form>\n    );\n};\nconst GestionClientes = ({ clients, fetchData }) => {\n    const [isModalOpen, setModalOpen] = useState(false);\n    const [editingClient, setEditingClient] = useState(null);\n    const { tokensAuth } = useContext(ContextoAuth);\n\n    const openModalForNew = () => {\n        setEditingClient({ name: '', phone_number: '', email: '', birthday: null });\n        setModalOpen(true);\n    };\n\n    const openModalForEdit = (client) => {\n        setEditingClient(client);\n        setModalOpen(true);\n    };\n\n    const handleSave = async (clientData) => {\n        const isEditing = !!clientData.id;\n        const url = isEditing ? `${API_URL}/clients/${clientData.id}/` : `${API_URL}/clients/`;\n        const method = isEditing ? 'PUT' : 'POST';\n        \n        if (clientData.email === '') clientData.email = null;\n        if (clientData.phone_number === '') clientData.phone_number = null;\n        if (clientData.birthday === '') clientData.birthday = null;\n\n        try {\n            const response = await fetch(url, {\n                method: method,\n                headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(tokensAuth.access) },\n                body: JSON.stringify(clientData)\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(JSON.stringify(errorData));\n            }\n            alert(`Cliente ${isEditing ? 'actualizado' : 'creado'} con éxito.`);\n            setModalOpen(false);\n            fetchData();\n        } catch (err) {\n            alert(`Error al guardar el cliente: ${err.message}`);\n        }\n    };\n\n    const handleDelete = async (clientId) => {\n        if (window.confirm(\"¿Estás seguro de que quieres eliminar este cliente?\")) {\n            try {\n                await fetch(`${API_URL}/clients/${clientId}/`, {\n                    method: 'DELETE',\n                    headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) }\n                });\n                alert('Cliente eliminado con éxito.');\n                fetchData();\n            } catch (err) {\n                alert(`Error al eliminar: ${err.message}`);\n            }\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n                <h1 className=\"text-3xl font-bold text-gray-800\">Gestión de Clientes</h1>\n                <Button onClick={openModalForNew} icon={PlusCircle}>Nuevo Cliente</Button>\n            </div>\n            <Table\n                headers={['Nombre', 'Teléfono', 'Email', 'Cumpleaños', 'Acciones']}\n                data={clients}\n                renderRow={(client) => (\n                    <tr key={client.id} className=\"bg-white border-b hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\">{client.name}</td>\n                        <td className=\"px-6 py-4\">{client.phone_number || '-'}</td>\n                        <td className=\"px-6 py-4\">{client.email || '-'}</td>\n                        <td className=\"px-6 py-4\">{client.birthday ? new Date(client.birthday + 'T00:00:00').toLocaleDateString('es-AR') : '-'}</td>\n                        <td className=\"px-6 py-4 flex gap-2\">\n                            <Button onClick={() => openModalForEdit(client)} variant=\"secondary\" icon={Edit} />\n                            <Button onClick={() => handleDelete(client.id)} variant=\"danger\" icon={Trash2} />\n                        </td>\n                    </tr>\n                )}\n            />\n            <Modal isOpen={isModalOpen} onClose={() => setModalOpen(false)} title={editingClient?.id ? 'Editar Cliente' : 'Nuevo Cliente'}>\n                {editingClient && <ClientForm client={editingClient} onSave={handleSave} onCancel={() => setModalOpen(false)} />}\n            </Modal>\n        </div>\n    );\n};\nconst ClientForm = ({ client, onSave, onCancel }) => {\n    const [formData, setFormData] = useState(client);\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({ ...prev, [name]: value }));\n    };\n\n    return (\n        <form onSubmit={(e) => { e.preventDefault(); onSave(formData); }} className=\"space-y-4\">\n            <input name=\"name\" value={formData.name} onChange={handleChange} placeholder=\"Nombre del cliente\" className=\"p-2 border rounded-lg w-full\" required />\n            <input name=\"phone_number\" value={formData.phone_number || ''} onChange={handleChange} placeholder=\"Teléfono (opcional)\" className=\"p-2 border rounded-lg w-full\" />\n            <input name=\"email\" type=\"email\" value={formData.email || ''} onChange={handleChange} placeholder=\"Email (opcional)\" className=\"p-2 border rounded-lg w-full\" />\n            <div>\n                <label htmlFor=\"birthday\" className=\"text-sm text-gray-600\">Fecha de Nacimiento (opcional)</label>\n                <input id=\"birthday\" name=\"birthday\" type=\"date\" value={formData.birthday || ''} onChange={handleChange} className=\"p-2 border rounded-lg w-full\" />\n            </div>\n            <div className=\"flex justify-end gap-3 pt-4\">\n                <Button type=\"button\" onClick={onCancel} variant=\"secondary\">Cancelar</Button>\n                <Button type=\"submit\" variant=\"primary\">Guardar</Button>\n            </div>\n        </form>\n    );\n};\nconst ReportesYEstadisticas = () => {\n    const [reportData, setReportData] = useState(null);\n    const { tokensAuth } = useContext(ContextoAuth);\n    useEffect(() => {\n        const fetchReportData = async () => {\n            try {\n                const response = await fetch(`${API_URL}/reports/`, { headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) } });\n                if (!response.ok) throw new Error('No se pudieron cargar los reportes.');\n                const data = await response.json(); setReportData(data);\n            } catch (error) { console.error(error); }\n        };\n        fetchReportData();\n    }, [tokensAuth]);\n    if (!reportData) return <div className=\"p-6\">Cargando reportes...</div>;\n    return (\n        <div className=\"space-y-6\"><h1 className=\"text-3xl font-bold text-gray-800\">Reportes y Estadísticas</h1><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"><StatCard title=\"Producto Más Vendido\" value={reportData.most_sold_product.name} subtitle={`${reportData.most_sold_product.total_sold} u.`} icon={Package} color=\"bg-indigo-500\" /><StatCard title=\"Producto Más Rentable\" value={reportData.most_profitable_product.name} subtitle={`$${parseFloat(reportData.most_profitable_product.profit_margin).toFixed(2)} de margen`} icon={TrendingUp} color=\"bg-green-500\" /><StatCard title=\"Hora Pico de Ventas\" value={reportData.peak_hour.hour !== 'N/A' ? `${reportData.peak_hour.hour}:00 - ${reportData.peak_hour.hour + 1}:00` : 'N/A'} subtitle={`${reportData.peak_hour.count} ventas`} icon={Activity} color=\"bg-amber-500\" /></div></div>\n    );\n};\nconst GestionUsuarios = ({ usuarios, grupos, obtenerDatos }) => {\n    const [modalAbierto, setModalAbierto] = useState(false);\n    const { tokensAuth, usuario: usuarioActual } = useContext(ContextoAuth);\n\n    const guardarUsuario = async (datosUsuario) => {\n        try {\n            const response = await fetch(`${API_URL}/users/`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(tokensAuth.access) },\n                body: JSON.stringify(datosUsuario),\n            });\n            if (!response.ok) { const errorData = await response.json(); throw new Error(JSON.stringify(errorData)); }\n            alert('Usuario creado con éxito.'); setModalAbierto(false); obtenerDatos();\n        } catch (err) { alert(`Error al crear usuario: ${err.message}`); }\n    };\n    \n    const borrarUsuario = async (idUsuario) => {\n        if (idUsuario === usuarioActual.user_id) { alert(\"No puedes eliminar tu propia cuenta.\"); return; }\n        if (window.confirm(\"¿Estás seguro de que quieres eliminar este usuario?\")) {\n            try {\n                await fetch(`${API_URL}/users/${idUsuario}/`, { method: 'DELETE', headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) }});\n                alert('Usuario eliminado con éxito.'); obtenerDatos();\n            } catch (err) { alert(`Error al eliminar: ${err.message}`); }\n        }\n    };\n    \n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\"><h1 className=\"text-3xl font-bold text-gray-800\">Gestión de Usuarios</h1><Button onClick={() => setModalAbierto(true)} icon={UserPlus}>Nuevo Usuario</Button></div>\n            <Table headers={['ID', 'Username', 'Grupos', 'Acciones']} data={usuarios} renderRow={(user) => (<tr key={user.id} className=\"bg-white border-b hover:bg-gray-50\"><td className=\"px-6 py-4\">{user.id}</td><td className=\"px-6 py-4\">{user.username}</td><td className=\"px-6 py-4\">{user.groups.join(', ')}</td><td className=\"px-6 py-4\"><Button onClick={() => borrarUsuario(user.id)} variant=\"danger\" disabled={user.id === usuarioActual.user_id} icon={Trash2}/></td></tr>)}/>\n            <Modal isOpen={modalAbierto} onClose={() => setModalAbierto(false)} title=\"Crear Nuevo Usuario\"><UserForm onSave={guardarUsuario} onCancel={() => setModalAbierto(false)} groups={grupos} /></Modal>\n        </div>\n    );\n};\nconst UserForm = ({ onSave, onCancel, groups }) => {\n    const [formData, setFormData] = useState({ username: '', password: '', groups: [] });\n    const handleChange = (e) => { const { name, value } = e.target; setFormData(prev => ({ ...prev, [name]: value })); };\n    const handleGroupChange = (e) => {\n        const selectedOptions = Array.from(e.target.selectedOptions, option => option.value);\n        setFormData(prev => ({...prev, groups: selectedOptions}));\n    };\n    return (\n        <form onSubmit={(e) => { e.preventDefault(); onSave(formData); }} className=\"space-y-4\">\n            <input name=\"username\" value={formData.username} onChange={handleChange} placeholder=\"Nombre de usuario\" className=\"p-2 border rounded-lg w-full\" required />\n            <input name=\"password\" type=\"password\" value={formData.password} onChange={handleChange} placeholder=\"Contraseña\" className=\"p-2 border rounded-lg w-full\" required />\n            <div>\n                <label className=\"block mb-2 text-sm font-medium text-gray-900\">Grupo(s)</label>\n                <select multiple value={formData.groups} onChange={handleGroupChange} className=\"p-2 border rounded-lg w-full\" required>\n                    {groups.map(g => <option key={g.name} value={g.name}>{g.name}</option>)}\n                </select>\n                <p className=\"text-xs text-gray-500 mt-1\">Mantén Ctrl (o Cmd en Mac) para seleccionar más de uno.</p>\n            </div>\n            <div className=\"flex justify-end gap-3 pt-4\"><Button type=\"button\" onClick={onCancel} variant=\"secondary\">Cancelar</Button><Button type=\"submit\" variant=\"primary\">Crear Usuario</Button></div>\n        </form>\n    );\n};\nconst CierreCaja = () => {\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [countedAmount, setCountedAmount] = useState('');\n    const [error, setError] = useState('');\n    const { tokensAuth } = useContext(ContextoAuth);\n\n    const fetchData = useCallback(async () => {\n        setLoading(true);\n        setError('');\n        try {\n            const response = await fetch(`${API_URL}/cash-count/`, { headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) } });\n            const responseData = await response.json();\n\n            if (!response.ok) {\n                 if (response.status === 409) {\n                     setError(responseData.message);\n                     setData({ history: responseData.history || [] }); \n                 } else {\n                    throw new Error(responseData.detail || 'No se pudieron cargar los datos del cierre de caja.');\n                 }\n            } else {\n                setData(responseData);\n            }\n\n        } catch (error) {\n            setError(error.message);\n        } finally {\n            setLoading(false);\n        }\n    }, [tokensAuth]);\n\n    useEffect(() => {\n        fetchData();\n    }, [fetchData]);\n\n    const handleSaveClose = async () => {\n        if(countedAmount === '' || isNaN(parseFloat(countedAmount))) {\n            alert(\"Por favor, ingresa un monto contado válido.\");\n            return;\n        }\n        try {\n            const response = await fetch(`${API_URL}/cash-count/`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(tokensAuth.access) },\n                body: JSON.stringify({\n                    counted_amount: parseFloat(countedAmount),\n                    expected_amount: data.expected_amount\n                })\n            });\n            if (!response.ok) { throw new Error('No se pudo guardar el cierre.'); }\n            alert('¡Cierre de caja guardado con éxito!');\n            fetchData();\n        } catch (err) {\n            alert(`Error: ${err.message}`);\n        }\n    };\n    \n    const difference = data?.expected_amount != null && countedAmount !== '' ? parseFloat(countedAmount) - data.expected_amount : null;\n\n    if (loading) return <div className=\"p-6\">Cargando...</div>;\n    \n    return (\n        <div className=\"space-y-8\">\n            <h1 className=\"text-3xl font-bold text-gray-800\">Cierre de Caja Diario</h1>\n            \n            <Card>\n                <h2 className=\"text-xl font-bold text-gray-700 mb-4\">Cierre del Día ({new Date().toLocaleDateString('es-AR')})</h2>\n                {error && !data?.expected_amount ? (\n                    <div className=\"text-center p-8 bg-yellow-50 rounded-lg\">\n                        <p className=\"text-lg font-semibold text-yellow-700\">{error}</p>\n                    </div>\n                ) : (\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 items-center\">\n                        <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n                            <h3 className=\"text-sm font-semibold text-blue-800 uppercase\">Monto Esperado (Sistema)</h3>\n                            <p className=\"text-4xl font-bold text-blue-900\">${parseFloat(data?.expected_amount || 0).toFixed(2)}</p>\n                        </div>\n                        <div className=\"p-4\">\n                             <label className=\"block text-sm font-medium text-gray-700 mb-1\">Monto Contado en Caja</label>\n                             <input \n                                type=\"number\"\n                                value={countedAmount}\n                                onChange={(e) => setCountedAmount(e.target.value)}\n                                placeholder=\"0.00\"\n                                className=\"w-full p-3 text-2xl text-center border-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\n                             />\n                        </div>\n                         <div className={`text-center p-4 rounded-lg ${difference === null ? 'bg-gray-100' : difference === 0 ? 'bg-green-100' : 'bg-red-100'}`}>\n                            <h3 className={`text-sm font-semibold uppercase ${difference === null ? 'text-gray-800' : difference === 0 ? 'text-green-800' : 'text-red-800'}`}>Diferencia</h3>\n                            <p className={`text-4xl font-bold ${difference === null ? 'text-gray-900' : difference === 0 ? 'text-green-900' : 'text-red-900'}`}>{difference !== null ? `$${difference.toFixed(2)}` : '-'}</p>\n                        </div>\n                        <div className=\"md:col-span-3 text-center\">\n                            <Button onClick={handleSaveClose} disabled={difference === null || !!error} variant=\"primary\" icon={Archive}>Guardar Cierre de Caja</Button>\n                        </div>\n                    </div>\n                )}\n            </Card>\n\n            <div>\n                 <h2 className=\"text-xl font-bold text-gray-700 mb-4\">Historial de Cierres</h2>\n                 <Table\n                    headers={['Fecha', 'Monto Esperado', 'Monto Contado', 'Diferencia', 'Usuario']}\n                    data={data?.history || []}\n                    renderRow={(c) => (\n                        <tr key={c.id} className=\"bg-white border-b hover:bg-gray-50\">\n                            <td className=\"px-6 py-4\">{new Date(c.date + 'T00:00:00').toLocaleDateString('es-AR')}</td>\n                            <td className=\"px-6 py-4\">${parseFloat(c.expected_amount).toFixed(2)}</td>\n                            <td className=\"px-6 py-4\">${parseFloat(c.counted_amount).toFixed(2)}</td>\n                            <td className={`px-6 py-4 font-bold ${c.difference > 0 ? 'text-green-600' : c.difference < 0 ? 'text-red-600' : 'text-gray-800'}`}>\n                                {c.difference > 0 ? `+${parseFloat(c.difference).toFixed(2)}` : parseFloat(c.difference).toFixed(2)}\n                            </td>\n                            <td className=\"px-6 py-4\">{c.user}</td>\n                        </tr>\n                    )}\n                 />\n            </div>\n        </div>\n    );\n};\nconst ActualizacionMasivaPrecios = ({ products, providers, fetchData }) => {\n    const [selectedProvider, setSelectedProvider] = useState('');\n    const [selectedProducts, setSelectedProducts] = useState(new Set());\n    const [percentage, setPercentage] = useState('');\n    const [updateTarget, setUpdateTarget] = useState('both');\n    const { tokensAuth } = useContext(ContextoAuth);\n\n    const handleSelectAll = (filteredProducts) => {\n        if (selectedProducts.size === filteredProducts.length) {\n            setSelectedProducts(new Set());\n        } else {\n            setSelectedProducts(new Set(filteredProducts.map(p => p.id)));\n        }\n    };\n    \n    const handleSelectProduct = (productId) => {\n        const newSelection = new Set(selectedProducts);\n        if (newSelection.has(productId)) {\n            newSelection.delete(productId);\n        } else {\n            newSelection.add(productId);\n        }\n        setSelectedProducts(newSelection);\n    };\n\n    const handleUpdate = async () => {\n        if(selectedProducts.size === 0 || !percentage || !updateTarget) {\n            alert(\"Por favor, selecciona productos, un porcentaje y un objetivo de actualización.\");\n            return;\n        }\n\n        const payload = {\n            product_ids: Array.from(selectedProducts),\n            percentage: percentage,\n            update_target: updateTarget\n        };\n\n        if(window.confirm(`¿Seguro que quieres actualizar ${selectedProducts.size} productos con un ${percentage}% de aumento?`)) {\n            try {\n                const response = await fetch(`${API_URL}/bulk-price-update/`, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(tokensAuth.access) },\n                    body: JSON.stringify(payload)\n                });\n                if (!response.ok) {\n                    const errorData = await response.json();\n                    throw new Error(JSON.stringify(errorData));\n                }\n                alert('Precios actualizados con éxito.');\n                fetchData();\n                setSelectedProducts(new Set());\n                setPercentage('');\n            } catch (err) {\n                alert(`Error al actualizar precios: ${err.message}`);\n            }\n        }\n    };\n\n    const filteredProducts = selectedProvider ? products.filter(p => p.provider === parseInt(selectedProvider)) : [];\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-3xl font-bold text-gray-800\">Actualización Masiva de Precios</h1>\n            <Card>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Filtrar por Proveedor</label>\n                        <select value={selectedProvider} onChange={(e) => setSelectedProvider(e.target.value)} className=\"p-2 border rounded-lg w-full mt-1\">\n                            <option value=\"\">Seleccionar Proveedor</option>\n                            {providers.map(p => <option key={p.id} value={p.id}>{p.name}</option>)}\n                        </select>\n                    </div>\n                    <div>\n                         <label className=\"block text-sm font-medium text-gray-700\">Porcentaje de Aumento (%)</label>\n                         <input type=\"number\" value={percentage} onChange={(e) => setPercentage(e.target.value)} placeholder=\"Ej: 15\" className=\"p-2 border rounded-lg w-full mt-1\"/>\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Actualizar Precio de:</label>\n                        <div className=\"flex gap-4 mt-2\">\n                           <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"target\" value=\"cost\" checked={updateTarget === 'cost'} onChange={e => setUpdateTarget(e.target.value)}/> Costo</label>\n                           <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"target\" value=\"sale\" checked={updateTarget === 'sale'} onChange={e => setUpdateTarget(e.target.value)}/> Venta</label>\n                           <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"target\" value=\"both\" checked={updateTarget === 'both'} onChange={e => setUpdateTarget(e.target.value)}/> Ambos</label>\n                        </div>\n                    </div>\n                    <Button onClick={handleUpdate} disabled={selectedProducts.size === 0 || !percentage}>Actualizar {selectedProducts.size} Productos</Button>\n                </div>\n            </Card>\n            <Table \n                headers={[\n                    <input type=\"checkbox\" onChange={() => handleSelectAll(filteredProducts)} checked={selectedProducts.size > 0 && filteredProducts.length > 0 && selectedProducts.size === filteredProducts.length}/>, \n                    'SKU', 'Nombre', 'Costo Actual', 'Venta Actual'\n                ]} \n                data={filteredProducts} \n                renderRow={(p) => (\n                    <tr key={p.id} className=\"bg-white border-b hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\"><input type=\"checkbox\" checked={selectedProducts.has(p.id)} onChange={() => handleSelectProduct(p.id)}/></td>\n                        <td className=\"px-6 py-4\">{p.sku}</td>\n                        <td className=\"px-6 py-4\">{p.name}</td>\n                        <td className=\"px-6 py-4\">${parseFloat(p.cost_price).toFixed(2)}</td>\n                        <td className=\"px-6 py-4\">${parseFloat(p.sale_price).toFixed(2)}</td>\n                    </tr>\n                )}\n            />\n        </div>\n    );\n};\nconst GestionMetodosDePago = ({ paymentMethods, fetchData }) => {\n    const [isModalOpen, setModalOpen] = useState(false);\n    const [editingMethod, setEditingMethod] = useState(null);\n    const { tokensAuth } = useContext(ContextoAuth);\n\n    const openModalForNew = () => {\n        setEditingMethod({ name: '', adjustment_percentage: '0.00', is_active: true });\n        setModalOpen(true);\n    };\n\n    const openModalForEdit = (method) => {\n        setEditingMethod(method);\n        setModalOpen(true);\n    };\n\n    const handleSave = async (methodData) => {\n        const isEditing = !!methodData.id;\n        const url = isEditing ? `${API_URL}/admin/payment-methods/${methodData.id}/` : `${API_URL}/admin/payment-methods/`;\n        const method = isEditing ? 'PUT' : 'POST';\n\n        try {\n            const response = await fetch(url, {\n                method: method,\n                headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(tokensAuth.access) },\n                body: JSON.stringify(methodData)\n            });\n            if (!response.ok) { const errorData = await response.json(); throw new Error(JSON.stringify(errorData)); }\n            alert(`Método de pago ${isEditing ? 'actualizado' : 'creado'} con éxito.`);\n            setModalOpen(false);\n            fetchData();\n        } catch (err) {\n            alert(`Error: ${err.message}`);\n        }\n    };\n    \n    const handleDelete = async (methodId) => {\n        if (window.confirm(\"¿Estás seguro de que quieres eliminar este método de pago?\")) {\n            try {\n                const response = await fetch(`${API_URL}/admin/payment-methods/${methodId}/`, {\n                    method: 'DELETE',\n                    headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) }\n                });\n                if (!response.ok) {\n                    const errorData = await response.json();\n                    throw new Error(errorData.detail || \"No se pudo eliminar el método de pago.\");\n                }\n                alert('Método de pago eliminado con éxito.');\n                fetchData();\n            } catch (err) {\n                alert(`Error al eliminar: ${err.message}`);\n            }\n        }\n    };\n    \n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n                <h1 className=\"text-3xl font-bold text-gray-800\">Gestión de Métodos de Pago</h1>\n                <Button onClick={openModalForNew} icon={PlusCircle}>Nuevo Método</Button>\n            </div>\n            <Table\n                headers={['Nombre', 'Ajuste (%)', 'Estado', 'Acciones']}\n                data={paymentMethods}\n                renderRow={(pm) => (\n                    <tr key={pm.id} className=\"bg-white border-b hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\">{pm.name}</td>\n                        <td className={`px-6 py-4 font-semibold ${pm.adjustment_percentage < 0 ? 'text-green-600' : pm.adjustment_percentage > 0 ? 'text-red-600' : 'text-gray-700'}`}>\n                            {pm.adjustment_percentage}%\n                        </td>\n                        <td className=\"px-6 py-4\">\n                           <span className={`px-2 py-1 rounded-full text-xs font-semibold ${pm.is_active ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                             {pm.is_active ? 'Activo' : 'Inactivo'}\n                           </span>\n                        </td>\n                        <td className=\"px-6 py-4 flex gap-2\">\n                            <Button onClick={() => openModalForEdit(pm)} variant=\"secondary\" icon={Edit} />\n                            <Button onClick={() => handleDelete(pm.id)} variant=\"danger\" icon={Trash2} />\n                        </td>\n                    </tr>\n                )}\n            />\n            <Modal isOpen={isModalOpen} onClose={() => setModalOpen(false)} title={editingMethod?.id ? 'Editar Método de Pago' : 'Nuevo Método de Pago'}>\n                {editingMethod && <PaymentMethodForm method={editingMethod} onSave={handleSave} onCancel={() => setModalOpen(false)} />}\n            </Modal>\n        </div>\n    );\n};\nconst PaymentMethodForm = ({ method, onSave, onCancel }) => {\n    const [formData, setFormData] = useState(method);\n    const handleChange = (e) => {\n        const { name, value, type, checked } = e.target;\n        setFormData(prev => ({ ...prev, [name]: type === 'checkbox' ? checked : value }));\n    };\n\n    return (\n        <form onSubmit={(e) => { e.preventDefault(); onSave(formData); }} className=\"space-y-4\">\n            <input name=\"name\" value={formData.name} onChange={handleChange} placeholder=\"Nombre (Ej: Efectivo, Tarjeta Naranja)\" className=\"p-2 border rounded-lg w-full\" required />\n            <input name=\"adjustment_percentage\" type=\"number\" step=\"0.01\" value={formData.adjustment_percentage} onChange={handleChange} placeholder=\"Porcentaje de ajuste\" className=\"p-2 border rounded-lg w-full\" required />\n            <p className=\"text-xs text-gray-500\">Usa números negativos para descuentos (ej: -10) y positivos para recargos (ej: 8.5).</p>\n            <label className=\"flex items-center gap-2\">\n                <input type=\"checkbox\" name=\"is_active\" checked={formData.is_active} onChange={handleChange} />\n                Activo\n            </label>\n            <div className=\"flex justify-end gap-3 pt-4\">\n                <Button type=\"button\" onClick={onCancel} variant=\"secondary\">Cancelar</Button>\n                <Button type=\"submit\" variant=\"primary\">Guardar</Button>\n            </div>\n        </form>\n    );\n};\n\n// --- AuthProvider ---\nconst AuthProvider = ({ children }) => {\n    const [tokensAuth, setTokensAuth] = useState(() => localStorage.getItem('tokensAuth') ? JSON.parse(localStorage.getItem('tokensAuth')) : null);\n    const [usuario, setUsuario] = useState(() => {\n        const token = localStorage.getItem('tokensAuth');\n        if (!token) return null;\n        try {\n            return decodificarToken(JSON.parse(token).access);\n        } catch (e) {\n            return null;\n        }\n    });\n    const [cargando, setCargando] = useState(true);\n    const iniciarSesion = async (username, password) => {\n        const response = await fetch(`${API_URL}/token/`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ username, password }) });\n        const data = await response.json();\n        if (response.ok) { \n            const usuarioDecodificado = decodificarToken(data.access);\n            setTokensAuth(data); \n            setUsuario(usuarioDecodificado); \n            localStorage.setItem('tokensAuth', JSON.stringify(data)); \n        } else { alert('Usuario o contraseña incorrectos.'); }\n    };\n    const cerrarSesion = useCallback(() => { setTokensAuth(null); setUsuario(null); localStorage.removeItem('tokensAuth'); }, []);\n    const actualizarToken = useCallback(async () => {\n        const tokensActuales = JSON.parse(localStorage.getItem('tokensAuth'));\n        if (!tokensActuales?.refresh) { cerrarSesion(); return; }\n        try {\n            const response = await fetch(`${API_URL}/token/refresh/`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ 'refresh': tokensActuales.refresh }) });\n            const data = await response.json();\n            if (response.ok) {\n                const nuevosTokens = { ...tokensActuales, access: data.access };\n                setTokensAuth(nuevosTokens); \n                setUsuario(decodificarToken(data.access));\n                localStorage.setItem('tokensAuth', JSON.stringify(nuevosTokens));\n            } else { cerrarSesion(); }\n        } catch { cerrarSesion(); }\n    }, [cerrarSesion]);\n    useEffect(() => { const interval = setInterval(() => { if (tokensAuth) actualizarToken(); }, 1000 * 60 * 4); return () => clearInterval(interval); }, [tokensAuth, actualizarToken]);\n    useEffect(() => { setCargando(false); }, []);\n    return (<ContextoAuth.Provider value={{ usuario, tokensAuth, iniciarSesion, cerrarSesion }}>{cargando ? <div className=\"min-h-screen flex items-center justify-center\">Cargando...</div> : children}</ContextoAuth.Provider>);\n};\n\n// --- Componente Principal ---\nexport default function AppWrapper() { return (<AuthProvider><App /></AuthProvider>); }\n\nfunction App() {\n    const { usuario, tokensAuth, cerrarSesion } = useContext(ContextoAuth);\n    const [vista, setVista] = useState('pos');\n    const [vistaAdmin, setVistaAdmin] = useState('dashboard');\n    const [productos, setProductos] = useState([]);\n    const [ventas, setVentas] = useState([]);\n    const [proveedores, setProveedores] = useState([]);\n    const [clientes, setClientes] = useState([]);\n    const [categorias, setCategorias] = useState([]);\n    const [todosLosUsuarios, setTodosLosUsuarios] = useState([]);\n    const [grupos, setGrupos] = useState([]);\n    const [cargando, setCargando] = useState(true);\n    const [error, setError] = useState(null);\n    const [metodosDePago, setMetodosDePago] = useState([]);\n    const [metodosDePagoAdmin, setMetodosDePagoAdmin] = useState([]);\n\n    const esAdmin = usuario?.groups?.includes('Administradores');\n\n    const obtenerDatos = useCallback(async () => {\n        if (!tokensAuth) return;\n        setCargando(true);\n        let endpoints = ['products', 'sales', 'payment-methods'];\n        if (esAdmin) {\n            endpoints.push('providers', 'clients', 'categories', 'users', 'groups', 'admin/payment-methods');\n        }\n        try {\n            const requests = endpoints.map(endpoint => \n                fetch(`${API_URL}/${endpoint}/`, { headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) } }).then(res => {\n                    if(res.status === 401) { cerrarSesion(); return Promise.reject(new Error(\"Token inválido\")); }\n                    if (!res.ok) return Promise.resolve([]);\n                    return res.json()\n                })\n            );\n            const data = await Promise.all(requests);\n            const dataMap = Object.fromEntries(endpoints.map((e, i) => [e, data[i]]));\n\n            setProductos(dataMap.products || []); \n            setVentas(dataMap.sales || []);\n            setMetodosDePago(dataMap['payment-methods'] || []);\n            if(esAdmin) {\n                setProveedores(dataMap.providers || []); \n                setClientes(dataMap.clients || []); \n                setCategorias(dataMap.categories || []); \n                setTodosLosUsuarios(dataMap.users || []);\n                setGrupos(dataMap.groups || []);\n                setMetodosDePagoAdmin(dataMap['admin/payment-methods'] || []);\n            }\n            setError(null);\n        } catch (err) {\n            if (err.message !== \"Token inválido\") { setError(\"No se pudo conectar con el servidor.\"); }\n        } finally { setCargando(false); }\n    }, [tokensAuth, cerrarSesion, esAdmin]); \n\n    useEffect(() => { obtenerDatos(); }, [obtenerDatos]);\n    useEffect(() => { if (usuario && !esAdmin) setVista('pos'); }, [usuario, esAdmin]);\n\n    const handleVentaCompleta = async (carrito, total, idMetodoPago) => {\n        const datosVenta = { total_amount: total.toFixed(2), details: carrito.map(item => ({ product_id: item.id, quantity: item.quantity, unit_price: item.price.toFixed(2) })), payment_method_id: idMetodoPago };\n        try {\n            const response = await fetch(`${API_URL}/sales/`, { method: 'POST', headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(tokensAuth.access) }, body: JSON.stringify(datosVenta) });\n            if (!response.ok) { const errorData = await response.json(); throw new Error(JSON.stringify(errorData)); }\n            alert('Venta registrada.'); obtenerDatos();\n        } catch (err) { alert(`Error: ${err.message}`); }\n    };\n    \n    const renderizarVistaAdmin = () => {\n        switch (vistaAdmin) {\n            case 'dashboard': return <DashboardAdmin products={productos} sales={ventas} />;\n            case 'products': return <GestionProductos products={productos} providers={proveedores} categories={categorias} fetchData={obtenerDatos} />;\n            case 'sales': return <GestionVentas sales={ventas} fetchData={obtenerDatos}/>;\n            case 'providers': return <GestionProveedores providers={proveedores} fetchData={obtenerDatos} />;\n            case 'clients': return <GestionClientes clients={clientes} fetchData={obtenerDatos} />;\n            case 'reports': return <ReportesYEstadisticas />;\n            case 'users': return <GestionUsuarios usuarios={todosLosUsuarios} grupos={grupos} obtenerDatos={obtenerDatos} />;\n            case 'cash-count': return <CierreCaja />;\n            case 'bulk-price-update': return <ActualizacionMasivaPrecios products={productos} providers={proveedores} fetchData={obtenerDatos} />;\n            case 'payment-methods': return <GestionMetodosDePago paymentMethods={metodosDePagoAdmin} fetchData={obtenerDatos} />;\n            default: return <DashboardAdmin products={productos} sales={ventas}/>;\n        }\n    };\n\n    const NavItem = ({ icon: Icon, children, onClick, active }) => (<li onClick={onClick} className={`flex items-center gap-3 px-4 py-3 cursor-pointer rounded-lg ${active ? 'bg-indigo-600 text-white' : 'hover:bg-gray-200'}`}><Icon size={22} /><span className=\"font-medium\">{children}</span></li>);\n\n    if (!usuario) return <PaginaLogin />;\n    if (cargando) return <div className=\"min-h-screen flex items-center justify-center\">Cargando datos...</div>\n    if (error) return <div className=\"min-h-screen flex items-center justify-center text-red-500\">{error}</div>\n\n    return (\n        <div className=\"flex h-screen bg-gray-100 font-sans\">\n            {esAdmin && vista === 'admin' && (\n                <aside className=\"w-64 bg-white shadow-xl flex flex-col p-4\">\n                    <h1 className=\"text-2xl font-bold text-indigo-600 px-4 mb-6\">MiNegocio<span className=\"font-light\">PRO</span></h1>\n                    <nav className=\"flex-grow\"><ul className=\"space-y-2\">\n                        <NavItem icon={BarChart2} active={vistaAdmin === 'dashboard'} onClick={() => setVistaAdmin('dashboard')}>Dashboard</NavItem>\n                        <NavItem icon={Package} active={vistaAdmin === 'products'} onClick={() => setVistaAdmin('products')}>Productos</NavItem>\n                        <NavItem icon={UploadCloud} active={vistaAdmin === 'bulk-price-update'} onClick={() => setVistaAdmin('bulk-price-update')}>Actualizar Precios</NavItem>\n                        <NavItem icon={DollarSign} active={vistaAdmin === 'sales'} onClick={() => setVistaAdmin('sales')}>Ventas</NavItem>\n                        <NavItem icon={Archive} active={vistaAdmin === 'cash-count'} onClick={() => setVistaAdmin('cash-count')}>Cierre de Caja</NavItem>\n                        <NavItem icon={CreditCard} active={vistaAdmin === 'payment-methods'} onClick={() => setVistaAdmin('payment-methods')}>Métodos de Pago</NavItem>\n                        <NavItem icon={Truck} active={vistaAdmin === 'providers'} onClick={() => setVistaAdmin('providers')}>Proveedores</NavItem>\n                        <NavItem icon={Users} active={vistaAdmin === 'clients'} onClick={() => setVistaAdmin('clients')}>Clientes</NavItem>\n                        <NavItem icon={BarChart} active={vistaAdmin === 'reports'} onClick={() => setVistaAdmin('reports')}>Reportes</NavItem>\n                        <NavItem icon={UserPlus} active={vistaAdmin === 'users'} onClick={() => setVistaAdmin('users')}>Usuarios</NavItem>\n                    </ul></nav>\n                    <div className=\"mt-auto\"><NavItem icon={ShoppingCart} onClick={() => setVista('pos')}>Ir al Punto de Venta</NavItem></div>\n                </aside>\n            )}\n            <main className=\"flex-1 flex flex-col\">\n                <header className=\"bg-white shadow-sm p-4 flex justify-between items-center z-10\">\n                    <div>{esAdmin && vista === 'pos' && <Button onClick={() => setVista('admin')} variant=\"secondary\">Volver al Panel</Button>}</div>\n                    <div className=\"flex items-center gap-3\"><span className=\"font-semibold text-gray-700\">{usuario.username}</span><button onClick={cerrarSesion} className=\"text-gray-500 hover:text-red-600\"><LogOut size={20} /></button></div>\n                </header>\n                <div className=\"flex-1 p-6 overflow-y-auto\">{vista === 'pos' || !esAdmin ? <PuntoDeVenta productos={productos} metodosDePago={metodosDePago} onVentaCompleta={handleVentaCompleta} /> : renderizarVistaAdmin()}</div>\n            </main>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}