{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matias\\\\nexus-pro\\\\src\\\\hooks\\\\usePaginacionYBusqueda.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport { Button } from '../components/ui/ComponentesUI'; // Asegúrate que la ruta sea correcta\n\n/**\r\n * Un Hook personalizado para manejar la paginación y la lógica de búsqueda de una lista de datos.\r\n * @param {Array} items - El array completo de items a paginar y buscar.\r\n * @param {number} [itemsPorPagina=10] - El número de items a mostrar por página.\r\n * @param {Array<string>} [camposDeBusqueda=[]] - Los campos del objeto item en los que se debe buscar.\r\n * @returns Un objeto que contiene los datos paginados y los componentes de UI para la búsqueda y paginación.\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const usePaginacionYBusqueda = (items, itemsPorPagina = 10, camposDeBusqueda = []) => {\n  _s();\n  const [paginaActual, setPaginaActual] = useState(1);\n  const [terminoBusqueda, setTerminoBusqueda] = useState('');\n\n  // Memoriza los items filtrados para evitar recálculos innecesarios\n  const itemsFiltrados = useMemo(() => {\n    if (!terminoBusqueda) {\n      return items;\n    }\n    return items.filter(item => {\n      return camposDeBusqueda.some(campo => {\n        // Navega por objetos anidados si el campo contiene puntos (ej: 'category.name')\n        const valorCampo = campo.split('.').reduce((obj, key) => obj && obj[key], item);\n        return valorCampo && valorCampo.toString().toLowerCase().includes(terminoBusqueda.toLowerCase());\n      });\n    });\n  }, [items, terminoBusqueda, camposDeBusqueda]);\n\n  // Calcula el número total de páginas basado en los items filtrados\n  const totalPaginas = Math.ceil(itemsFiltrados.length / itemsPorPagina);\n\n  // Obtiene los datos para la página actual\n  const datosPaginados = useMemo(() => {\n    const inicio = (paginaActual - 1) * itemsPorPagina;\n    const fin = inicio + itemsPorPagina;\n    return itemsFiltrados.slice(inicio, fin);\n  }, [paginaActual, itemsFiltrados, itemsPorPagina]);\n\n  // Cambia a la página anterior\n  const paginaAnterior = () => {\n    setPaginaActual(prev => Math.max(prev - 1, 1));\n  };\n\n  // Cambia a la página siguiente\n  const paginaSiguiente = () => {\n    setPaginaActual(prev => Math.min(prev + 1, totalPaginas));\n  };\n\n  // Componente de UI para la barra de búsqueda\n  const BusquedaUI = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-4\",\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: terminoBusqueda,\n      onChange: e => {\n        setTerminoBusqueda(e.target.value);\n        setPaginaActual(1); // Resetea a la primera página al buscar\n      },\n      placeholder: \"Buscar...\",\n      className: \"p-2 border rounded-lg w-full md:w-1/3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n\n  // Componente de UI para los controles de paginación\n  const PaginacionUI = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-between items-center mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm text-gray-700\",\n      children: [\"Mostrando \", itemsFiltrados.length > 0 ? (paginaActual - 1) * itemsPorPagina + 1 : 0, \"- \", Math.min(paginaActual * itemsPorPagina, itemsFiltrados.length), \" de \", itemsFiltrados.length, \" resultados\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: paginaAnterior,\n        disabled: paginaActual === 1,\n        children: \"Anterior\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"self-center px-4 py-2 text-sm\",\n        children: [\"P\\xE1gina \", paginaActual, \" de \", totalPaginas > 0 ? totalPaginas : 1]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: paginaSiguiente,\n        disabled: paginaActual >= totalPaginas,\n        children: \"Siguiente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n  return {\n    datosPaginados,\n    BusquedaUI,\n    PaginacionUI\n  };\n};\n_s(usePaginacionYBusqueda, \"SgDezrPTmapgJKX1/ZoWscn7le8=\");","map":{"version":3,"names":["React","useState","useMemo","Button","jsxDEV","_jsxDEV","usePaginacionYBusqueda","items","itemsPorPagina","camposDeBusqueda","_s","paginaActual","setPaginaActual","terminoBusqueda","setTerminoBusqueda","itemsFiltrados","filter","item","some","campo","valorCampo","split","reduce","obj","key","toString","toLowerCase","includes","totalPaginas","Math","ceil","length","datosPaginados","inicio","fin","slice","paginaAnterior","prev","max","paginaSiguiente","min","BusquedaUI","className","children","type","value","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","PaginacionUI","onClick","disabled"],"sources":["C:/Users/Matias/nexus-pro/src/hooks/usePaginacionYBusqueda.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport { Button } from '../components/ui/ComponentesUI'; // Asegúrate que la ruta sea correcta\r\n\r\n/**\r\n * Un Hook personalizado para manejar la paginación y la lógica de búsqueda de una lista de datos.\r\n * @param {Array} items - El array completo de items a paginar y buscar.\r\n * @param {number} [itemsPorPagina=10] - El número de items a mostrar por página.\r\n * @param {Array<string>} [camposDeBusqueda=[]] - Los campos del objeto item en los que se debe buscar.\r\n * @returns Un objeto que contiene los datos paginados y los componentes de UI para la búsqueda y paginación.\r\n */\r\nexport const usePaginacionYBusqueda = (items, itemsPorPagina = 10, camposDeBusqueda = []) => {\r\n    const [paginaActual, setPaginaActual] = useState(1);\r\n    const [terminoBusqueda, setTerminoBusqueda] = useState('');\r\n\r\n    // Memoriza los items filtrados para evitar recálculos innecesarios\r\n    const itemsFiltrados = useMemo(() => {\r\n        if (!terminoBusqueda) {\r\n            return items;\r\n        }\r\n        return items.filter(item => {\r\n            return camposDeBusqueda.some(campo => {\r\n                // Navega por objetos anidados si el campo contiene puntos (ej: 'category.name')\r\n                const valorCampo = campo.split('.').reduce((obj, key) => obj && obj[key], item);\r\n                return valorCampo && valorCampo.toString().toLowerCase().includes(terminoBusqueda.toLowerCase());\r\n            });\r\n        });\r\n    }, [items, terminoBusqueda, camposDeBusqueda]);\r\n\r\n    // Calcula el número total de páginas basado en los items filtrados\r\n    const totalPaginas = Math.ceil(itemsFiltrados.length / itemsPorPagina);\r\n\r\n    // Obtiene los datos para la página actual\r\n    const datosPaginados = useMemo(() => {\r\n        const inicio = (paginaActual - 1) * itemsPorPagina;\r\n        const fin = inicio + itemsPorPagina;\r\n        return itemsFiltrados.slice(inicio, fin);\r\n    }, [paginaActual, itemsFiltrados, itemsPorPagina]);\r\n    \r\n    // Cambia a la página anterior\r\n    const paginaAnterior = () => {\r\n        setPaginaActual(prev => Math.max(prev - 1, 1));\r\n    };\r\n\r\n    // Cambia a la página siguiente\r\n    const paginaSiguiente = () => {\r\n        setPaginaActual(prev => Math.min(prev + 1, totalPaginas));\r\n    };\r\n\r\n    // Componente de UI para la barra de búsqueda\r\n    const BusquedaUI = (\r\n        <div className=\"mb-4\">\r\n            <input\r\n                type=\"text\"\r\n                value={terminoBusqueda}\r\n                onChange={(e) => {\r\n                    setTerminoBusqueda(e.target.value);\r\n                    setPaginaActual(1); // Resetea a la primera página al buscar\r\n                }}\r\n                placeholder=\"Buscar...\"\r\n                className=\"p-2 border rounded-lg w-full md:w-1/3\"\r\n            />\r\n        </div>\r\n    );\r\n\r\n    // Componente de UI para los controles de paginación\r\n    const PaginacionUI = (\r\n        <div className=\"flex justify-between items-center mt-4\">\r\n            <span className=\"text-sm text-gray-700\">\r\n                Mostrando {itemsFiltrados.length > 0 ? ((paginaActual - 1) * itemsPorPagina) + 1 : 0} \r\n                - {Math.min(paginaActual * itemsPorPagina, itemsFiltrados.length)} de {itemsFiltrados.length} resultados\r\n            </span>\r\n            <div className=\"flex gap-2\">\r\n                <Button onClick={paginaAnterior} disabled={paginaActual === 1}>\r\n                    Anterior\r\n                </Button>\r\n                <span className=\"self-center px-4 py-2 text-sm\">\r\n                    Página {paginaActual} de {totalPaginas > 0 ? totalPaginas : 1}\r\n                </span>\r\n                <Button onClick={paginaSiguiente} disabled={paginaActual >= totalPaginas}>\r\n                    Siguiente\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return { datosPaginados, BusquedaUI, PaginacionUI };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}