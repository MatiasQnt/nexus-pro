{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matias\\\\nexus-pro\\\\src\\\\pages\\\\reportes\\\\ReportesYEstadisticas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Package, TrendingUp, Activity } from 'lucide-react';\nimport { ContextoAuth } from '../../context/AuthContext';\nimport { StatCard } from '../../components/ui/ComponentesUI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://127.0.0.1:8000/api';\nconst ReportesYEstadisticas = () => {\n  _s();\n  const [datosReporte, setDatosReporte] = useState(null);\n  const [cargando, setCargando] = useState(true);\n  const {\n    tokensAuth\n  } = useContext(ContextoAuth);\n  useEffect(() => {\n    const obtenerDatosReporte = async () => {\n      setCargando(true);\n      try {\n        const response = await fetch(`${API_URL}/reports/`, {\n          headers: {\n            'Authorization': 'Bearer ' + String(tokensAuth.access)\n          }\n        });\n        if (!response.ok) {\n          throw new Error('No se pudieron cargar los reportes.');\n        }\n        const data = await response.json();\n        setDatosReporte(data);\n      } catch (error) {\n        console.error(error);\n        setDatosReporte(null); // Asegurarse de que no queden datos viejos en caso de error\n      } finally {\n        setCargando(false);\n      }\n    };\n    if (tokensAuth) {\n      obtenerDatosReporte();\n    }\n  }, [tokensAuth]);\n  if (cargando) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: \"Cargando reportes...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 16\n    }, this);\n  }\n  if (!datosReporte) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 text-red-500\",\n      children: \"No se pudieron cargar los datos de los reportes.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Reportes y Estad\\xEDsticas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Producto M\\xE1s Vendido\",\n        value: datosReporte.most_sold_product.name,\n        subtitle: `${datosReporte.most_sold_product.total_sold} unidades vendidas`,\n        icon: Package,\n        color: \"bg-indigo-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Producto M\\xE1s Rentable\",\n        value: datosReporte.most_profitable_product.name,\n        subtitle: `$${parseFloat(datosReporte.most_profitable_product.profit_margin).toFixed(2)} de margen`,\n        icon: TrendingUp,\n        color: \"bg-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Hora Pico de Ventas\",\n        value: datosReporte.peak_hour.hour !== 'N/A' ? `${datosReporte.peak_hour.hour}:00 - ${datosReporte.peak_hour.hour + 1}:00` : 'N/A',\n        subtitle: `${datosReporte.peak_hour.count} ventas registradas`,\n        icon: Activity,\n        color: \"bg-amber-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(ReportesYEstadisticas, \"6nGF7tYuSazrxRSMZtufQJqo4Vg=\");\n_c = ReportesYEstadisticas;\nexport default ReportesYEstadisticas;\nvar _c;\n$RefreshReg$(_c, \"ReportesYEstadisticas\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Package","TrendingUp","Activity","ContextoAuth","StatCard","jsxDEV","_jsxDEV","API_URL","ReportesYEstadisticas","_s","datosReporte","setDatosReporte","cargando","setCargando","tokensAuth","obtenerDatosReporte","response","fetch","headers","String","access","ok","Error","data","json","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","value","most_sold_product","name","subtitle","total_sold","icon","color","most_profitable_product","parseFloat","profit_margin","toFixed","peak_hour","hour","count","_c","$RefreshReg$"],"sources":["C:/Users/Matias/nexus-pro/src/pages/reportes/ReportesYEstadisticas.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Package, TrendingUp, Activity } from 'lucide-react';\r\nimport { ContextoAuth } from '../../context/AuthContext';\r\nimport { StatCard } from '../../components/ui/ComponentesUI';\r\n\r\nconst API_URL = 'http://127.0.0.1:8000/api';\r\n\r\nconst ReportesYEstadisticas = () => {\r\n    const [datosReporte, setDatosReporte] = useState(null);\r\n    const [cargando, setCargando] = useState(true);\r\n    const { tokensAuth } = useContext(ContextoAuth);\r\n\r\n    useEffect(() => {\r\n        const obtenerDatosReporte = async () => {\r\n            setCargando(true);\r\n            try {\r\n                const response = await fetch(`${API_URL}/reports/`, { headers: { 'Authorization': 'Bearer ' + String(tokensAuth.access) } });\r\n                if (!response.ok) {\r\n                    throw new Error('No se pudieron cargar los reportes.');\r\n                }\r\n                const data = await response.json();\r\n                setDatosReporte(data);\r\n            } catch (error) {\r\n                console.error(error);\r\n                setDatosReporte(null); // Asegurarse de que no queden datos viejos en caso de error\r\n            } finally {\r\n                setCargando(false);\r\n            }\r\n        };\r\n\r\n        if (tokensAuth) {\r\n            obtenerDatosReporte();\r\n        }\r\n    }, [tokensAuth]);\r\n\r\n    if (cargando) {\r\n        return <div className=\"p-6\">Cargando reportes...</div>;\r\n    }\r\n\r\n    if (!datosReporte) {\r\n        return <div className=\"p-6 text-red-500\">No se pudieron cargar los datos de los reportes.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <h1 className=\"text-3xl font-bold text-gray-800\">Reportes y Estadísticas</h1>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                <StatCard \r\n                    title=\"Producto Más Vendido\"\r\n                    value={datosReporte.most_sold_product.name}\r\n                    subtitle={`${datosReporte.most_sold_product.total_sold} unidades vendidas`}\r\n                    icon={Package}\r\n                    color=\"bg-indigo-500\"\r\n                />\r\n                <StatCard \r\n                    title=\"Producto Más Rentable\"\r\n                    value={datosReporte.most_profitable_product.name}\r\n                    subtitle={`$${parseFloat(datosReporte.most_profitable_product.profit_margin).toFixed(2)} de margen`}\r\n                    icon={TrendingUp}\r\n                    color=\"bg-green-500\"\r\n                />\r\n                <StatCard \r\n                    title=\"Hora Pico de Ventas\"\r\n                    value={datosReporte.peak_hour.hour !== 'N/A' ? `${datosReporte.peak_hour.hour}:00 - ${datosReporte.peak_hour.hour + 1}:00` : 'N/A'}\r\n                    subtitle={`${datosReporte.peak_hour.count} ventas registradas`}\r\n                    icon={Activity}\r\n                    color=\"bg-amber-500\"\r\n                />\r\n            </div>\r\n            {/* Aquí se podrían añadir más gráficos y tablas en el futuro */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ReportesYEstadisticas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}