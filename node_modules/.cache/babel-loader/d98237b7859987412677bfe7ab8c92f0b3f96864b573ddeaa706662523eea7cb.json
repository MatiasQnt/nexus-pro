{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Matias\\\\nexus-pro\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$(),\n  _s10 = $RefreshSig$(),\n  _s11 = $RefreshSig$(),\n  _s12 = $RefreshSig$(),\n  _s13 = $RefreshSig$(),\n  _s14 = $RefreshSig$();\nimport React, { useState, useEffect, useContext, createContext, useCallback } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { Search, PlusCircle, Trash2, Edit, ShoppingCart, DollarSign, Package, Truck, BarChart2, UserPlus, LogOut, CheckCircle, Eye, EyeOff, Users, Activity, TrendingUp, Archive, UploadCloud } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://127.0.0.1:8000/api';\n\n// --- Función para decodificar JWT de forma segura ---\nconst decodeToken = token => {\n  try {\n    return JSON.parse(atob(token.split('.')[1]));\n  } catch (e) {\n    console.error(\"Error decoding token\", e);\n    return null;\n  }\n};\n\n// --- Contexto de Autenticación ---\nconst AuthContext = /*#__PURE__*/createContext();\n\n// --- Componentes de la UI ---\nconst Card = ({\n  children,\n  className = ''\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `bg-white rounded-xl shadow-md p-6 ${className}`,\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 21,\n  columnNumber: 48\n}, this);\n_c = Card;\nconst Button = ({\n  children,\n  onClick,\n  className = '',\n  variant = 'primary',\n  icon: Icon,\n  type = 'button',\n  disabled = false\n}) => {\n  const baseClasses = 'px-4 py-2 rounded-lg font-semibold flex items-center justify-center gap-2 transition-transform transform hover:scale-105';\n  const variants = {\n    primary: 'bg-indigo-600 text-white hover:bg-indigo-700',\n    secondary: 'bg-gray-200 text-gray-800 hover:bg-gray-300',\n    danger: 'bg-red-500 text-white hover:bg-red-600',\n    success: 'bg-green-500 text-white hover:bg-green-600'\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    type: type,\n    onClick: onClick,\n    disabled: disabled,\n    className: `${baseClasses} ${variants[variant]} ${className} ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`,\n    children: [Icon && /*#__PURE__*/_jsxDEV(Icon, {\n      size: 18\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 191\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 10\n  }, this);\n};\n_c2 = Button;\nconst Modal = ({\n  children,\n  isOpen,\n  onClose,\n  title\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-800 mb-4\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"absolute top-4 right-4 text-gray-500 hover:text-gray-800\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-6 h-6\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M6 18L18 6M6 6l12 12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 226\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 112\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n_c3 = Modal;\nconst Table = ({\n  headers,\n  data,\n  renderRow\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"overflow-x-auto bg-white rounded-lg shadow\",\n  children: /*#__PURE__*/_jsxDEV(\"table\", {\n    className: \"w-full text-sm text-left text-gray-500\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      className: \"text-xs text-gray-700 uppercase bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: headers.map((header, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n          scope: \"col\",\n          className: \"px-6 py-3\",\n          children: header\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 165\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 129\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 67\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: data.map((item, index) => renderRow(item, index))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 243\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 40,\n  columnNumber: 5\n}, this);\n_c4 = Table;\nconst StatCard = ({\n  title,\n  value,\n  icon: Icon,\n  color,\n  subtitle\n}) => /*#__PURE__*/_jsxDEV(Card, {\n  className: `relative overflow-hidden`,\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: `absolute -top-4 -right-4 p-4 rounded-full opacity-20 ${color}`,\n    children: /*#__PURE__*/_jsxDEV(Icon, {\n      size: 60\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 90\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n    className: \"text-gray-500 font-semibold\",\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-3xl font-bold text-gray-800 truncate\",\n    title: value,\n    children: value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this), subtitle && /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-sm text-gray-500\",\n    children: subtitle\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 22\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 45,\n  columnNumber: 5\n}, this);\n\n// --- Componentes específicos ---\n_c5 = StatCard;\nconst LoginPage = () => {\n  _s();\n  const {\n    loginUser\n  } = useContext(AuthContext);\n  const [passwordVisible, setPasswordVisible] = useState(false);\n  const handleSubmit = e => {\n    e.preventDefault();\n    loginUser(e.target.username.value, e.target.password.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-100 min-h-screen flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"text-center w-full max-w-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold mb-2 text-indigo-600\",\n        children: [\"MiNegocio\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-light\",\n          children: \"PRO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 82\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 mb-6\",\n        children: \"Inicia sesi\\xF3n para continuar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          required: true,\n          className: \"w-full p-3 border rounded-lg\",\n          placeholder: \"Nombre de usuario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: passwordVisible ? \"text\" : \"password\",\n            name: \"password\",\n            required: true,\n            className: \"w-full p-3 border rounded-lg pr-10\",\n            placeholder: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => setPasswordVisible(!passwordVisible),\n            className: \"absolute top-1/2 right-3 -translate-y-1/2 cursor-pointer text-gray-400 hover:text-gray-600\",\n            children: passwordVisible ? /*#__PURE__*/_jsxDEV(EyeOff, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 48\n            }, this) : /*#__PURE__*/_jsxDEV(Eye, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 71\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: \"w-full text-lg\",\n          variant: \"primary\",\n          children: \"Ingresar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginPage, \"QXTIyUaKMGbnxSgSqRUngDbKuvo=\");\n_c6 = LoginPage;\nconst PuntoDeVenta = ({\n  products,\n  paymentMethods,\n  onSaleComplete\n}) => {\n  _s2();\n  var _paymentMethods$;\n  const [cart, setCart] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isPaymentModalOpen, setPaymentModalOpen] = useState(false);\n  const [cashReceived, setCashReceived] = useState(0);\n  const [selectedPaymentMethodId, setSelectedPaymentMethodId] = useState(((_paymentMethods$ = paymentMethods[0]) === null || _paymentMethods$ === void 0 ? void 0 : _paymentMethods$.id) || '');\n  const filteredProducts = products.filter(p => p.name.toLowerCase().includes(searchTerm.toLowerCase()) || p.sku.toLowerCase().includes(searchTerm.toLowerCase()));\n  const addToCart = product => {\n    if (product.stock <= 0) {\n      alert(`El producto \"${product.name}\" no tiene stock.`);\n      return;\n    }\n    setCart(currentCart => {\n      const existingItem = currentCart.find(item => item.id === product.id);\n      if (existingItem) {\n        if (existingItem.quantity >= product.stock) {\n          alert(`No puedes agregar más unidades.`);\n          return currentCart;\n        }\n        return currentCart.map(item => item.id === product.id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item);\n      }\n      return [...currentCart, {\n        ...product,\n        quantity: 1,\n        price: parseFloat(product.sale_price)\n      }];\n    });\n  };\n  const handleProcessPayment = () => {\n    if (cart.length === 0) {\n      alert(\"El carrito está vacío.\");\n      return;\n    }\n    if (!selectedPaymentMethodId) {\n      alert(\"Por favor, selecciona un método de pago.\");\n      return;\n    }\n    onSaleComplete(cart, subtotal, selectedPaymentMethodId);\n    setCart([]);\n    setSearchTerm('');\n    setPaymentModalOpen(false);\n    setCashReceived(0);\n  };\n  const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const selectedMethod = paymentMethods.find(pm => pm.id === parseInt(selectedPaymentMethodId));\n  const adjustmentPercentage = selectedMethod ? parseFloat(selectedMethod.adjustment_percentage) : 0;\n  const finalTotal = subtotal * (1 + adjustmentPercentage / 100);\n  const change = cashReceived > finalTotal ? cashReceived - finalTotal : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-100px)]\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lg:col-span-2 bg-gray-50 p-4 rounded-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\",\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 101\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Buscar producto por nombre o SKU...\",\n          className: \"w-full pl-10 pr-4 py-2 border rounded-lg\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 187\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 70\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto h-[calc(100%-60px)] pr-2\",\n        children: filteredProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => addToCart(product),\n          className: `p-3 rounded-lg shadow-sm border-2 text-center ${product.stock > 0 ? 'cursor-pointer hover:shadow-lg bg-white' : 'bg-gray-200 opacity-60'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold text-gray-800 truncate\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 738\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"$\", parseFloat(product.sale_price).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 804\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-xs ${product.stock <= 5 ? 'text-red-500 font-bold' : 'text-gray-500'}`,\n            children: [\"Stock: \", product.stock]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 889\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 529\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 384\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 123\n        }, this), \" Venta Actual\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 45\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow overflow-y-auto border-t border-b py-2\",\n        children: cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-center py-10\",\n          children: \"El carrito est\\xE1 vac\\xEDo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 253\n        }, this) : cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-2 p-2 rounded-md hover:bg-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 453\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"$\", item.price.toFixed(2), \" x \", item.quantity]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 497\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 448\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: [\"$\", (item.price * item.quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 627\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCart(cart.filter(c => c.id !== item.id)),\n              className: \"text-red-500 hover:text-red-700\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 810\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 698\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 586\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 345\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 166\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-auto pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-2xl font-bold mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"SUBTOTAL:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 951\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", subtotal.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 973\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 889\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setPaymentModalOpen(true),\n          className: \"w-full text-lg\",\n          variant: \"success\",\n          icon: CheckCircle,\n          children: \"Cobrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 1014\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 859\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isPaymentModalOpen,\n      onClose: () => setPaymentModalOpen(false),\n      title: \"Procesar Pago\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right text-lg\",\n          children: [\"Subtotal: $\", subtotal.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-semibold text-gray-700\",\n            children: \"M\\xE9todo de Pago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedPaymentMethodId,\n            onChange: e => setSelectedPaymentMethodId(e.target.value),\n            className: \"w-full mt-1 p-2 border rounded-lg\",\n            children: paymentMethods.map(pm => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: pm.id,\n              children: [pm.name, \" (\", pm.adjustment_percentage, \"%)\"]\n            }, pm.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 268\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 95\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), adjustmentPercentage !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-right text-lg ${adjustmentPercentage < 0 ? 'text-green-600' : 'text-red-600'}`,\n          children: [\"Ajuste: \", adjustmentPercentage > 0 ? '+' : '', adjustmentPercentage.toFixed(2), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-4xl font-bold text-indigo-600 mb-4\",\n          children: [\"$\", finalTotal.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), (selectedMethod === null || selectedMethod === void 0 ? void 0 : selectedMethod.name) === 'Efectivo' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-semibold text-gray-700\",\n            children: \"Efectivo Recibido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 67\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: cashReceived,\n            onChange: e => setCashReceived(parseFloat(e.target.value) || 0),\n            className: \"w-full mt-1 p-2 border rounded-lg\",\n            placeholder: \"0.00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 139\n          }, this), cashReceived > finalTotal && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold mt-2 text-green-600\",\n            children: [\"Vuelto: $\", change.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 345\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 62\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setPaymentModalOpen(false),\n            variant: \"secondary\",\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 66\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleProcessPayment,\n            variant: \"success\",\n            children: \"Finalizar Venta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 154\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n};\n_s2(PuntoDeVenta, \"9n93R2PrayNfKipg39ojnVmgNZM=\");\n_c7 = PuntoDeVenta;\nconst GestionProductos = ({\n  products,\n  providers,\n  categories,\n  fetchData\n}) => {\n  _s3();\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const {\n    authTokens\n  } = useContext(AuthContext);\n  const openModalForNew = () => {\n    setEditingProduct({\n      name: '',\n      sku: '',\n      description: '',\n      cost_price: '',\n      sale_price: '',\n      stock: '',\n      category: '',\n      provider: null\n    });\n    setModalOpen(true);\n  };\n  const openModalForEdit = product => {\n    setEditingProduct(product);\n    setModalOpen(true);\n  };\n  const handleSave = async productData => {\n    const isEditing = !!productData.id;\n    const url = isEditing ? `${API_URL}/products/${productData.id}/` : `${API_URL}/products/`;\n    const method = isEditing ? 'PUT' : 'POST';\n    if (productData.provider === '') productData.provider = null;\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(authTokens.access)\n        },\n        body: JSON.stringify(productData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert(`Producto ${isEditing ? 'actualizado' : 'creado'}.`);\n      setModalOpen(false);\n      fetchData();\n    } catch (err) {\n      alert(`Error: ${err.message}`);\n    }\n  };\n  const handleDelete = async productId => {\n    if (window.confirm(\"¿Estás seguro de que quieres eliminar este producto?\")) {\n      try {\n        await fetch(`${API_URL}/products/${productId}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(authTokens.access)\n          }\n        });\n        alert('Producto eliminado.');\n        fetchData();\n      } catch (err) {\n        alert(`Error: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Gesti\\xF3n de Productos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 64\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: openModalForNew,\n        icon: PlusCircle,\n        children: \"Nuevo Producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 138\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['SKU', 'Nombre', 'Precio Venta', 'Stock', 'Categoría', 'Acciones'],\n      data: products,\n      renderRow: p => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: p.sku\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 195\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: p.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 233\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: [\"$\", parseFloat(p.sale_price).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 272\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full text-xs ${p.stock <= 5 ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`,\n            children: p.stock\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 367\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 341\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: p.category_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 515\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => openModalForEdit(p),\n            className: \"text-indigo-600\",\n            children: /*#__PURE__*/_jsxDEV(Edit, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 672\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 600\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(p.id),\n            className: \"text-red-600\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 766\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 698\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 563\n        }, this)]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 133\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setModalOpen(false),\n      title: editingProduct !== null && editingProduct !== void 0 && editingProduct.id ? 'Editar Producto' : 'Nuevo Producto',\n      children: editingProduct && /*#__PURE__*/_jsxDEV(ProductForm, {\n        product: editingProduct,\n        onSave: handleSave,\n        onCancel: () => setModalOpen(false),\n        categories: categories,\n        providers: providers\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 162\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 9\n  }, this);\n};\n_s3(GestionProductos, \"AMubKvv4PPHff78jaEr6BXHKbdM=\");\n_c8 = GestionProductos;\nconst ProductForm = ({\n  product,\n  onSave,\n  onCancel,\n  categories,\n  providers\n}) => {\n  _s4();\n  const [formData, setFormData] = useState(product);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      onSave(formData);\n    },\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        value: formData.name,\n        onChange: handleChange,\n        placeholder: \"Nombre del producto\",\n        className: \"p-2 border rounded-lg w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 68\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"sku\",\n        value: formData.sku,\n        onChange: handleChange,\n        placeholder: \"SKU\",\n        className: \"p-2 border rounded-lg w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 218\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: \"description\",\n      value: formData.description || '',\n      onChange: handleChange,\n      placeholder: \"Descripci\\xF3n\",\n      className: \"p-2 border rounded-lg w-full min-h-[80px]\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 356\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"cost_price\",\n        type: \"number\",\n        step: \"0.01\",\n        value: formData.cost_price,\n        onChange: handleChange,\n        placeholder: \"Costo\",\n        className: \"p-2 border rounded-lg w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 580\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"sale_price\",\n        type: \"number\",\n        step: \"0.01\",\n        value: formData.sale_price,\n        onChange: handleChange,\n        placeholder: \"Venta\",\n        className: \"p-2 border rounded-lg w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 754\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"stock\",\n        type: \"number\",\n        value: formData.stock,\n        onChange: handleChange,\n        placeholder: \"Stock\",\n        className: \"p-2 border rounded-lg w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 928\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 525\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"category\",\n        value: formData.category,\n        onChange: handleChange,\n        className: \"p-2 border rounded-lg w-full\",\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Categor\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 1265\n        }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c.id,\n          children: c.name\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 1321\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 1141\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"provider\",\n        value: formData.provider || '',\n        onChange: handleChange,\n        className: \"p-2 border rounded-lg w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Proveedor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 1502\n        }, this), providers.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: p.id,\n          children: p.name\n        }, p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 1557\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 1381\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 1086\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: onCancel,\n        variant: \"secondary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 1668\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 1746\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 1623\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 9\n  }, this);\n};\n_s4(ProductForm, \"uwbaP2LPT3iFHkyJdTQ0gby6Ezw=\");\n_c9 = ProductForm;\nconst AdminDashboard = ({\n  products,\n  sales\n}) => {\n  const totalSales = sales.reduce((sum, sale) => sum + parseFloat(sale.final_amount), 0);\n  const chartData = sales.reduce((acc, sale) => {\n    const date = new Date(sale.date_time).toLocaleDateString('es-AR', {\n      weekday: 'short'\n    });\n    acc[date] = (acc[date] || 0) + parseFloat(sale.final_amount);\n    return acc;\n  }, {});\n  const chartDataFormatted = Object.keys(chartData).map(day => ({\n    name: day,\n    Ventas: chartData[day]\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 39\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Ventas Totales\",\n        value: `$${totalSales.toFixed(2)}`,\n        icon: DollarSign,\n        color: \"bg-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 172\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Transacciones\",\n        value: sales.length,\n        icon: ShoppingCart,\n        color: \"bg-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 282\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Productos Activos\",\n        value: products.length,\n        icon: Package,\n        color: \"bg-purple-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 377\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 102\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-800 mb-4\",\n        children: \"Ventas de la Semana\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 488\n      }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: 300,\n        children: /*#__PURE__*/_jsxDEV(BarChart, {\n          data: chartDataFormatted,\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 648\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 687\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 711\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            formatter: value => `$${value.toFixed(2)}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 720\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 777\n          }, this), /*#__PURE__*/_jsxDEV(Bar, {\n            dataKey: \"Ventas\",\n            fill: \"#4f46e5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 787\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 612\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 565\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 482\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 12\n  }, this);\n};\n_c0 = AdminDashboard;\nconst GestionVentas = ({\n  sales,\n  fetchData\n}) => {\n  _s5();\n  const [viewingSale, setViewingSale] = useState(null);\n  const {\n    authTokens\n  } = useContext(AuthContext);\n  const handleCancelSale = async saleId => {\n    if (window.confirm(\"¿Estás seguro de que quieres cancelar esta venta? El stock de los productos será restaurado.\")) {\n      try {\n        const response = await fetch(`${API_URL}/sales/${saleId}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(authTokens.access)\n          }\n        });\n        if (!response.ok) {\n          throw new Error(\"No se pudo cancelar la venta.\");\n        }\n        alert('Venta cancelada con éxito.');\n        fetchData();\n      } catch (err) {\n        alert(`Error: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Historial de Ventas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['ID', 'Fecha', 'Usuario', 'Items', 'Subtotal', 'Total Final', 'Acciones'],\n      data: sales,\n      renderRow: s => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: [\"#\", s.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: new Date(s.date_time).toLocaleString('es-AR')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: s.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: s.details.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: [\"$\", parseFloat(s.total_amount).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 font-bold\",\n          children: [\"$\", parseFloat(s.final_amount).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setViewingSale(s),\n            variant: \"secondary\",\n            icon: Eye\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleCancelSale(s.id),\n            variant: \"danger\",\n            icon: Trash2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 25\n        }, this)]\n      }, s.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this), viewingSale && /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: !!viewingSale,\n      onClose: () => setViewingSale(null),\n      title: `Detalle de Venta #${viewingSale.id}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: viewingSale.details.map(detail => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"flex justify-between items-center p-2 bg-gray-50 rounded-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [detail.quantity, \" x \", detail.product.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", (detail.quantity * parseFloat(detail.unit_price)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 37\n            }, this)]\n          }, detail.product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 pt-2 border-t text-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Subtotal: $\", parseFloat(viewingSale.total_amount).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"M\\xE9todo de Pago: \", viewingSale.payment_method]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold text-lg\",\n            children: [\"Total Final: $\", parseFloat(viewingSale.final_amount).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 9\n  }, this);\n};\n_s5(GestionVentas, \"kBuj98G8V0AIUsza7b40wZh1ttE=\");\n_c1 = GestionVentas;\nconst GestionProveedores = ({\n  providers,\n  fetchData\n}) => {\n  _s6();\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [editingProvider, setEditingProvider] = useState(null);\n  const {\n    authTokens\n  } = useContext(AuthContext);\n  const openModalForNew = () => {\n    setEditingProvider({\n      name: '',\n      contact_person: '',\n      phone_number: '',\n      email: ''\n    });\n    setModalOpen(true);\n  };\n  const openModalForEdit = provider => {\n    setEditingProvider(provider);\n    setModalOpen(true);\n  };\n  const handleSave = async providerData => {\n    const isEditing = !!providerData.id;\n    const url = isEditing ? `${API_URL}/providers/${providerData.id}/` : `${API_URL}/providers/`;\n    const method = isEditing ? 'PUT' : 'POST';\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(authTokens.access)\n        },\n        body: JSON.stringify(providerData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert(`Proveedor ${isEditing ? 'actualizado' : 'creado'} con éxito.`);\n      setModalOpen(false);\n      fetchData();\n    } catch (err) {\n      alert(`Error al guardar el proveedor: ${err.message}`);\n    }\n  };\n  const handleDelete = async providerId => {\n    if (window.confirm(\"¿Estás seguro de que quieres eliminar este proveedor?\")) {\n      try {\n        await fetch(`${API_URL}/providers/${providerId}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(authTokens.access)\n          }\n        });\n        alert('Proveedor eliminado con éxito.');\n        fetchData();\n      } catch (err) {\n        alert(`Error al eliminar: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Gesti\\xF3n de Proveedores\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: openModalForNew,\n        icon: PlusCircle,\n        children: \"Nuevo Proveedor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['Nombre', 'Contacto', 'Teléfono', 'Email', 'Acciones'],\n      data: providers,\n      renderRow: provider => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: provider.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: provider.contact_person || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: provider.phone_number || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: provider.email || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => openModalForEdit(provider),\n            variant: \"secondary\",\n            icon: Edit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleDelete(provider.id),\n            variant: \"danger\",\n            icon: Trash2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 25\n        }, this)]\n      }, provider.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setModalOpen(false),\n      title: editingProvider !== null && editingProvider !== void 0 && editingProvider.id ? 'Editar Proveedor' : 'Nuevo Proveedor',\n      children: editingProvider && /*#__PURE__*/_jsxDEV(ProviderForm, {\n        provider: editingProvider,\n        onSave: handleSave,\n        onCancel: () => setModalOpen(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 9\n  }, this);\n};\n_s6(GestionProveedores, \"hoH1BT1VIEMxtniEt4niZ2Kt5DY=\");\n_c10 = GestionProveedores;\nconst ProviderForm = ({\n  provider,\n  onSave,\n  onCancel\n}) => {\n  _s7();\n  const [formData, setFormData] = useState(provider);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      onSave(formData);\n    },\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"name\",\n      value: formData.name,\n      onChange: handleChange,\n      placeholder: \"Nombre del proveedor\",\n      className: \"p-2 border rounded-lg w-full\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"contact_person\",\n      value: formData.contact_person || '',\n      onChange: handleChange,\n      placeholder: \"Persona de contacto (opcional)\",\n      className: \"p-2 border rounded-lg w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"phone_number\",\n      value: formData.phone_number || '',\n      onChange: handleChange,\n      placeholder: \"Tel\\xE9fono (opcional)\",\n      className: \"p-2 border rounded-lg w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      value: formData.email || '',\n      onChange: handleChange,\n      placeholder: \"Email (opcional)\",\n      className: \"p-2 border rounded-lg w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: onCancel,\n        variant: \"secondary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 9\n  }, this);\n};\n_s7(ProviderForm, \"WIpeS77CEQeeQ03UIOeyvA6x6tA=\");\n_c11 = ProviderForm;\nconst GestionClientes = ({\n  clients,\n  fetchData\n}) => {\n  _s8();\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [editingClient, setEditingClient] = useState(null);\n  const {\n    authTokens\n  } = useContext(AuthContext);\n  const openModalForNew = () => {\n    setEditingClient({\n      name: '',\n      phone_number: '',\n      email: '',\n      birthday: null\n    });\n    setModalOpen(true);\n  };\n  const openModalForEdit = client => {\n    setEditingClient(client);\n    setModalOpen(true);\n  };\n  const handleSave = async clientData => {\n    const isEditing = !!clientData.id;\n    const url = isEditing ? `${API_URL}/clients/${clientData.id}/` : `${API_URL}/clients/`;\n    const method = isEditing ? 'PUT' : 'POST';\n    if (clientData.email === '') clientData.email = null;\n    if (clientData.phone_number === '') clientData.phone_number = null;\n    if (clientData.birthday === '') clientData.birthday = null;\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(authTokens.access)\n        },\n        body: JSON.stringify(clientData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert(`Cliente ${isEditing ? 'actualizado' : 'creado'} con éxito.`);\n      setModalOpen(false);\n      fetchData();\n    } catch (err) {\n      alert(`Error al guardar el cliente: ${err.message}`);\n    }\n  };\n  const handleDelete = async clientId => {\n    if (window.confirm(\"¿Estás seguro de que quieres eliminar este cliente?\")) {\n      try {\n        await fetch(`${API_URL}/clients/${clientId}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(authTokens.access)\n          }\n        });\n        alert('Cliente eliminado con éxito.');\n        fetchData();\n      } catch (err) {\n        alert(`Error al eliminar: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Gesti\\xF3n de Clientes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: openModalForNew,\n        icon: PlusCircle,\n        children: \"Nuevo Cliente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['Nombre', 'Teléfono', 'Email', 'Cumpleaños', 'Acciones'],\n      data: clients,\n      renderRow: client => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: client.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: client.phone_number || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: client.email || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: client.birthday ? new Date(client.birthday + 'T00:00:00').toLocaleDateString('es-AR') : '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4 flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => openModalForEdit(client),\n            variant: \"secondary\",\n            icon: Edit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleDelete(client.id),\n            variant: \"danger\",\n            icon: Trash2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 25\n        }, this)]\n      }, client.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setModalOpen(false),\n      title: editingClient !== null && editingClient !== void 0 && editingClient.id ? 'Editar Cliente' : 'Nuevo Cliente',\n      children: editingClient && /*#__PURE__*/_jsxDEV(ClientForm, {\n        client: editingClient,\n        onSave: handleSave,\n        onCancel: () => setModalOpen(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 401,\n    columnNumber: 9\n  }, this);\n};\n_s8(GestionClientes, \"jyttlVeVX9GUTbebGS3rGmrkgLc=\");\n_c12 = GestionClientes;\nconst ClientForm = ({\n  client,\n  onSave,\n  onCancel\n}) => {\n  _s9();\n  const [formData, setFormData] = useState(client);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      onSave(formData);\n    },\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"name\",\n      value: formData.name,\n      onChange: handleChange,\n      placeholder: \"Nombre del cliente\",\n      className: \"p-2 border rounded-lg w-full\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"phone_number\",\n      value: formData.phone_number || '',\n      onChange: handleChange,\n      placeholder: \"Tel\\xE9fono (opcional)\",\n      className: \"p-2 border rounded-lg w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      value: formData.email || '',\n      onChange: handleChange,\n      placeholder: \"Email (opcional)\",\n      className: \"p-2 border rounded-lg w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"birthday\",\n        className: \"text-sm text-gray-600\",\n        children: \"Fecha de Nacimiento (opcional)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"birthday\",\n        name: \"birthday\",\n        type: \"date\",\n        value: formData.birthday || '',\n        onChange: handleChange,\n        className: \"p-2 border rounded-lg w-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: onCancel,\n        variant: \"secondary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 436,\n    columnNumber: 9\n  }, this);\n};\n_s9(ClientForm, \"Y9W4JCA7lKptjeNhmgKyL+g8zcM=\");\n_c13 = ClientForm;\nconst ReportesYEstadisticas = () => {\n  _s0();\n  const [reportData, setReportData] = useState(null);\n  const {\n    authTokens\n  } = useContext(AuthContext);\n  useEffect(() => {\n    const fetchReportData = async () => {\n      try {\n        const response = await fetch(`${API_URL}/reports/`, {\n          headers: {\n            'Authorization': 'Bearer ' + String(authTokens.access)\n          }\n        });\n        if (!response.ok) throw new Error('No se pudieron cargar los reportes.');\n        const data = await response.json();\n        setReportData(data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchReportData();\n  }, [authTokens]);\n  if (!reportData) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: \"Cargando reportes...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 464,\n    columnNumber: 29\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Reportes y Estad\\xEDsticas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 36\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Producto M\\xE1s Vendido\",\n        value: reportData.most_sold_product.name,\n        subtitle: `${reportData.most_sold_product.total_sold} u.`,\n        icon: Package,\n        color: \"bg-indigo-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 183\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Producto M\\xE1s Rentable\",\n        value: reportData.most_profitable_product.name,\n        subtitle: `$${parseFloat(reportData.most_profitable_product.profit_margin).toFixed(2)} de margen`,\n        icon: TrendingUp,\n        color: \"bg-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 362\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Hora Pico de Ventas\",\n        value: reportData.peak_hour.hour !== 'N/A' ? `${reportData.peak_hour.hour}:00 - ${reportData.peak_hour.hour + 1}:00` : 'N/A',\n        subtitle: `${reportData.peak_hour.count} ventas`,\n        icon: Activity,\n        color: \"bg-amber-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 590\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 113\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 466,\n    columnNumber: 9\n  }, this);\n};\n_s0(ReportesYEstadisticas, \"hN2jSnsjyFN45HzHy4/Mth8N6iI=\");\n_c14 = ReportesYEstadisticas;\nconst GestionUsuarios = ({\n  allUsers,\n  groups,\n  fetchData\n}) => {\n  _s1();\n  const [isModalOpen, setModalOpen] = useState(false);\n  const {\n    authTokens,\n    user: currentUser\n  } = useContext(AuthContext);\n  const handleSave = async userData => {\n    try {\n      const response = await fetch(`${API_URL}/users/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(authTokens.access)\n        },\n        body: JSON.stringify(userData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert('Usuario creado con éxito.');\n      setModalOpen(false);\n      fetchData();\n    } catch (err) {\n      alert(`Error al crear usuario: ${err.message}`);\n    }\n  };\n  const handleDelete = async userId => {\n    if (userId === currentUser.user_id) {\n      alert(\"No puedes eliminar tu propia cuenta.\");\n      return;\n    }\n    if (window.confirm(\"¿Estás seguro de que quieres eliminar este usuario?\")) {\n      try {\n        await fetch(`${API_URL}/users/${userId}/`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': 'Bearer ' + String(authTokens.access)\n          }\n        });\n        alert('Usuario eliminado con éxito.');\n        fetchData();\n      } catch (err) {\n        alert(`Error al eliminar: ${err.message}`);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Gesti\\xF3n de Usuarios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 64\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setModalOpen(true),\n        icon: UserPlus,\n        children: \"Nuevo Usuario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 137\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: ['ID', 'Username', 'Grupos', 'Acciones'],\n      data: allUsers,\n      renderRow: user => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: user.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 174\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 214\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: user.groups.join(', ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 260\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleDelete(user.id),\n            variant: \"danger\",\n            disabled: user.id === currentUser.user_id,\n            icon: Trash2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 341\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 315\n        }, this)]\n      }, user.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 109\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setModalOpen(false),\n      title: \"Crear Nuevo Usuario\",\n      children: /*#__PURE__*/_jsxDEV(UserForm, {\n        onSave: handleSave,\n        onCancel: () => setModalOpen(false),\n        groups: groups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 105\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 496,\n    columnNumber: 9\n  }, this);\n};\n_s1(GestionUsuarios, \"f4qTX3M5RAsKzcOdX9BEB1uDnYs=\");\n_c15 = GestionUsuarios;\nconst UserForm = ({\n  onSave,\n  onCancel,\n  groups\n}) => {\n  _s10();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    groups: []\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleGroupChange = e => {\n    const selectedOptions = Array.from(e.target.selectedOptions, option => option.value);\n    setFormData(prev => ({\n      ...prev,\n      groups: selectedOptions\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => {\n      e.preventDefault();\n      onSave(formData);\n    },\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"username\",\n      value: formData.username,\n      onChange: handleChange,\n      placeholder: \"Nombre de usuario\",\n      className: \"p-2 border rounded-lg w-full\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      value: formData.password,\n      onChange: handleChange,\n      placeholder: \"Contrase\\xF1a\",\n      className: \"p-2 border rounded-lg w-full\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block mb-2 text-sm font-medium text-gray-900\",\n        children: \"Grupo(s)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        multiple: true,\n        value: formData.groups,\n        onChange: handleGroupChange,\n        className: \"p-2 border rounded-lg w-full\",\n        required: true,\n        children: groups.map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: g.name,\n          children: g.name\n        }, g.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 38\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: \"Mant\\xE9n Ctrl (o Cmd en Mac) para seleccionar m\\xE1s de uno.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end gap-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: onCancel,\n        variant: \"secondary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 58\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"Crear Usuario\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 136\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 511,\n    columnNumber: 9\n  }, this);\n};\n_s10(UserForm, \"+XLEcetpEZNghc+Kq2z5siAWCjI=\");\n_c16 = UserForm;\nconst CierreCaja = () => {\n  _s11();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [countedAmount, setCountedAmount] = useState('');\n  const [error, setError] = useState('');\n  const {\n    authTokens\n  } = useContext(AuthContext);\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await fetch(`${API_URL}/cash-count/`, {\n        headers: {\n          'Authorization': 'Bearer ' + String(authTokens.access)\n        }\n      });\n      const responseData = await response.json();\n      if (!response.ok) {\n        if (response.status === 409) {\n          setError(responseData.message);\n          setData({\n            history: responseData.history || []\n          });\n        } else {\n          throw new Error(responseData.detail || 'No se pudieron cargar los datos del cierre de caja.');\n        }\n      } else {\n        setData(responseData);\n      }\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [authTokens]);\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n  const handleSaveClose = async () => {\n    if (countedAmount === '' || isNaN(parseFloat(countedAmount))) {\n      alert(\"Por favor, ingresa un monto contado válido.\");\n      return;\n    }\n    try {\n      const response = await fetch(`${API_URL}/cash-count/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(authTokens.access)\n        },\n        body: JSON.stringify({\n          counted_amount: parseFloat(countedAmount),\n          expected_amount: data.expected_amount\n        })\n      });\n      if (!response.ok) {\n        throw new Error('No se pudo guardar el cierre.');\n      }\n      alert('¡Cierre de caja guardado con éxito!');\n      fetchData();\n    } catch (err) {\n      alert(`Error: ${err.message}`);\n    }\n  };\n  const difference = (data === null || data === void 0 ? void 0 : data.expected_amount) != null && countedAmount !== '' ? parseFloat(countedAmount) - data.expected_amount : null;\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: \"Cargando...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 585,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Cierre de Caja Diario\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-700 mb-4\",\n        children: [\"Cierre del D\\xEDa (\", new Date().toLocaleDateString('es-AR'), \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 17\n      }, this), error && !(data !== null && data !== void 0 && data.expected_amount) ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center p-8 bg-yellow-50 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-semibold text-yellow-700\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-4 bg-blue-50 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-blue-800 uppercase\",\n            children: \"Monto Esperado (Sistema)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-4xl font-bold text-blue-900\",\n            children: [\"$\", parseFloat((data === null || data === void 0 ? void 0 : data.expected_amount) || 0).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Monto Contado en Caja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: countedAmount,\n            onChange: e => setCountedAmount(e.target.value),\n            placeholder: \"0.00\",\n            className: \"w-full p-3 text-2xl text-center border-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-center p-4 rounded-lg ${difference === null ? 'bg-gray-100' : difference === 0 ? 'bg-green-100' : 'bg-red-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: `text-sm font-semibold uppercase ${difference === null ? 'text-gray-800' : difference === 0 ? 'text-green-800' : 'text-red-800'}`,\n            children: \"Diferencia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-4xl font-bold ${difference === null ? 'text-gray-900' : difference === 0 ? 'text-green-900' : 'text-red-900'}`,\n            children: difference !== null ? `$${difference.toFixed(2)}` : '-'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-3 text-center\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSaveClose,\n            disabled: difference === null || !!error,\n            variant: \"primary\",\n            icon: Archive,\n            children: \"Guardar Cierre de Caja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-700 mb-4\",\n        children: \"Historial de Cierres\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        headers: ['Fecha', 'Monto Esperado', 'Monto Contado', 'Diferencia', 'Usuario'],\n        data: (data === null || data === void 0 ? void 0 : data.history) || [],\n        renderRow: c => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"bg-white border-b hover:bg-gray-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-6 py-4\",\n            children: new Date(c.date + 'T00:00:00').toLocaleDateString('es-AR')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-6 py-4\",\n            children: [\"$\", parseFloat(c.expected_amount).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-6 py-4\",\n            children: [\"$\", parseFloat(c.counted_amount).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: `px-6 py-4 font-bold ${c.difference > 0 ? 'text-green-600' : c.difference < 0 ? 'text-red-600' : 'text-gray-800'}`,\n            children: c.difference > 0 ? `+${parseFloat(c.difference).toFixed(2)}` : parseFloat(c.difference).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-6 py-4\",\n            children: c.user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 29\n          }, this)]\n        }, c.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 588,\n    columnNumber: 9\n  }, this);\n};\n_s11(CierreCaja, \"wwtFvkn835zF878PPe9NgmQmEqU=\");\n_c17 = CierreCaja;\nconst ActualizacionMasivaPrecios = ({\n  products,\n  providers,\n  fetchData\n}) => {\n  _s12();\n  const [selectedProvider, setSelectedProvider] = useState('');\n  const [selectedProducts, setSelectedProducts] = useState(new Set());\n  const [percentage, setPercentage] = useState('');\n  const [updateTarget, setUpdateTarget] = useState('both');\n  const {\n    authTokens\n  } = useContext(AuthContext);\n  const handleSelectAll = filteredProducts => {\n    if (selectedProducts.size === filteredProducts.length) {\n      setSelectedProducts(new Set());\n    } else {\n      setSelectedProducts(new Set(filteredProducts.map(p => p.id)));\n    }\n  };\n  const handleSelectProduct = productId => {\n    const newSelection = new Set(selectedProducts);\n    if (newSelection.has(productId)) {\n      newSelection.delete(productId);\n    } else {\n      newSelection.add(productId);\n    }\n    setSelectedProducts(newSelection);\n  };\n  const handleUpdate = async () => {\n    if (selectedProducts.size === 0 || !percentage || !updateTarget) {\n      alert(\"Por favor, selecciona productos, un porcentaje y un objetivo de actualización.\");\n      return;\n    }\n    const payload = {\n      product_ids: Array.from(selectedProducts),\n      percentage: percentage,\n      update_target: updateTarget\n    };\n    if (window.confirm(`¿Seguro que quieres actualizar ${selectedProducts.size} productos con un ${percentage}% de aumento?`)) {\n      try {\n        const response = await fetch(`${API_URL}/bulk-price-update/`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + String(authTokens.access)\n          },\n          body: JSON.stringify(payload)\n        });\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(JSON.stringify(errorData));\n        }\n        alert('Precios actualizados con éxito.');\n        fetchData();\n        setSelectedProducts(new Set());\n        setPercentage('');\n      } catch (err) {\n        alert(`Error al actualizar precios: ${err.message}`);\n      }\n    }\n  };\n  const filteredProducts = selectedProvider ? products.filter(p => p.provider === parseInt(selectedProvider)) : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Actualizaci\\xF3n Masiva de Precios\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 707,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Filtrar por Proveedor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedProvider,\n            onChange: e => setSelectedProvider(e.target.value),\n            className: \"p-2 border rounded-lg w-full mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Seleccionar Proveedor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 29\n            }, this), providers.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: p.id,\n              children: p.name\n            }, p.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 49\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Porcentaje de Aumento (%)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: percentage,\n            onChange: e => setPercentage(e.target.value),\n            placeholder: \"Ej: 15\",\n            className: \"p-2 border rounded-lg w-full mt-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Actualizar Precio de:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"target\",\n                value: \"cost\",\n                checked: updateTarget === 'cost',\n                onChange: e => setUpdateTarget(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 71\n              }, this), \" Costo\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"target\",\n                value: \"sale\",\n                checked: updateTarget === 'sale',\n                onChange: e => setUpdateTarget(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 71\n              }, this), \" Venta\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"target\",\n                value: \"both\",\n                checked: updateTarget === 'both',\n                onChange: e => setUpdateTarget(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 71\n              }, this), \" Ambos\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleUpdate,\n          disabled: selectedProducts.size === 0 || !percentage,\n          children: [\"Actualizar \", selectedProducts.size, \" Productos\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      headers: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        onChange: () => handleSelectAll(filteredProducts),\n        checked: selectedProducts.size > 0 && filteredProducts.length > 0 && selectedProducts.size === filteredProducts.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 21\n      }, this), 'SKU', 'Nombre', 'Costo Actual', 'Venta Actual'],\n      data: filteredProducts,\n      renderRow: p => /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: \"bg-white border-b hover:bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: selectedProducts.has(p.id),\n            onChange: () => handleSelectProduct(p.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 51\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: p.sku\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: p.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: [\"$\", parseFloat(p.cost_price).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"px-6 py-4\",\n          children: [\"$\", parseFloat(p.sale_price).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 25\n        }, this)]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 732,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 706,\n    columnNumber: 9\n  }, this);\n};\n\n// --- AuthProvider ---\n_s12(ActualizacionMasivaPrecios, \"IGDlXtnCi7aytSv/5i9Uufpi38o=\");\n_c18 = ActualizacionMasivaPrecios;\nconst AuthProvider = ({\n  children\n}) => {\n  _s13();\n  const [authTokens, setAuthTokens] = useState(() => localStorage.getItem('authTokens') ? JSON.parse(localStorage.getItem('authTokens')) : null);\n  const [user, setUser] = useState(() => {\n    const token = localStorage.getItem('authTokens');\n    if (!token) return null;\n    try {\n      return decodeToken(JSON.parse(token).access);\n    } catch (e) {\n      return null;\n    }\n  });\n  const [loading, setLoading] = useState(true);\n  const loginUser = async (username, password) => {\n    const response = await fetch(`${API_URL}/token/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    });\n    const data = await response.json();\n    if (response.ok) {\n      const decodedUser = decodeToken(data.access);\n      setAuthTokens(data);\n      setUser(decodedUser);\n      localStorage.setItem('authTokens', JSON.stringify(data));\n    } else {\n      alert('Usuario o contraseña incorrectos.');\n    }\n  };\n  const logoutUser = useCallback(() => {\n    setAuthTokens(null);\n    setUser(null);\n    localStorage.removeItem('authTokens');\n  }, []);\n  const updateToken = useCallback(async () => {\n    const currentTokens = JSON.parse(localStorage.getItem('authTokens'));\n    if (!(currentTokens !== null && currentTokens !== void 0 && currentTokens.refresh)) {\n      logoutUser();\n      return;\n    }\n    try {\n      const response = await fetch(`${API_URL}/token/refresh/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          'refresh': currentTokens.refresh\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        const newTokens = {\n          ...currentTokens,\n          access: data.access\n        };\n        setAuthTokens(newTokens);\n        setUser(decodeToken(data.access));\n        localStorage.setItem('authTokens', JSON.stringify(newTokens));\n      } else {\n        logoutUser();\n      }\n    } catch {\n      logoutUser();\n    }\n  }, [logoutUser]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (authTokens) updateToken();\n    }, 1000 * 60 * 4);\n    return () => clearInterval(interval);\n  }, [authTokens, updateToken]);\n  useEffect(() => {\n    setLoading(false);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      authTokens,\n      loginUser,\n      logoutUser\n    },\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 792,\n      columnNumber: 98\n    }, this) : children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 792,\n    columnNumber: 13\n  }, this);\n};\n\n// --- Componente Principal ---\n_s13(AuthProvider, \"J7qV0UCwILP8M+TLVwH3GKqVvAE=\");\n_c19 = AuthProvider;\nexport default function AppWrapper() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 796,\n      columnNumber: 62\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 796,\n    columnNumber: 48\n  }, this);\n}\n_c20 = AppWrapper;\nfunction App() {\n  _s14();\n  var _user$groups;\n  const {\n    user,\n    authTokens,\n    logoutUser\n  } = useContext(AuthContext);\n  const [view, setView] = useState('pos');\n  const [adminView, setAdminView] = useState('dashboard');\n  const [products, setProducts] = useState([]);\n  const [sales, setSales] = useState([]);\n  const [providers, setProviders] = useState([]);\n  const [clients, setClients] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [paymentMethods, setPaymentMethods] = useState([]);\n  const isAdmin = user === null || user === void 0 ? void 0 : (_user$groups = user.groups) === null || _user$groups === void 0 ? void 0 : _user$groups.includes('Administradores');\n  const fetchData = useCallback(async () => {\n    if (!authTokens) return;\n    setLoading(true);\n    let endpoints = ['products', 'sales', 'payment-methods'];\n    if (isAdmin) {\n      endpoints.push('providers', 'clients', 'categories', 'users', 'groups');\n    }\n    try {\n      const requests = endpoints.map(endpoint => fetch(`${API_URL}/${endpoint}/`, {\n        headers: {\n          'Authorization': 'Bearer ' + String(authTokens.access)\n        }\n      }).then(res => {\n        if (res.status === 401) {\n          logoutUser();\n          return Promise.reject(new Error(\"Token inválido\"));\n        }\n        if (!res.ok) return Promise.resolve([]);\n        return res.json();\n      }));\n      const data = await Promise.all(requests);\n      const dataMap = Object.fromEntries(endpoints.map((e, i) => [e, data[i]]));\n      setProducts(dataMap.products || []);\n      setSales(dataMap.sales || []);\n      setPaymentMethods(dataMap['payment-methods'] || []);\n      if (isAdmin) {\n        setProviders(dataMap.providers || []);\n        setClients(dataMap.clients || []);\n        setCategories(dataMap.categories || []);\n        setAllUsers(dataMap.users || []);\n        setGroups(dataMap.groups || []);\n      }\n      setError(null);\n    } catch (err) {\n      if (err.message !== \"Token inválido\") {\n        setError(\"No se pudo conectar con el servidor.\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [authTokens, logoutUser, isAdmin]);\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n  useEffect(() => {\n    if (user && !isAdmin) setView('pos');\n  }, [user, isAdmin]);\n  const handleSaleComplete = async (cart, total, paymentMethodId) => {\n    const saleData = {\n      total_amount: total.toFixed(2),\n      details: cart.map(item => ({\n        product_id: item.id,\n        quantity: item.quantity,\n        unit_price: item.price.toFixed(2)\n      })),\n      payment_method_id: paymentMethodId\n    };\n    try {\n      const response = await fetch(`${API_URL}/sales/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + String(authTokens.access)\n        },\n        body: JSON.stringify(saleData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(JSON.stringify(errorData));\n      }\n      alert('Venta registrada.');\n      fetchData();\n    } catch (err) {\n      alert(`Error: ${err.message}`);\n    }\n  };\n  const renderAdminView = () => {\n    switch (adminView) {\n      case 'dashboard':\n        return /*#__PURE__*/_jsxDEV(AdminDashboard, {\n          products: products,\n          sales: sales\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 861,\n          columnNumber: 38\n        }, this);\n      case 'products':\n        return /*#__PURE__*/_jsxDEV(GestionProductos, {\n          products: products,\n          providers: providers,\n          categories: categories,\n          fetchData: fetchData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 862,\n          columnNumber: 37\n        }, this);\n      case 'sales':\n        return /*#__PURE__*/_jsxDEV(GestionVentas, {\n          sales: sales,\n          fetchData: fetchData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 863,\n          columnNumber: 34\n        }, this);\n      case 'providers':\n        return /*#__PURE__*/_jsxDEV(GestionProveedores, {\n          providers: providers,\n          fetchData: fetchData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 38\n        }, this);\n      case 'clients':\n        return /*#__PURE__*/_jsxDEV(GestionClientes, {\n          clients: clients,\n          fetchData: fetchData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 36\n        }, this);\n      case 'reports':\n        return /*#__PURE__*/_jsxDEV(ReportesYEstadisticas, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 866,\n          columnNumber: 36\n        }, this);\n      case 'users':\n        return /*#__PURE__*/_jsxDEV(GestionUsuarios, {\n          allUsers: allUsers,\n          groups: groups,\n          fetchData: fetchData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 867,\n          columnNumber: 34\n        }, this);\n      case 'cash-count':\n        return /*#__PURE__*/_jsxDEV(CierreCaja, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 868,\n          columnNumber: 39\n        }, this);\n      case 'bulk-price-update':\n        return /*#__PURE__*/_jsxDEV(ActualizacionMasivaPrecios, {\n          products: products,\n          providers: providers,\n          fetchData: fetchData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 869,\n          columnNumber: 46\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(AdminDashboard, {\n          products: products,\n          sales: sales\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 870,\n          columnNumber: 29\n        }, this);\n    }\n  };\n  const NavItem = ({\n    icon: Icon,\n    children,\n    onClick,\n    active\n  }) => /*#__PURE__*/_jsxDEV(\"li\", {\n    onClick: onClick,\n    className: `flex items-center gap-3 px-4 py-3 cursor-pointer rounded-lg ${active ? 'bg-indigo-600 text-white' : 'hover:bg-gray-200'}`,\n    children: [/*#__PURE__*/_jsxDEV(Icon, {\n      size: 22\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 874,\n      columnNumber: 226\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-medium\",\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 874,\n      columnNumber: 244\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 874,\n    columnNumber: 69\n  }, this);\n  if (!user) return /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 876,\n    columnNumber: 23\n  }, this);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center\",\n    children: \"Cargando datos...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 877,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center text-red-500\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 878,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-100 font-sans\",\n    children: [isAdmin && view === 'admin' && /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 bg-white shadow-xl flex flex-col p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-indigo-600 px-4 mb-6\",\n        children: [\"MiNegocio\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-light\",\n          children: \"PRO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 884,\n          columnNumber: 91\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 884,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex-grow\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(NavItem, {\n            icon: BarChart2,\n            active: adminView === 'dashboard',\n            onClick: () => setAdminView('dashboard'),\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Package,\n            active: adminView === 'products',\n            onClick: () => setAdminView('products'),\n            children: \"Productos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 887,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: UploadCloud,\n            active: adminView === 'bulk-price-update',\n            onClick: () => setAdminView('bulk-price-update'),\n            children: \"Actualizar Precios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 888,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: DollarSign,\n            active: adminView === 'sales',\n            onClick: () => setAdminView('sales'),\n            children: \"Ventas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 889,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Archive,\n            active: adminView === 'cash-count',\n            onClick: () => setAdminView('cash-count'),\n            children: \"Cierre de Caja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Truck,\n            active: adminView === 'providers',\n            onClick: () => setAdminView('providers'),\n            children: \"Proveedores\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: Users,\n            active: adminView === 'clients',\n            onClick: () => setAdminView('clients'),\n            children: \"Clientes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: BarChart,\n            active: adminView === 'reports',\n            onClick: () => setAdminView('reports'),\n            children: \"Reportes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 893,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n            icon: UserPlus,\n            active: adminView === 'users',\n            onClick: () => setAdminView('users'),\n            children: \"Usuarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 885,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 885,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-auto\",\n        children: /*#__PURE__*/_jsxDEV(NavItem, {\n          icon: ShoppingCart,\n          onClick: () => setView('pos'),\n          children: \"Ir al Punto de Venta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 896,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 883,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white shadow-sm p-4 flex justify-between items-center z-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: isAdmin && view === 'pos' && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setView('admin'),\n            variant: \"secondary\",\n            children: \"Volver al Panel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 56\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-gray-700\",\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 62\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: logoutUser,\n            className: \"text-gray-500 hover:text-red-600\",\n            children: /*#__PURE__*/_jsxDEV(LogOut, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 204\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 130\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 902,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 900,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-6 overflow-y-auto\",\n        children: view === 'pos' || !isAdmin ? /*#__PURE__*/_jsxDEV(PuntoDeVenta, {\n          products: products,\n          paymentMethods: paymentMethods,\n          onSaleComplete: handleSaleComplete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 904,\n          columnNumber: 91\n        }, this) : renderAdminView()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 904,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 899,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 881,\n    columnNumber: 9\n  }, this);\n}\n_s14(App, \"mcfni6W8wyyszKSeI8Mk6EtXa6g=\");\n_c21 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21;\n$RefreshReg$(_c, \"Card\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"Modal\");\n$RefreshReg$(_c4, \"Table\");\n$RefreshReg$(_c5, \"StatCard\");\n$RefreshReg$(_c6, \"LoginPage\");\n$RefreshReg$(_c7, \"PuntoDeVenta\");\n$RefreshReg$(_c8, \"GestionProductos\");\n$RefreshReg$(_c9, \"ProductForm\");\n$RefreshReg$(_c0, \"AdminDashboard\");\n$RefreshReg$(_c1, \"GestionVentas\");\n$RefreshReg$(_c10, \"GestionProveedores\");\n$RefreshReg$(_c11, \"ProviderForm\");\n$RefreshReg$(_c12, \"GestionClientes\");\n$RefreshReg$(_c13, \"ClientForm\");\n$RefreshReg$(_c14, \"ReportesYEstadisticas\");\n$RefreshReg$(_c15, \"GestionUsuarios\");\n$RefreshReg$(_c16, \"UserForm\");\n$RefreshReg$(_c17, \"CierreCaja\");\n$RefreshReg$(_c18, \"ActualizacionMasivaPrecios\");\n$RefreshReg$(_c19, \"AuthProvider\");\n$RefreshReg$(_c20, \"AppWrapper\");\n$RefreshReg$(_c21, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useContext","createContext","useCallback","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Search","PlusCircle","Trash2","Edit","ShoppingCart","DollarSign","Package","Truck","BarChart2","UserPlus","LogOut","CheckCircle","Eye","EyeOff","Users","Activity","TrendingUp","Archive","UploadCloud","jsxDEV","_jsxDEV","API_URL","decodeToken","token","JSON","parse","atob","split","e","console","error","AuthContext","Card","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","Button","onClick","variant","icon","Icon","type","disabled","baseClasses","variants","primary","secondary","danger","success","size","_c2","Modal","isOpen","onClose","title","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","_c3","Table","headers","data","renderRow","map","header","index","scope","item","_c4","StatCard","value","color","subtitle","_c5","LoginPage","_s","loginUser","passwordVisible","setPasswordVisible","handleSubmit","preventDefault","target","username","password","onSubmit","name","required","placeholder","_c6","PuntoDeVenta","products","paymentMethods","onSaleComplete","_s2","_paymentMethods$","cart","setCart","searchTerm","setSearchTerm","isPaymentModalOpen","setPaymentModalOpen","cashReceived","setCashReceived","selectedPaymentMethodId","setSelectedPaymentMethodId","id","filteredProducts","filter","p","toLowerCase","includes","sku","addToCart","product","stock","alert","currentCart","existingItem","find","quantity","price","parseFloat","sale_price","handleProcessPayment","length","subtotal","reduce","sum","selectedMethod","pm","parseInt","adjustmentPercentage","adjustment_percentage","finalTotal","change","onChange","toFixed","c","_c7","GestionProductos","providers","categories","fetchData","_s3","isModalOpen","setModalOpen","editingProduct","setEditingProduct","authTokens","openModalForNew","description","cost_price","category","provider","openModalForEdit","handleSave","productData","isEditing","url","method","response","fetch","String","access","body","stringify","ok","errorData","json","Error","err","message","handleDelete","productId","window","confirm","category_name","ProductForm","onSave","onCancel","_c8","_s4","formData","setFormData","handleChange","prev","step","_c9","AdminDashboard","sales","totalSales","sale","final_amount","chartData","acc","date","Date","date_time","toLocaleDateString","weekday","chartDataFormatted","Object","keys","day","Ventas","width","height","strokeDasharray","dataKey","formatter","_c0","GestionVentas","_s5","viewingSale","setViewingSale","handleCancelSale","saleId","s","toLocaleString","user","details","total_amount","detail","unit_price","payment_method","_c1","GestionProveedores","_s6","editingProvider","setEditingProvider","contact_person","phone_number","email","providerData","providerId","ProviderForm","_c10","_s7","_c11","GestionClientes","clients","_s8","editingClient","setEditingClient","birthday","client","clientData","clientId","ClientForm","_c12","_s9","htmlFor","_c13","ReportesYEstadisticas","_s0","reportData","setReportData","fetchReportData","most_sold_product","total_sold","most_profitable_product","profit_margin","peak_hour","hour","count","_c14","GestionUsuarios","allUsers","groups","_s1","currentUser","userData","userId","user_id","join","UserForm","_c15","_s10","handleGroupChange","selectedOptions","Array","from","option","multiple","g","_c16","CierreCaja","_s11","setData","loading","setLoading","countedAmount","setCountedAmount","setError","responseData","status","history","handleSaveClose","isNaN","counted_amount","expected_amount","difference","_c17","ActualizacionMasivaPrecios","_s12","selectedProvider","setSelectedProvider","selectedProducts","setSelectedProducts","Set","percentage","setPercentage","updateTarget","setUpdateTarget","handleSelectAll","handleSelectProduct","newSelection","has","delete","add","handleUpdate","payload","product_ids","update_target","checked","_c18","AuthProvider","_s13","setAuthTokens","localStorage","getItem","setUser","decodedUser","setItem","logoutUser","removeItem","updateToken","currentTokens","refresh","newTokens","interval","setInterval","clearInterval","Provider","_c19","AppWrapper","App","_c20","_s14","_user$groups","view","setView","adminView","setAdminView","setProducts","setSales","setProviders","setClients","setCategories","setAllUsers","setGroups","setPaymentMethods","isAdmin","endpoints","push","requests","endpoint","then","res","Promise","reject","resolve","all","dataMap","fromEntries","i","users","handleSaleComplete","total","paymentMethodId","saleData","product_id","payment_method_id","renderAdminView","NavItem","active","_c21","$RefreshReg$"],"sources":["C:/Users/Matias/nexus-pro/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useContext, createContext, useCallback } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { Search, PlusCircle, Trash2, Edit, ShoppingCart, DollarSign, Package, Truck, BarChart2, UserPlus, LogOut, CheckCircle, Eye, EyeOff, Users, Activity, TrendingUp, Archive, UploadCloud } from 'lucide-react';\n\nconst API_URL = 'http://127.0.0.1:8000/api';\n\n// --- Función para decodificar JWT de forma segura ---\nconst decodeToken = (token) => {\n    try {\n        return JSON.parse(atob(token.split('.')[1]));\n    } catch (e) {\n        console.error(\"Error decoding token\", e);\n        return null;\n    }\n}\n\n// --- Contexto de Autenticación ---\nconst AuthContext = createContext();\n\n// --- Componentes de la UI ---\nconst Card = ({ children, className = '' }) => <div className={`bg-white rounded-xl shadow-md p-6 ${className}`}>{children}</div>;\nconst Button = ({ children, onClick, className = '', variant = 'primary', icon: Icon, type = 'button', disabled = false }) => {\n  const baseClasses = 'px-4 py-2 rounded-lg font-semibold flex items-center justify-center gap-2 transition-transform transform hover:scale-105';\n  const variants = { primary: 'bg-indigo-600 text-white hover:bg-indigo-700', secondary: 'bg-gray-200 text-gray-800 hover:bg-gray-300', danger: 'bg-red-500 text-white hover:bg-red-600', success: 'bg-green-500 text-white hover:bg-green-600' };\n  return <button type={type} onClick={onClick} disabled={disabled} className={`${baseClasses} ${variants[variant]} ${className} ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`}>{Icon && <Icon size={18} />}{children}</button>;\n};\nconst Modal = ({ children, isOpen, onClose, title }) => {\n    if (!isOpen) return null;\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 relative\">\n                <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">{title}</h2>\n                <button onClick={onClose} className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-800\"><svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path></svg></button>\n                {children}\n            </div>\n        </div>\n    );\n};\nconst Table = ({ headers, data, renderRow }) => (\n    <div className=\"overflow-x-auto bg-white rounded-lg shadow\">\n        <table className=\"w-full text-sm text-left text-gray-500\"><thead className=\"text-xs text-gray-700 uppercase bg-gray-50\"><tr>{headers.map((header, index) => <th key={index} scope=\"col\" className=\"px-6 py-3\">{header}</th>)}</tr></thead><tbody>{data.map((item, index) => renderRow(item, index))}</tbody></table>\n    </div>\n);\nconst StatCard = ({ title, value, icon: Icon, color, subtitle }) => (\n    <Card className={`relative overflow-hidden`}>\n        <div className={`absolute -top-4 -right-4 p-4 rounded-full opacity-20 ${color}`}><Icon size={60} /></div>\n        <h3 className=\"text-gray-500 font-semibold\">{title}</h3>\n        <p className=\"text-3xl font-bold text-gray-800 truncate\" title={value}>{value}</p>\n        {subtitle && <p className=\"text-sm text-gray-500\">{subtitle}</p>}\n    </Card>\n);\n\n// --- Componentes específicos ---\nconst LoginPage = () => {\n    const { loginUser } = useContext(AuthContext);\n    const [passwordVisible, setPasswordVisible] = useState(false);\n    const handleSubmit = (e) => { e.preventDefault(); loginUser(e.target.username.value, e.target.password.value); };\n    return (\n        <div className=\"bg-gray-100 min-h-screen flex items-center justify-center\">\n            <Card className=\"text-center w-full max-w-sm\">\n                <h1 className=\"text-3xl font-bold mb-2 text-indigo-600\">MiNegocio<span className=\"font-light\">PRO</span></h1>\n                <p className=\"text-gray-500 mb-6\">Inicia sesión para continuar</p>\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    <input type=\"text\" name=\"username\" required className=\"w-full p-3 border rounded-lg\" placeholder=\"Nombre de usuario\" />\n                    <div className=\"relative\">\n                        <input type={passwordVisible ? \"text\" : \"password\"} name=\"password\" required className=\"w-full p-3 border rounded-lg pr-10\" placeholder=\"Contraseña\" />\n                        <span onClick={() => setPasswordVisible(!passwordVisible)} className=\"absolute top-1/2 right-3 -translate-y-1/2 cursor-pointer text-gray-400 hover:text-gray-600\">\n                            {passwordVisible ? <EyeOff size={20} /> : <Eye size={20} />}\n                        </span>\n                    </div>\n                    <Button type=\"submit\" className=\"w-full text-lg\" variant=\"primary\">Ingresar</Button>\n                </form>\n            </Card>\n        </div>\n    );\n};\nconst PuntoDeVenta = ({ products, paymentMethods, onSaleComplete }) => {\n    const [cart, setCart] = useState([]);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [isPaymentModalOpen, setPaymentModalOpen] = useState(false);\n    const [cashReceived, setCashReceived] = useState(0);\n    const [selectedPaymentMethodId, setSelectedPaymentMethodId] = useState(paymentMethods[0]?.id || '');\n\n    const filteredProducts = products.filter(p => p.name.toLowerCase().includes(searchTerm.toLowerCase()) || p.sku.toLowerCase().includes(searchTerm.toLowerCase()));\n    \n    const addToCart = (product) => {\n        if (product.stock <= 0) { alert(`El producto \"${product.name}\" no tiene stock.`); return; }\n        setCart(currentCart => {\n            const existingItem = currentCart.find(item => item.id === product.id);\n            if (existingItem) {\n                if (existingItem.quantity >= product.stock) { alert(`No puedes agregar más unidades.`); return currentCart; }\n                return currentCart.map(item => item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item);\n            }\n            return [...currentCart, { ...product, quantity: 1, price: parseFloat(product.sale_price) }];\n        });\n    };\n    \n    const handleProcessPayment = () => {\n        if (cart.length === 0) { alert(\"El carrito está vacío.\"); return; }\n        if (!selectedPaymentMethodId) { alert(\"Por favor, selecciona un método de pago.\"); return; }\n        onSaleComplete(cart, subtotal, selectedPaymentMethodId);\n        setCart([]); setSearchTerm(''); setPaymentModalOpen(false); setCashReceived(0);\n    };\n    \n    const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    \n    const selectedMethod = paymentMethods.find(pm => pm.id === parseInt(selectedPaymentMethodId));\n    const adjustmentPercentage = selectedMethod ? parseFloat(selectedMethod.adjustment_percentage) : 0;\n    const finalTotal = subtotal * (1 + adjustmentPercentage / 100);\n    const change = cashReceived > finalTotal ? cashReceived - finalTotal : 0;\n\n    return (\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-100px)]\">\n            <div className=\"lg:col-span-2 bg-gray-50 p-4 rounded-xl\"><div className=\"relative mb-4\"><Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={20}/><input type=\"text\" placeholder=\"Buscar producto por nombre o SKU...\" className=\"w-full pl-10 pr-4 py-2 border rounded-lg\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} /></div><div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto h-[calc(100%-60px)] pr-2\">{filteredProducts.map(product => (<div key={product.id} onClick={() => addToCart(product)} className={`p-3 rounded-lg shadow-sm border-2 text-center ${product.stock > 0 ? 'cursor-pointer hover:shadow-lg bg-white' : 'bg-gray-200 opacity-60'}`}><p className=\"font-bold text-gray-800 truncate\">{product.name}</p><p className=\"text-sm text-gray-600\">${parseFloat(product.sale_price).toFixed(2)}</p><p className={`text-xs ${product.stock <= 5 ? 'text-red-500 font-bold' : 'text-gray-500'}`}>Stock: {product.stock}</p></div>))}</div></div>\n            <Card className=\"flex flex-col\"><h2 className=\"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2\"><ShoppingCart size={24}/> Venta Actual</h2><div className=\"flex-grow overflow-y-auto border-t border-b py-2\">{cart.length === 0 ? <p className=\"text-gray-500 text-center py-10\">El carrito está vacío</p> : cart.map(item => <div key={item.id} className=\"flex justify-between items-center mb-2 p-2 rounded-md hover:bg-gray-100\"><div><p className=\"font-semibold\">{item.name}</p><p className=\"text-sm text-gray-600\">${item.price.toFixed(2)} x {item.quantity}</p></div><div className=\"flex items-center gap-2\"><p className=\"font-bold\">${(item.price * item.quantity).toFixed(2)}</p><button onClick={() => setCart(cart.filter(c => c.id !== item.id))} className=\"text-red-500 hover:text-red-700\"><Trash2 size={18} /></button></div></div>)}</div><div className=\"mt-auto pt-4\"><div className=\"flex justify-between text-2xl font-bold mb-4\"><span>SUBTOTAL:</span><span>${subtotal.toFixed(2)}</span></div><Button onClick={() => setPaymentModalOpen(true)} className=\"w-full text-lg\" variant=\"success\" icon={CheckCircle}>Cobrar</Button></div></Card>\n            <Modal isOpen={isPaymentModalOpen} onClose={() => setPaymentModalOpen(false)} title=\"Procesar Pago\">\n                <div className=\"space-y-4\">\n                    <div className=\"text-right text-lg\">Subtotal: ${subtotal.toFixed(2)}</div>\n                    <div><label className=\"font-semibold text-gray-700\">Método de Pago</label><select value={selectedPaymentMethodId} onChange={(e) => setSelectedPaymentMethodId(e.target.value)} className=\"w-full mt-1 p-2 border rounded-lg\">{paymentMethods.map(pm => <option key={pm.id} value={pm.id}>{pm.name} ({pm.adjustment_percentage}%)</option>)}</select></div>\n                    {adjustmentPercentage !== 0 && (<div className={`text-right text-lg ${adjustmentPercentage < 0 ? 'text-green-600' : 'text-red-600'}`}>Ajuste: {adjustmentPercentage > 0 ? '+' : ''}{adjustmentPercentage.toFixed(2)}%</div>)}\n                    <div className=\"text-center text-4xl font-bold text-indigo-600 mb-4\">${finalTotal.toFixed(2)}</div>\n                    {selectedMethod?.name === 'Efectivo' && (<div><label className=\"font-semibold text-gray-700\">Efectivo Recibido</label><input type=\"number\" value={cashReceived} onChange={(e) => setCashReceived(parseFloat(e.target.value) || 0)} className=\"w-full mt-1 p-2 border rounded-lg\" placeholder=\"0.00\" />{cashReceived > finalTotal && <p className=\"text-lg font-semibold mt-2 text-green-600\">Vuelto: ${change.toFixed(2)}</p>}</div>)}\n                    <div className=\"flex justify-end gap-3 pt-4\"><Button onClick={() => setPaymentModalOpen(false)} variant=\"secondary\">Cancelar</Button><Button onClick={handleProcessPayment} variant=\"success\">Finalizar Venta</Button></div>\n                </div>\n            </Modal>\n        </div>\n    );\n};\nconst GestionProductos = ({ products, providers, categories, fetchData }) => {\n    const [isModalOpen, setModalOpen] = useState(false);\n    const [editingProduct, setEditingProduct] = useState(null);\n    const { authTokens } = useContext(AuthContext);\n    const openModalForNew = () => { setEditingProduct({ name: '', sku: '', description: '', cost_price: '', sale_price: '', stock: '', category: '', provider: null }); setModalOpen(true); };\n    const openModalForEdit = (product) => { setEditingProduct(product); setModalOpen(true); };\n    const handleSave = async (productData) => {\n        const isEditing = !!productData.id;\n        const url = isEditing ? `${API_URL}/products/${productData.id}/` : `${API_URL}/products/`;\n        const method = isEditing ? 'PUT' : 'POST';\n        if (productData.provider === '') productData.provider = null;\n        try {\n            const response = await fetch(url, { method: method, headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(authTokens.access) }, body: JSON.stringify(productData) });\n            if (!response.ok) { const errorData = await response.json(); throw new Error(JSON.stringify(errorData)); }\n            alert(`Producto ${isEditing ? 'actualizado' : 'creado'}.`); setModalOpen(false); fetchData();\n        } catch (err) { alert(`Error: ${err.message}`); }\n    };\n    const handleDelete = async (productId) => {\n        if (window.confirm(\"¿Estás seguro de que quieres eliminar este producto?\")) {\n            try {\n                await fetch(`${API_URL}/products/${productId}/`, { method: 'DELETE', headers: { 'Authorization': 'Bearer ' + String(authTokens.access) }});\n                alert('Producto eliminado.'); fetchData();\n            } catch (err) { alert(`Error: ${err.message}`); }\n        }\n    };\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\"><h1 className=\"text-3xl font-bold text-gray-800\">Gestión de Productos</h1><Button onClick={openModalForNew} icon={PlusCircle}>Nuevo Producto</Button></div>\n            <Table headers={['SKU', 'Nombre', 'Precio Venta', 'Stock', 'Categoría', 'Acciones']} data={products} renderRow={(p) => (<tr key={p.id} className=\"bg-white border-b hover:bg-gray-50\"><td className=\"px-6 py-4\">{p.sku}</td><td className=\"px-6 py-4\">{p.name}</td><td className=\"px-6 py-4\">${parseFloat(p.sale_price).toFixed(2)}</td><td className=\"px-6 py-4\"><span className={`px-2 py-1 rounded-full text-xs ${p.stock <= 5 ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`}>{p.stock}</span></td><td className=\"px-6 py-4\">{p.category_name}</td><td className=\"px-6 py-4 flex gap-2\"><button onClick={() => openModalForEdit(p)} className=\"text-indigo-600\"><Edit size={20}/></button><button onClick={() => handleDelete(p.id)} className=\"text-red-600\"><Trash2 size={20}/></button></td></tr>)}/>\n            <Modal isOpen={isModalOpen} onClose={() => setModalOpen(false)} title={editingProduct?.id ? 'Editar Producto' : 'Nuevo Producto'}>{editingProduct && <ProductForm product={editingProduct} onSave={handleSave} onCancel={() => setModalOpen(false)} categories={categories} providers={providers}/>}</Modal>\n        </div>\n    );\n};\nconst ProductForm = ({ product, onSave, onCancel, categories, providers }) => {\n    const [formData, setFormData] = useState(product);\n    const handleChange = (e) => { const { name, value } = e.target; setFormData(prev => ({ ...prev, [name]: value })); };\n    return (\n        <form onSubmit={(e) => { e.preventDefault(); onSave(formData); }} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"><input name=\"name\" value={formData.name} onChange={handleChange} placeholder=\"Nombre del producto\" className=\"p-2 border rounded-lg w-full\" required/><input name=\"sku\" value={formData.sku} onChange={handleChange} placeholder=\"SKU\" className=\"p-2 border rounded-lg w-full\" required/></div><textarea name=\"description\" value={formData.description || ''} onChange={handleChange} placeholder=\"Descripción\" className=\"p-2 border rounded-lg w-full min-h-[80px]\"/><div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\"><input name=\"cost_price\" type=\"number\" step=\"0.01\" value={formData.cost_price} onChange={handleChange} placeholder=\"Costo\" className=\"p-2 border rounded-lg w-full\" required/><input name=\"sale_price\" type=\"number\" step=\"0.01\" value={formData.sale_price} onChange={handleChange} placeholder=\"Venta\" className=\"p-2 border rounded-lg w-full\" required/><input name=\"stock\" type=\"number\" value={formData.stock} onChange={handleChange} placeholder=\"Stock\" className=\"p-2 border rounded-lg w-full\" required/></div><div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"><select name=\"category\" value={formData.category} onChange={handleChange} className=\"p-2 border rounded-lg w-full\" required><option value=\"\">Categoría</option>{categories.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}</select><select name=\"provider\" value={formData.provider || ''} onChange={handleChange} className=\"p-2 border rounded-lg w-full\"><option value=\"\">Proveedor</option>{providers.map(p => <option key={p.id} value={p.id}>{p.name}</option>)}</select></div><div className=\"flex justify-end gap-3 pt-4\"><Button type=\"button\" onClick={onCancel} variant=\"secondary\">Cancelar</Button><Button type=\"submit\" variant=\"primary\">Guardar</Button></div>\n        </form>\n    )\n};\nconst AdminDashboard = ({ products, sales }) => {\n    const totalSales = sales.reduce((sum, sale) => sum + parseFloat(sale.final_amount), 0);\n    const chartData = sales.reduce((acc, sale) => { const date = new Date(sale.date_time).toLocaleDateString('es-AR', { weekday: 'short' }); acc[date] = (acc[date] || 0) + parseFloat(sale.final_amount); return acc; }, {});\n    const chartDataFormatted = Object.keys(chartData).map(day => ({ name: day, Ventas: chartData[day] }));\n    return <div className=\"space-y-6\"><h1 className=\"text-3xl font-bold text-gray-800\">Dashboard</h1><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\"><StatCard title=\"Ventas Totales\" value={`$${totalSales.toFixed(2)}`} icon={DollarSign} color=\"bg-green-500\" /><StatCard title=\"Transacciones\" value={sales.length} icon={ShoppingCart} color=\"bg-blue-500\" /><StatCard title=\"Productos Activos\" value={products.length} icon={Package} color=\"bg-purple-500\" /></div><Card><h2 className=\"text-xl font-bold text-gray-800 mb-4\">Ventas de la Semana</h2><ResponsiveContainer width=\"100%\" height={300}><BarChart data={chartDataFormatted}><CartesianGrid strokeDasharray=\"3 3\" /><XAxis dataKey=\"name\" /><YAxis /><Tooltip formatter={(value) => `$${value.toFixed(2)}`} /><Legend /><Bar dataKey=\"Ventas\" fill=\"#4f46e5\" /></BarChart></ResponsiveContainer></Card></div>;\n};\nconst GestionVentas = ({ sales, fetchData }) => {\n    const [viewingSale, setViewingSale] = useState(null);\n    const { authTokens } = useContext(AuthContext);\n\n    const handleCancelSale = async (saleId) => {\n        if (window.confirm(\"¿Estás seguro de que quieres cancelar esta venta? El stock de los productos será restaurado.\")) {\n            try {\n                const response = await fetch(`${API_URL}/sales/${saleId}/`, {\n                    method: 'DELETE',\n                    headers: { 'Authorization': 'Bearer ' + String(authTokens.access) }\n                });\n                if (!response.ok) {\n                    throw new Error(\"No se pudo cancelar la venta.\");\n                }\n                alert('Venta cancelada con éxito.');\n                fetchData();\n            } catch (err) {\n                alert(`Error: ${err.message}`);\n            }\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-3xl font-bold text-gray-800\">Historial de Ventas</h1>\n            <Table\n                headers={['ID', 'Fecha', 'Usuario', 'Items', 'Subtotal', 'Total Final', 'Acciones']}\n                data={sales}\n                renderRow={(s) => (\n                    <tr key={s.id} className=\"bg-white border-b hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\">#{s.id}</td>\n                        <td className=\"px-6 py-4\">{new Date(s.date_time).toLocaleString('es-AR')}</td>\n                        <td className=\"px-6 py-4\">{s.user}</td>\n                        <td className=\"px-6 py-4\">{s.details.length}</td>\n                        <td className=\"px-6 py-4\">${parseFloat(s.total_amount).toFixed(2)}</td>\n                        <td className=\"px-6 py-4 font-bold\">${parseFloat(s.final_amount).toFixed(2)}</td>\n                        <td className=\"px-6 py-4 flex gap-2\">\n                            <Button onClick={() => setViewingSale(s)} variant=\"secondary\" icon={Eye} />\n                            <Button onClick={() => handleCancelSale(s.id)} variant=\"danger\" icon={Trash2} />\n                        </td>\n                    </tr>\n                )}\n            />\n            {viewingSale && (\n                <Modal isOpen={!!viewingSale} onClose={() => setViewingSale(null)} title={`Detalle de Venta #${viewingSale.id}`}>\n                    <div>\n                        <ul className=\"space-y-2\">\n                            {viewingSale.details.map(detail => (\n                                <li key={detail.product.id} className=\"flex justify-between items-center p-2 bg-gray-50 rounded-md\">\n                                    <span>{detail.quantity} x {detail.product.name}</span>\n                                    <span>${(detail.quantity * parseFloat(detail.unit_price)).toFixed(2)}</span>\n                                </li>\n                            ))}\n                        </ul>\n                        <div className=\"mt-4 pt-2 border-t text-right\">\n                            <p>Subtotal: ${parseFloat(viewingSale.total_amount).toFixed(2)}</p>\n                            <p>Método de Pago: {viewingSale.payment_method}</p>\n                            <p className=\"font-bold text-lg\">Total Final: ${parseFloat(viewingSale.final_amount).toFixed(2)}</p>\n                        </div>\n                    </div>\n                </Modal>\n            )}\n        </div>\n    );\n};\nconst GestionProveedores = ({ providers, fetchData }) => {\n    const [isModalOpen, setModalOpen] = useState(false);\n    const [editingProvider, setEditingProvider] = useState(null);\n    const { authTokens } = useContext(AuthContext);\n\n    const openModalForNew = () => {\n        setEditingProvider({ name: '', contact_person: '', phone_number: '', email: '' });\n        setModalOpen(true);\n    };\n\n    const openModalForEdit = (provider) => {\n        setEditingProvider(provider);\n        setModalOpen(true);\n    };\n\n    const handleSave = async (providerData) => {\n        const isEditing = !!providerData.id;\n        const url = isEditing ? `${API_URL}/providers/${providerData.id}/` : `${API_URL}/providers/`;\n        const method = isEditing ? 'PUT' : 'POST';\n\n        try {\n            const response = await fetch(url, {\n                method: method,\n                headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(authTokens.access) },\n                body: JSON.stringify(providerData)\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(JSON.stringify(errorData));\n            }\n            alert(`Proveedor ${isEditing ? 'actualizado' : 'creado'} con éxito.`);\n            setModalOpen(false);\n            fetchData();\n        } catch (err) {\n            alert(`Error al guardar el proveedor: ${err.message}`);\n        }\n    };\n\n    const handleDelete = async (providerId) => {\n        if (window.confirm(\"¿Estás seguro de que quieres eliminar este proveedor?\")) {\n            try {\n                await fetch(`${API_URL}/providers/${providerId}/`, {\n                    method: 'DELETE',\n                    headers: { 'Authorization': 'Bearer ' + String(authTokens.access) }\n                });\n                alert('Proveedor eliminado con éxito.');\n                fetchData();\n            } catch (err) {\n                alert(`Error al eliminar: ${err.message}`);\n            }\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n                <h1 className=\"text-3xl font-bold text-gray-800\">Gestión de Proveedores</h1>\n                <Button onClick={openModalForNew} icon={PlusCircle}>Nuevo Proveedor</Button>\n            </div>\n            <Table\n                headers={['Nombre', 'Contacto', 'Teléfono', 'Email', 'Acciones']}\n                data={providers}\n                renderRow={(provider) => (\n                    <tr key={provider.id} className=\"bg-white border-b hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\">{provider.name}</td>\n                        <td className=\"px-6 py-4\">{provider.contact_person || '-'}</td>\n                        <td className=\"px-6 py-4\">{provider.phone_number || '-'}</td>\n                        <td className=\"px-6 py-4\">{provider.email || '-'}</td>\n                        <td className=\"px-6 py-4 flex gap-2\">\n                            <Button onClick={() => openModalForEdit(provider)} variant=\"secondary\" icon={Edit} />\n                            <Button onClick={() => handleDelete(provider.id)} variant=\"danger\" icon={Trash2} />\n                        </td>\n                    </tr>\n                )}\n            />\n            <Modal isOpen={isModalOpen} onClose={() => setModalOpen(false)} title={editingProvider?.id ? 'Editar Proveedor' : 'Nuevo Proveedor'}>\n                {editingProvider && <ProviderForm provider={editingProvider} onSave={handleSave} onCancel={() => setModalOpen(false)} />}\n            </Modal>\n        </div>\n    );\n};\nconst ProviderForm = ({ provider, onSave, onCancel }) => {\n    const [formData, setFormData] = useState(provider);\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({ ...prev, [name]: value }));\n    };\n\n    return (\n        <form onSubmit={(e) => { e.preventDefault(); onSave(formData); }} className=\"space-y-4\">\n            <input name=\"name\" value={formData.name} onChange={handleChange} placeholder=\"Nombre del proveedor\" className=\"p-2 border rounded-lg w-full\" required />\n            <input name=\"contact_person\" value={formData.contact_person || ''} onChange={handleChange} placeholder=\"Persona de contacto (opcional)\" className=\"p-2 border rounded-lg w-full\" />\n            <input name=\"phone_number\" value={formData.phone_number || ''} onChange={handleChange} placeholder=\"Teléfono (opcional)\" className=\"p-2 border rounded-lg w-full\" />\n            <input name=\"email\" type=\"email\" value={formData.email || ''} onChange={handleChange} placeholder=\"Email (opcional)\" className=\"p-2 border rounded-lg w-full\" />\n            <div className=\"flex justify-end gap-3 pt-4\">\n                <Button type=\"button\" onClick={onCancel} variant=\"secondary\">Cancelar</Button>\n                <Button type=\"submit\" variant=\"primary\">Guardar</Button>\n            </div>\n        </form>\n    );\n};\nconst GestionClientes = ({ clients, fetchData }) => {\n    const [isModalOpen, setModalOpen] = useState(false);\n    const [editingClient, setEditingClient] = useState(null);\n    const { authTokens } = useContext(AuthContext);\n\n    const openModalForNew = () => {\n        setEditingClient({ name: '', phone_number: '', email: '', birthday: null });\n        setModalOpen(true);\n    };\n\n    const openModalForEdit = (client) => {\n        setEditingClient(client);\n        setModalOpen(true);\n    };\n\n    const handleSave = async (clientData) => {\n        const isEditing = !!clientData.id;\n        const url = isEditing ? `${API_URL}/clients/${clientData.id}/` : `${API_URL}/clients/`;\n        const method = isEditing ? 'PUT' : 'POST';\n        \n        if (clientData.email === '') clientData.email = null;\n        if (clientData.phone_number === '') clientData.phone_number = null;\n        if (clientData.birthday === '') clientData.birthday = null;\n\n        try {\n            const response = await fetch(url, {\n                method: method,\n                headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(authTokens.access) },\n                body: JSON.stringify(clientData)\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(JSON.stringify(errorData));\n            }\n            alert(`Cliente ${isEditing ? 'actualizado' : 'creado'} con éxito.`);\n            setModalOpen(false);\n            fetchData();\n        } catch (err) {\n            alert(`Error al guardar el cliente: ${err.message}`);\n        }\n    };\n\n    const handleDelete = async (clientId) => {\n        if (window.confirm(\"¿Estás seguro de que quieres eliminar este cliente?\")) {\n            try {\n                await fetch(`${API_URL}/clients/${clientId}/`, {\n                    method: 'DELETE',\n                    headers: { 'Authorization': 'Bearer ' + String(authTokens.access) }\n                });\n                alert('Cliente eliminado con éxito.');\n                fetchData();\n            } catch (err) {\n                alert(`Error al eliminar: ${err.message}`);\n            }\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n                <h1 className=\"text-3xl font-bold text-gray-800\">Gestión de Clientes</h1>\n                <Button onClick={openModalForNew} icon={PlusCircle}>Nuevo Cliente</Button>\n            </div>\n            <Table\n                headers={['Nombre', 'Teléfono', 'Email', 'Cumpleaños', 'Acciones']}\n                data={clients}\n                renderRow={(client) => (\n                    <tr key={client.id} className=\"bg-white border-b hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\">{client.name}</td>\n                        <td className=\"px-6 py-4\">{client.phone_number || '-'}</td>\n                        <td className=\"px-6 py-4\">{client.email || '-'}</td>\n                        <td className=\"px-6 py-4\">{client.birthday ? new Date(client.birthday + 'T00:00:00').toLocaleDateString('es-AR') : '-'}</td>\n                        <td className=\"px-6 py-4 flex gap-2\">\n                            <Button onClick={() => openModalForEdit(client)} variant=\"secondary\" icon={Edit} />\n                            <Button onClick={() => handleDelete(client.id)} variant=\"danger\" icon={Trash2} />\n                        </td>\n                    </tr>\n                )}\n            />\n            <Modal isOpen={isModalOpen} onClose={() => setModalOpen(false)} title={editingClient?.id ? 'Editar Cliente' : 'Nuevo Cliente'}>\n                {editingClient && <ClientForm client={editingClient} onSave={handleSave} onCancel={() => setModalOpen(false)} />}\n            </Modal>\n        </div>\n    );\n};\nconst ClientForm = ({ client, onSave, onCancel }) => {\n    const [formData, setFormData] = useState(client);\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({ ...prev, [name]: value }));\n    };\n\n    return (\n        <form onSubmit={(e) => { e.preventDefault(); onSave(formData); }} className=\"space-y-4\">\n            <input name=\"name\" value={formData.name} onChange={handleChange} placeholder=\"Nombre del cliente\" className=\"p-2 border rounded-lg w-full\" required />\n            <input name=\"phone_number\" value={formData.phone_number || ''} onChange={handleChange} placeholder=\"Teléfono (opcional)\" className=\"p-2 border rounded-lg w-full\" />\n            <input name=\"email\" type=\"email\" value={formData.email || ''} onChange={handleChange} placeholder=\"Email (opcional)\" className=\"p-2 border rounded-lg w-full\" />\n            <div>\n                <label htmlFor=\"birthday\" className=\"text-sm text-gray-600\">Fecha de Nacimiento (opcional)</label>\n                <input id=\"birthday\" name=\"birthday\" type=\"date\" value={formData.birthday || ''} onChange={handleChange} className=\"p-2 border rounded-lg w-full\" />\n            </div>\n            <div className=\"flex justify-end gap-3 pt-4\">\n                <Button type=\"button\" onClick={onCancel} variant=\"secondary\">Cancelar</Button>\n                <Button type=\"submit\" variant=\"primary\">Guardar</Button>\n            </div>\n        </form>\n    );\n};\nconst ReportesYEstadisticas = () => {\n    const [reportData, setReportData] = useState(null);\n    const { authTokens } = useContext(AuthContext);\n    useEffect(() => {\n        const fetchReportData = async () => {\n            try {\n                const response = await fetch(`${API_URL}/reports/`, { headers: { 'Authorization': 'Bearer ' + String(authTokens.access) } });\n                if (!response.ok) throw new Error('No se pudieron cargar los reportes.');\n                const data = await response.json(); setReportData(data);\n            } catch (error) { console.error(error); }\n        };\n        fetchReportData();\n    }, [authTokens]);\n    if (!reportData) return <div className=\"p-6\">Cargando reportes...</div>;\n    return (\n        <div className=\"space-y-6\"><h1 className=\"text-3xl font-bold text-gray-800\">Reportes y Estadísticas</h1><div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"><StatCard title=\"Producto Más Vendido\" value={reportData.most_sold_product.name} subtitle={`${reportData.most_sold_product.total_sold} u.`} icon={Package} color=\"bg-indigo-500\" /><StatCard title=\"Producto Más Rentable\" value={reportData.most_profitable_product.name} subtitle={`$${parseFloat(reportData.most_profitable_product.profit_margin).toFixed(2)} de margen`} icon={TrendingUp} color=\"bg-green-500\" /><StatCard title=\"Hora Pico de Ventas\" value={reportData.peak_hour.hour !== 'N/A' ? `${reportData.peak_hour.hour}:00 - ${reportData.peak_hour.hour + 1}:00` : 'N/A'} subtitle={`${reportData.peak_hour.count} ventas`} icon={Activity} color=\"bg-amber-500\" /></div></div>\n    );\n};\nconst GestionUsuarios = ({ allUsers, groups, fetchData }) => {\n    const [isModalOpen, setModalOpen] = useState(false);\n    const { authTokens, user: currentUser } = useContext(AuthContext);\n\n    const handleSave = async (userData) => {\n        try {\n            const response = await fetch(`${API_URL}/users/`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(authTokens.access) },\n                body: JSON.stringify(userData),\n            });\n            if (!response.ok) { const errorData = await response.json(); throw new Error(JSON.stringify(errorData)); }\n            alert('Usuario creado con éxito.'); setModalOpen(false); fetchData();\n        } catch (err) { alert(`Error al crear usuario: ${err.message}`); }\n    };\n    \n    const handleDelete = async (userId) => {\n        if (userId === currentUser.user_id) { alert(\"No puedes eliminar tu propia cuenta.\"); return; }\n        if (window.confirm(\"¿Estás seguro de que quieres eliminar este usuario?\")) {\n            try {\n                await fetch(`${API_URL}/users/${userId}/`, { method: 'DELETE', headers: { 'Authorization': 'Bearer ' + String(authTokens.access) }});\n                alert('Usuario eliminado con éxito.'); fetchData();\n            } catch (err) { alert(`Error al eliminar: ${err.message}`); }\n        }\n    };\n    \n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\"><h1 className=\"text-3xl font-bold text-gray-800\">Gestión de Usuarios</h1><Button onClick={() => setModalOpen(true)} icon={UserPlus}>Nuevo Usuario</Button></div>\n            <Table headers={['ID', 'Username', 'Grupos', 'Acciones']} data={allUsers} renderRow={(user) => (<tr key={user.id} className=\"bg-white border-b hover:bg-gray-50\"><td className=\"px-6 py-4\">{user.id}</td><td className=\"px-6 py-4\">{user.username}</td><td className=\"px-6 py-4\">{user.groups.join(', ')}</td><td className=\"px-6 py-4\"><Button onClick={() => handleDelete(user.id)} variant=\"danger\" disabled={user.id === currentUser.user_id} icon={Trash2}/></td></tr>)}/>\n            <Modal isOpen={isModalOpen} onClose={() => setModalOpen(false)} title=\"Crear Nuevo Usuario\"><UserForm onSave={handleSave} onCancel={() => setModalOpen(false)} groups={groups} /></Modal>\n        </div>\n    );\n};\nconst UserForm = ({ onSave, onCancel, groups }) => {\n    const [formData, setFormData] = useState({ username: '', password: '', groups: [] });\n    const handleChange = (e) => { const { name, value } = e.target; setFormData(prev => ({ ...prev, [name]: value })); };\n    const handleGroupChange = (e) => {\n        const selectedOptions = Array.from(e.target.selectedOptions, option => option.value);\n        setFormData(prev => ({...prev, groups: selectedOptions}));\n    };\n    return (\n        <form onSubmit={(e) => { e.preventDefault(); onSave(formData); }} className=\"space-y-4\">\n            <input name=\"username\" value={formData.username} onChange={handleChange} placeholder=\"Nombre de usuario\" className=\"p-2 border rounded-lg w-full\" required />\n            <input name=\"password\" type=\"password\" value={formData.password} onChange={handleChange} placeholder=\"Contraseña\" className=\"p-2 border rounded-lg w-full\" required />\n            <div>\n                <label className=\"block mb-2 text-sm font-medium text-gray-900\">Grupo(s)</label>\n                <select multiple value={formData.groups} onChange={handleGroupChange} className=\"p-2 border rounded-lg w-full\" required>\n                    {groups.map(g => <option key={g.name} value={g.name}>{g.name}</option>)}\n                </select>\n                <p className=\"text-xs text-gray-500 mt-1\">Mantén Ctrl (o Cmd en Mac) para seleccionar más de uno.</p>\n            </div>\n            <div className=\"flex justify-end gap-3 pt-4\"><Button type=\"button\" onClick={onCancel} variant=\"secondary\">Cancelar</Button><Button type=\"submit\" variant=\"primary\">Crear Usuario</Button></div>\n        </form>\n    );\n};\nconst CierreCaja = () => {\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [countedAmount, setCountedAmount] = useState('');\n    const [error, setError] = useState('');\n    const { authTokens } = useContext(AuthContext);\n\n    const fetchData = useCallback(async () => {\n        setLoading(true);\n        setError('');\n        try {\n            const response = await fetch(`${API_URL}/cash-count/`, { headers: { 'Authorization': 'Bearer ' + String(authTokens.access) } });\n            const responseData = await response.json();\n\n            if (!response.ok) {\n                 if (response.status === 409) {\n                     setError(responseData.message);\n                     setData({ history: responseData.history || [] }); \n                 } else {\n                    throw new Error(responseData.detail || 'No se pudieron cargar los datos del cierre de caja.');\n                 }\n            } else {\n                setData(responseData);\n            }\n\n        } catch (error) {\n            setError(error.message);\n        } finally {\n            setLoading(false);\n        }\n    }, [authTokens]);\n\n    useEffect(() => {\n        fetchData();\n    }, [fetchData]);\n\n    const handleSaveClose = async () => {\n        if(countedAmount === '' || isNaN(parseFloat(countedAmount))) {\n            alert(\"Por favor, ingresa un monto contado válido.\");\n            return;\n        }\n        try {\n            const response = await fetch(`${API_URL}/cash-count/`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(authTokens.access) },\n                body: JSON.stringify({\n                    counted_amount: parseFloat(countedAmount),\n                    expected_amount: data.expected_amount\n                })\n            });\n            if (!response.ok) { throw new Error('No se pudo guardar el cierre.'); }\n            alert('¡Cierre de caja guardado con éxito!');\n            fetchData();\n        } catch (err) {\n            alert(`Error: ${err.message}`);\n        }\n    };\n    \n    const difference = data?.expected_amount != null && countedAmount !== '' ? parseFloat(countedAmount) - data.expected_amount : null;\n\n    if (loading) return <div className=\"p-6\">Cargando...</div>;\n    \n    return (\n        <div className=\"space-y-8\">\n            <h1 className=\"text-3xl font-bold text-gray-800\">Cierre de Caja Diario</h1>\n            \n            <Card>\n                <h2 className=\"text-xl font-bold text-gray-700 mb-4\">Cierre del Día ({new Date().toLocaleDateString('es-AR')})</h2>\n                {error && !data?.expected_amount ? (\n                    <div className=\"text-center p-8 bg-yellow-50 rounded-lg\">\n                        <p className=\"text-lg font-semibold text-yellow-700\">{error}</p>\n                    </div>\n                ) : (\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 items-center\">\n                        <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n                            <h3 className=\"text-sm font-semibold text-blue-800 uppercase\">Monto Esperado (Sistema)</h3>\n                            <p className=\"text-4xl font-bold text-blue-900\">${parseFloat(data?.expected_amount || 0).toFixed(2)}</p>\n                        </div>\n                        <div className=\"p-4\">\n                             <label className=\"block text-sm font-medium text-gray-700 mb-1\">Monto Contado en Caja</label>\n                             <input \n                                type=\"number\"\n                                value={countedAmount}\n                                onChange={(e) => setCountedAmount(e.target.value)}\n                                placeholder=\"0.00\"\n                                className=\"w-full p-3 text-2xl text-center border-2 rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\n                             />\n                        </div>\n                         <div className={`text-center p-4 rounded-lg ${difference === null ? 'bg-gray-100' : difference === 0 ? 'bg-green-100' : 'bg-red-100'}`}>\n                            <h3 className={`text-sm font-semibold uppercase ${difference === null ? 'text-gray-800' : difference === 0 ? 'text-green-800' : 'text-red-800'}`}>Diferencia</h3>\n                            <p className={`text-4xl font-bold ${difference === null ? 'text-gray-900' : difference === 0 ? 'text-green-900' : 'text-red-900'}`}>{difference !== null ? `$${difference.toFixed(2)}` : '-'}</p>\n                        </div>\n                        <div className=\"md:col-span-3 text-center\">\n                            <Button onClick={handleSaveClose} disabled={difference === null || !!error} variant=\"primary\" icon={Archive}>Guardar Cierre de Caja</Button>\n                        </div>\n                    </div>\n                )}\n            </Card>\n\n            <div>\n                 <h2 className=\"text-xl font-bold text-gray-700 mb-4\">Historial de Cierres</h2>\n                 <Table\n                    headers={['Fecha', 'Monto Esperado', 'Monto Contado', 'Diferencia', 'Usuario']}\n                    data={data?.history || []}\n                    renderRow={(c) => (\n                        <tr key={c.id} className=\"bg-white border-b hover:bg-gray-50\">\n                            <td className=\"px-6 py-4\">{new Date(c.date + 'T00:00:00').toLocaleDateString('es-AR')}</td>\n                            <td className=\"px-6 py-4\">${parseFloat(c.expected_amount).toFixed(2)}</td>\n                            <td className=\"px-6 py-4\">${parseFloat(c.counted_amount).toFixed(2)}</td>\n                            <td className={`px-6 py-4 font-bold ${c.difference > 0 ? 'text-green-600' : c.difference < 0 ? 'text-red-600' : 'text-gray-800'}`}>\n                                {c.difference > 0 ? `+${parseFloat(c.difference).toFixed(2)}` : parseFloat(c.difference).toFixed(2)}\n                            </td>\n                            <td className=\"px-6 py-4\">{c.user}</td>\n                        </tr>\n                    )}\n                 />\n            </div>\n        </div>\n    );\n};\nconst ActualizacionMasivaPrecios = ({ products, providers, fetchData }) => {\n    const [selectedProvider, setSelectedProvider] = useState('');\n    const [selectedProducts, setSelectedProducts] = useState(new Set());\n    const [percentage, setPercentage] = useState('');\n    const [updateTarget, setUpdateTarget] = useState('both');\n    const { authTokens } = useContext(AuthContext);\n\n    const handleSelectAll = (filteredProducts) => {\n        if (selectedProducts.size === filteredProducts.length) {\n            setSelectedProducts(new Set());\n        } else {\n            setSelectedProducts(new Set(filteredProducts.map(p => p.id)));\n        }\n    };\n    \n    const handleSelectProduct = (productId) => {\n        const newSelection = new Set(selectedProducts);\n        if (newSelection.has(productId)) {\n            newSelection.delete(productId);\n        } else {\n            newSelection.add(productId);\n        }\n        setSelectedProducts(newSelection);\n    };\n\n    const handleUpdate = async () => {\n        if(selectedProducts.size === 0 || !percentage || !updateTarget) {\n            alert(\"Por favor, selecciona productos, un porcentaje y un objetivo de actualización.\");\n            return;\n        }\n\n        const payload = {\n            product_ids: Array.from(selectedProducts),\n            percentage: percentage,\n            update_target: updateTarget\n        };\n\n        if(window.confirm(`¿Seguro que quieres actualizar ${selectedProducts.size} productos con un ${percentage}% de aumento?`)) {\n            try {\n                const response = await fetch(`${API_URL}/bulk-price-update/`, {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(authTokens.access) },\n                    body: JSON.stringify(payload)\n                });\n                if (!response.ok) {\n                    const errorData = await response.json();\n                    throw new Error(JSON.stringify(errorData));\n                }\n                alert('Precios actualizados con éxito.');\n                fetchData();\n                setSelectedProducts(new Set());\n                setPercentage('');\n            } catch (err) {\n                alert(`Error al actualizar precios: ${err.message}`);\n            }\n        }\n    };\n\n    const filteredProducts = selectedProvider ? products.filter(p => p.provider === parseInt(selectedProvider)) : [];\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-3xl font-bold text-gray-800\">Actualización Masiva de Precios</h1>\n            <Card>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Filtrar por Proveedor</label>\n                        <select value={selectedProvider} onChange={(e) => setSelectedProvider(e.target.value)} className=\"p-2 border rounded-lg w-full mt-1\">\n                            <option value=\"\">Seleccionar Proveedor</option>\n                            {providers.map(p => <option key={p.id} value={p.id}>{p.name}</option>)}\n                        </select>\n                    </div>\n                    <div>\n                         <label className=\"block text-sm font-medium text-gray-700\">Porcentaje de Aumento (%)</label>\n                         <input type=\"number\" value={percentage} onChange={(e) => setPercentage(e.target.value)} placeholder=\"Ej: 15\" className=\"p-2 border rounded-lg w-full mt-1\"/>\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700\">Actualizar Precio de:</label>\n                        <div className=\"flex gap-4 mt-2\">\n                           <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"target\" value=\"cost\" checked={updateTarget === 'cost'} onChange={e => setUpdateTarget(e.target.value)}/> Costo</label>\n                           <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"target\" value=\"sale\" checked={updateTarget === 'sale'} onChange={e => setUpdateTarget(e.target.value)}/> Venta</label>\n                           <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"target\" value=\"both\" checked={updateTarget === 'both'} onChange={e => setUpdateTarget(e.target.value)}/> Ambos</label>\n                        </div>\n                    </div>\n                    <Button onClick={handleUpdate} disabled={selectedProducts.size === 0 || !percentage}>Actualizar {selectedProducts.size} Productos</Button>\n                </div>\n            </Card>\n            <Table \n                headers={[\n                    <input type=\"checkbox\" onChange={() => handleSelectAll(filteredProducts)} checked={selectedProducts.size > 0 && filteredProducts.length > 0 && selectedProducts.size === filteredProducts.length}/>, \n                    'SKU', 'Nombre', 'Costo Actual', 'Venta Actual'\n                ]} \n                data={filteredProducts} \n                renderRow={(p) => (\n                    <tr key={p.id} className=\"bg-white border-b hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\"><input type=\"checkbox\" checked={selectedProducts.has(p.id)} onChange={() => handleSelectProduct(p.id)}/></td>\n                        <td className=\"px-6 py-4\">{p.sku}</td>\n                        <td className=\"px-6 py-4\">{p.name}</td>\n                        <td className=\"px-6 py-4\">${parseFloat(p.cost_price).toFixed(2)}</td>\n                        <td className=\"px-6 py-4\">${parseFloat(p.sale_price).toFixed(2)}</td>\n                    </tr>\n                )}\n            />\n        </div>\n    );\n};\n\n// --- AuthProvider ---\nconst AuthProvider = ({ children }) => {\n    const [authTokens, setAuthTokens] = useState(() => localStorage.getItem('authTokens') ? JSON.parse(localStorage.getItem('authTokens')) : null);\n    const [user, setUser] = useState(() => {\n        const token = localStorage.getItem('authTokens');\n        if (!token) return null;\n        try {\n            return decodeToken(JSON.parse(token).access);\n        } catch (e) {\n            return null;\n        }\n    });\n    const [loading, setLoading] = useState(true);\n    const loginUser = async (username, password) => {\n        const response = await fetch(`${API_URL}/token/`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ username, password }) });\n        const data = await response.json();\n        if (response.ok) { \n            const decodedUser = decodeToken(data.access);\n            setAuthTokens(data); \n            setUser(decodedUser); \n            localStorage.setItem('authTokens', JSON.stringify(data)); \n        } else { alert('Usuario o contraseña incorrectos.'); }\n    };\n    const logoutUser = useCallback(() => { setAuthTokens(null); setUser(null); localStorage.removeItem('authTokens'); }, []);\n    const updateToken = useCallback(async () => {\n        const currentTokens = JSON.parse(localStorage.getItem('authTokens'));\n        if (!currentTokens?.refresh) { logoutUser(); return; }\n        try {\n            const response = await fetch(`${API_URL}/token/refresh/`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ 'refresh': currentTokens.refresh }) });\n            const data = await response.json();\n            if (response.ok) {\n                const newTokens = { ...currentTokens, access: data.access };\n                setAuthTokens(newTokens); \n                setUser(decodeToken(data.access));\n                localStorage.setItem('authTokens', JSON.stringify(newTokens));\n            } else { logoutUser(); }\n        } catch { logoutUser(); }\n    }, [logoutUser]);\n    useEffect(() => { const interval = setInterval(() => { if (authTokens) updateToken(); }, 1000 * 60 * 4); return () => clearInterval(interval); }, [authTokens, updateToken]);\n    useEffect(() => { setLoading(false); }, []);\n    return (<AuthContext.Provider value={{ user, authTokens, loginUser, logoutUser }}>{loading ? <div className=\"min-h-screen flex items-center justify-center\">Cargando...</div> : children}</AuthContext.Provider>);\n};\n\n// --- Componente Principal ---\nexport default function AppWrapper() { return (<AuthProvider><App /></AuthProvider>); }\n\nfunction App() {\n    const { user, authTokens, logoutUser } = useContext(AuthContext);\n    const [view, setView] = useState('pos');\n    const [adminView, setAdminView] = useState('dashboard');\n    const [products, setProducts] = useState([]);\n    const [sales, setSales] = useState([]);\n    const [providers, setProviders] = useState([]);\n    const [clients, setClients] = useState([]);\n    const [categories, setCategories] = useState([]);\n    const [allUsers, setAllUsers] = useState([]);\n    const [groups, setGroups] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [paymentMethods, setPaymentMethods] = useState([]);\n\n    const isAdmin = user?.groups?.includes('Administradores');\n\n    const fetchData = useCallback(async () => {\n        if (!authTokens) return;\n        setLoading(true);\n        let endpoints = ['products', 'sales', 'payment-methods'];\n        if (isAdmin) {\n            endpoints.push('providers', 'clients', 'categories', 'users', 'groups');\n        }\n        try {\n            const requests = endpoints.map(endpoint => \n                fetch(`${API_URL}/${endpoint}/`, { headers: { 'Authorization': 'Bearer ' + String(authTokens.access) } }).then(res => {\n                    if(res.status === 401) { logoutUser(); return Promise.reject(new Error(\"Token inválido\")); }\n                    if (!res.ok) return Promise.resolve([]);\n                    return res.json()\n                })\n            );\n            const data = await Promise.all(requests);\n            const dataMap = Object.fromEntries(endpoints.map((e, i) => [e, data[i]]));\n\n            setProducts(dataMap.products || []); \n            setSales(dataMap.sales || []);\n            setPaymentMethods(dataMap['payment-methods'] || []);\n            if(isAdmin) {\n                setProviders(dataMap.providers || []); setClients(dataMap.clients || []); \n                setCategories(dataMap.categories || []); setAllUsers(dataMap.users || []);\n                setGroups(dataMap.groups || []);\n            }\n            setError(null);\n        } catch (err) {\n            if (err.message !== \"Token inválido\") { setError(\"No se pudo conectar con el servidor.\"); }\n        } finally { setLoading(false); }\n    }, [authTokens, logoutUser, isAdmin]); \n\n    useEffect(() => { fetchData(); }, [fetchData]);\n    useEffect(() => { if (user && !isAdmin) setView('pos'); }, [user, isAdmin]);\n\n    const handleSaleComplete = async (cart, total, paymentMethodId) => {\n        const saleData = { total_amount: total.toFixed(2), details: cart.map(item => ({ product_id: item.id, quantity: item.quantity, unit_price: item.price.toFixed(2) })), payment_method_id: paymentMethodId };\n        try {\n            const response = await fetch(`${API_URL}/sales/`, { method: 'POST', headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + String(authTokens.access) }, body: JSON.stringify(saleData) });\n            if (!response.ok) { const errorData = await response.json(); throw new Error(JSON.stringify(errorData)); }\n            alert('Venta registrada.'); fetchData();\n        } catch (err) { alert(`Error: ${err.message}`); }\n    };\n    \n    const renderAdminView = () => {\n        switch (adminView) {\n            case 'dashboard': return <AdminDashboard products={products} sales={sales} />;\n            case 'products': return <GestionProductos products={products} providers={providers} categories={categories} fetchData={fetchData} />;\n            case 'sales': return <GestionVentas sales={sales} fetchData={fetchData}/>;\n            case 'providers': return <GestionProveedores providers={providers} fetchData={fetchData} />;\n            case 'clients': return <GestionClientes clients={clients} fetchData={fetchData} />;\n            case 'reports': return <ReportesYEstadisticas />;\n            case 'users': return <GestionUsuarios allUsers={allUsers} groups={groups} fetchData={fetchData} />;\n            case 'cash-count': return <CierreCaja />;\n            case 'bulk-price-update': return <ActualizacionMasivaPrecios products={products} providers={providers} fetchData={fetchData} />;\n            default: return <AdminDashboard products={products} sales={sales}/>;\n        }\n    };\n\n    const NavItem = ({ icon: Icon, children, onClick, active }) => (<li onClick={onClick} className={`flex items-center gap-3 px-4 py-3 cursor-pointer rounded-lg ${active ? 'bg-indigo-600 text-white' : 'hover:bg-gray-200'}`}><Icon size={22} /><span className=\"font-medium\">{children}</span></li>);\n\n    if (!user) return <LoginPage />;\n    if (loading) return <div className=\"min-h-screen flex items-center justify-center\">Cargando datos...</div>\n    if (error) return <div className=\"min-h-screen flex items-center justify-center text-red-500\">{error}</div>\n\n    return (\n        <div className=\"flex h-screen bg-gray-100 font-sans\">\n            {isAdmin && view === 'admin' && (\n                <aside className=\"w-64 bg-white shadow-xl flex flex-col p-4\">\n                    <h1 className=\"text-2xl font-bold text-indigo-600 px-4 mb-6\">MiNegocio<span className=\"font-light\">PRO</span></h1>\n                    <nav className=\"flex-grow\"><ul className=\"space-y-2\">\n                        <NavItem icon={BarChart2} active={adminView === 'dashboard'} onClick={() => setAdminView('dashboard')}>Dashboard</NavItem>\n                        <NavItem icon={Package} active={adminView === 'products'} onClick={() => setAdminView('products')}>Productos</NavItem>\n                        <NavItem icon={UploadCloud} active={adminView === 'bulk-price-update'} onClick={() => setAdminView('bulk-price-update')}>Actualizar Precios</NavItem>\n                        <NavItem icon={DollarSign} active={adminView === 'sales'} onClick={() => setAdminView('sales')}>Ventas</NavItem>\n                        <NavItem icon={Archive} active={adminView === 'cash-count'} onClick={() => setAdminView('cash-count')}>Cierre de Caja</NavItem>\n                        <NavItem icon={Truck} active={adminView === 'providers'} onClick={() => setAdminView('providers')}>Proveedores</NavItem>\n                        <NavItem icon={Users} active={adminView === 'clients'} onClick={() => setAdminView('clients')}>Clientes</NavItem>\n                        <NavItem icon={BarChart} active={adminView === 'reports'} onClick={() => setAdminView('reports')}>Reportes</NavItem>\n                        <NavItem icon={UserPlus} active={adminView === 'users'} onClick={() => setAdminView('users')}>Usuarios</NavItem>\n                    </ul></nav>\n                    <div className=\"mt-auto\"><NavItem icon={ShoppingCart} onClick={() => setView('pos')}>Ir al Punto de Venta</NavItem></div>\n                </aside>\n            )}\n            <main className=\"flex-1 flex flex-col\">\n                <header className=\"bg-white shadow-sm p-4 flex justify-between items-center z-10\">\n                    <div>{isAdmin && view === 'pos' && <Button onClick={() => setView('admin')} variant=\"secondary\">Volver al Panel</Button>}</div>\n                    <div className=\"flex items-center gap-3\"><span className=\"font-semibold text-gray-700\">{user.username}</span><button onClick={logoutUser} className=\"text-gray-500 hover:text-red-600\"><LogOut size={20} /></button></div>\n                </header>\n                <div className=\"flex-1 p-6 overflow-y-auto\">{view === 'pos' || !isAdmin ? <PuntoDeVenta products={products} paymentMethods={paymentMethods} onSaleComplete={handleSaleComplete} /> : renderAdminView()}</div>\n            </main>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}